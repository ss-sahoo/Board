/*! For license information please see main.c3b54373.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);h&&(o=o.concat(h(n)));for(var s=u(t),v=u(n),g=0;g<o.length;++g){var y=o[g];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=f(n,y);try{c(t,y,m)}catch(b){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case f:case g:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=f,t.Fragment=a,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===m||e.$$typeof===b||e.$$typeof===k||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,F=Object.assign;function V(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,he=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ae(e,t){return e(t)}function Ce(){}var Pe=!1;function De(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==_e||null!==Se)&&(Ce(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Oe=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ve=!1,je=null,Ue={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Le=!1,Fe=null,Me.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,Et,It=!1,Tt=[],At=null,Ct=null,Pt=null,Dt=new Map,Nt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=mi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Ut(){It=!1,null!==At&&Vt(At)&&(At=null),null!==Ct&&Vt(Ct)&&(Ct=null),null!==Pt&&Vt(Pt)&&(Pt=null),Dt.forEach(jt),Nt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&zt(At,e),null!==Ct&&zt(Ct,e),null!==Pt&&zt(Pt,e),Dt.forEach(t),Nt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Lt(At,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=mi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),hn=F({},cn,{view:0,detail:0}),fn=an(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),gn=an(F({},hn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(mn),kn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var In=F({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),An=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Dn),On=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Rn||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Vr(e,0)}function Yn(e){if(G(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,mr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Ar=Er("animationstart"),Cr=Er("transitionend"),Pr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<Dr.length;Or++){var Rr=Dr[Or];Nr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Nr(Ir,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Ar,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ve||(Ve=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=mi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Cn;break;case Ir:case Tr:case Ar:u=yn;break;case Cr:u=Pn;break;case"scroll":u=fn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ne(p,f))&&l.push(Hr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(h=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ki(u),d=null==c?s:ki(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,mi(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=f;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)f=Gr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Gr(l),f=Gr(f)}l=null}else l=null;null!==u&&Qr(o,s,u,l,!1),null!==c&&null!==h&&Qr(o,h,c,l,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Xn;else if(Wn(s))if($n)g=or;else{g=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,mr=null);break;case"focusout":mr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var m;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(m=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),m?b.data=m:null!==(m=zn(n))&&(b.data=m))),(m=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Jt=$t=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Vr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ne(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Ne(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,vi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function mi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ai=Si(Ti),Ci=Si(!1),Pi=Ti;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ci),Ei(Ai)}function Ri(e,t,n){if(Ai.current!==Ti)throw Error(a(168));Ii(Ai,t),Ii(Ci,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ai.current,Ii(Ai,e),Ii(Ci,Ci.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ci),Ei(Ai),Ii(Ai,e)):Ei(Ci),Ii(Ci,n)}var Vi=null,ji=!1,Ui=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!Ui&&null!==Vi){Ui=!0;var e=0,t=bt;try{var n=Vi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Ui=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Xi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw fa(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ga(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ma=null,ba=null,ka=null;function wa(){ka=ba=ma=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ma=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ma)throw Error(a(308));ba=e,ma.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ca(e,r)}function Ca(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ca(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ca(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var h=i.baseState;for(o=0,l=c=u=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=h):l=l.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=h}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Ni(t)?Pi:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Ni(t)?Pi:Ai.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case N:return f(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:h(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return h(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,h=g}if(v===s.length)return n(i,h),ia&&Ji(i,v),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return ia&&Ji(i,v),c}for(h=r(i,h);v<s.length;v++)null!==(g=p(h,i,v,s[v],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function g(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,v=y}if(m.done)return n(i,v),ia&&Ji(i,g),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return ia&&Ji(i,g),l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,g),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Lc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Mc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,u)).return=r,r=a}return s(r);case N:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return g(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Vc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),$a=Ya(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=k.ReactCurrentDispatcher,fo=k.ReactCurrentBatchConfig,po=0,vo=null,go=null,yo=null,mo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=go=null,t.updateQueue=null,ho.current=cs,e=n(r,i)}while(bo)}if(ho.current=os,t=null!==go&&null!==go.next,po=0,yo=go=vo=null,mo=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===go){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Ao(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var h=l.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:h,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,vo.lanes|=h,Fu|=h}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function No(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,jo(9,Ro.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Ca(e,1);null!==t&&rc(t,e,1,-1)}function Vo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==go){var o=go.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Aa(e,t,n,r))){rc(n,e,r,tc()),as(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Aa(e,t,i,r))&&(rc(n,e,r,i=tc()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){bo=mo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var os={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:Vo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Pu.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:Co,useRef:Uo,useState:function(){return Co(Ao)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(To(),go.memoizedState,e)},useTransition:function(){return[Co(Ao)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:Po,useRef:Uo,useState:function(){return Po(Ao)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===go?t.memoizedState=e:Jo(t,go.memoizedState,e)},useTransition:function(){return[Po(Ao)[0],To().memoizedState]},useMutableSource:Do,useSyncExternalStore:No,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),fs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?$a(t,null,n,r):Xa(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ru,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ru,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ru,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ru,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ni(n)?Pi:Ai.current;return a=Di(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function As(e,t,n,r,i){if(Ni(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Ws(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Di(t,c=Ni(n)?Pi:Ai.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Pa=!1;var f=t.memoizedState;o.state=f,Fa(t,r,o,i),u=t.memoizedState,s!==r||f!==u||Ci.current||Pa?("function"===typeof l&&(Ua(t,n,l,r),u=t.memoizedState),(s=Pa||Ba(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ga(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Di(t,u=Ni(n)?Pi:Ai.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&Wa(t,o,r,u),Pa=!1,f=t.memoizedState,o.state=f,Fa(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Ci.current||Pa?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Pa||Ba(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,a,i)}function Cs(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hs(e,t,a);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ds(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Ns,Os,Rs,Ms,Ls={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ls,e):js(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ls,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ca(e,i),rc(r,e,i,-1))}return gc(),Us(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Xi,Gi[Qi++]=$i,Gi[Qi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Rc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function Bs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,a);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ni(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),Ei(Ci),Ei(Ai),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Os(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in me(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in me(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ge(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&he(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&b(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))fa(),da(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[fi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Mu&&(Mu=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Os(e,t),null===e&&Br(t.stateNode.containerInfo),Gs(t),null;case 10:return xa(t.type._context),Gs(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Mu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*$e()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ci),Ei(Ai),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,$s=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[vi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var hu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:$s||eu(n,t);case 6:var r=hu,i=fu;hu=null,du(e,t,n),fu=i,null!==(hu=r)&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hu.removeChild(n.stateNode));break;case 18:null!==hu&&(fu?(e=hu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(hu,n.stateNode));break;case 4:r=hu,i=fu,hu=n.stateNode.containerInfo,fu=!0,du(e,t,n),hu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!$s&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,du(e,t,n),$s=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:hu=u.stateNode,fu=!1;break e;case 3:case 4:hu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===hu)throw Error(a(160));pu(o,s,i),hu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),mu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(g){Ec(e,e.return,g)}try{ru(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(gu(t,e),mu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&$(i,o),be(u,s);var l=be(u,o);for(s=0;s<c.length;s+=2){var h=c[s],f=c[s+1];"style"===h?ge(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(g){Ec(e,e.return,g)}}break;case 6:if(gu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Ec(e,e.return,g)}}break;case 3:if(gu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gu(t,e),mu(e);break;case 13:gu(t,e),mu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=$e())),4&r&&vu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($s=(l=$s)||h,gu(t,e),$s=l):gu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!h&&0!==(1&e.mode))for(Zs=e,h=e.child;null!==h;){for(f=Zs=h;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){xu(f);continue}}null!==p?(p.return=d,Zs=p):xu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gu(t,e),mu(e),4&r&&vu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||$s;s=Xs;var c=$s;if(Xs=o,($s=u)&&!c)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Zs=u):_u(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Xs=s,$s=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):wu(e)}}function wu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ga(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var h=l.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(a(163))}$s||512&t.flags&&au(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function xu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function _u(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){Ec(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Ec(t,i,u)}}var a=t.return;try{au(t)}catch(u){Ec(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){Ec(t,o,u)}}}catch(u){Ec(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,Eu=Math.ceil,Iu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Au=k.ReactCurrentBatchConfig,Cu=0,Pu=null,Du=null,Nu=0,Ou=0,Ru=Si(0),Mu=0,Lu=null,Fu=0,Vu=0,ju=0,Uu=null,zu=null,Bu=0,qu=1/0,Wu=null,Hu=!1,Ku=null,Gu=null,Qu=!1,Yu=null,Xu=0,$u=0,Ju=null,Zu=-1,ec=0;function tc(){return 0!==(6&Cu)?$e():-1!==Zu?Zu:Zu=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Nu?Nu&-Nu:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$u)throw $u=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Cu)&&e===Pu||(e===Pu&&(0===(2&Cu)&&(Vu|=n),4===Mu&&uc(e,Nu)),ic(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(qu=$e()+500,ji&&Bi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Pu?Nu:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(cc.bind(null,e)):zi(cc.bind(null,e)),oi((function(){0===(6&Cu)&&Bi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zu=-1,ec=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ft(e,e===Pu?Nu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cu;Cu|=2;var o=vc();for(Pu===e&&Nu===t||(Wu=null,qu=$e()+500,dc(e,t));;)try{bc();break}catch(u){pc(e,u)}wa(),Iu.current=o,Cu=i,null!==Du?t=0:(Pu=null,Nu=0,t=Mu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,dc(e,0),uc(e,r),ic(e,$e()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Lu,dc(e,0),uc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,zu,Wu);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bu+500-$e())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,zu,Wu),t);break}xc(e,zu,Wu);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,zu,Wu),r);break}xc(e,zu,Wu);break;default:throw Error(a(329))}}}return ic(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zu,zu=n,null!==t&&sc(t)),e}function sc(e){null===zu?zu=e:zu.push.apply(zu,e)}function uc(e,t){for(t&=~ju,t&=~Vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cu))throw Error(a(327));_c();var t=ft(e,0);if(0===(1&t))return ic(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,dc(e,0),uc(e,t),ic(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,zu,Wu),ic(e,$e()),null}function lc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(qu=$e()+500,ji&&Bi())}}function hc(e){null!==Yu&&0===Yu.tag&&0===(6&Cu)&&_c();var t=Cu;Cu|=1;var n=Au.transition,r=bt;try{if(Au.transition=null,bt=1,e)return e()}finally{bt=r,Au.transition=n,0===(6&(Cu=t))&&Bi()}}function fc(){Ou=Ru.current,Ei(Ru)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ci),Ei(Ai),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Pu=e,Du=e=Rc(e.current,null),Nu=Ou=t,Mu=0,Lu=null,ju=Vu=Fu=0,zu=Uu=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Du;try{if(wa(),ho.current=os,mo){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}mo=!1}if(po=0,yo=go=vo=null,bo=!1,ko=0,Tu.current=null,null===n||null===n.return){Mu=1,Lu=t,Du=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Nu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&gs(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){gs(o,l,t),gc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Mu&&(Mu=2),null===Uu?Uu=[o]:Uu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var m=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gu||!Gu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function vc(){var e=Iu.current;return Iu.current=os,null===e?os:e}function gc(){0!==Mu&&3!==Mu&&2!==Mu||(Mu=4),null===Pu||0===(268435455&Fu)&&0===(268435455&Vu)||uc(Pu,Nu)}function yc(e,t){var n=Cu;Cu|=2;var r=vc();for(Pu===e&&Nu===t||(Wu=null,dc(e,t));;)try{mc();break}catch(i){pc(e,i)}if(wa(),Cu=n,Iu.current=r,null!==Du)throw Error(a(261));return Pu=null,Nu=0,Mu}function mc(){for(;null!==Du;)kc(Du)}function bc(){for(;null!==Du&&!Ye();)kc(Du)}function kc(e){var t=Su(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?wc(e):Du=t,Tu.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Du=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Du=n);if(null===e)return Mu=6,void(Du=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Mu&&(Mu=5)}function xc(e,t,n){var r=bt,i=Au.transition;try{Au.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Yu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Du=Pu=null,Nu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Pc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Au.transition,Au.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,Tu.current=null,function(e,t){if(ei=Wt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==o||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++h===r&&(c=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,y=v.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:ga(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bu(n,e,i),Xe(),Cu=u,bt=s,Au.transition=o}else e.current=n;if(Qu&&(Qu=!1,Yu=e,Xu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&Xu)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===Ju?$u++:($u=0,Ju=e):$u=0,Bi()}(e,t,n,r)}finally{Au.transition=i,bt=r}return null}function _c(){if(null!==Yu){var e=kt(Xu),t=Au.transition,n=bt;try{if(Au.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Xu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Zs=l;null!==Zs;){var h=Zs;switch(h.tag){case 0:case 11:case 15:ru(8,h,o)}var f=h.child;if(null!==f)f.return=h,Zs=f;else for(;null!==Zs;){var d=(h=Zs).sibling,p=h.return;if(ou(h),h===l){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var m=o.sibling;if(null!==m){m.return=o.return,Zs=m;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=b;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(x){Ec(u,u.return,x)}if(u===s){Zs=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Zs=w;break e}Zs=u.return}}if(Cu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Au.transition=t}}return!1}function Sc(e,t,n){e=Ra(e,t=ps(0,t=ls(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Ra(t,e=vs(t,e=ls(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Nu&n)===n&&(4===Mu||3===Mu&&(130023424&Nu)===Nu&&500>$e()-Bu?dc(e,0):ju|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Ca(e,t))&&(yt(e,t,n),ic(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ge(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Dc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,o,t);case S:s=8,i|=8;break;case E:return(e=Nc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case C:return(e=Nc(13,n,t,i)).elementType=C,e.lanes=o,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case T:s=9;break e;case A:s=11;break e;case D:s=14;break e;case N:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,a,o,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=zc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ao(t);break;case 1:Ni(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vs(e,t,n):(Ii(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Di(t,Ai.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===D)return 14}return 2}(r),e=ga(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=_s(null,t,r,ga(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ds(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ds(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Vs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ga(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ci.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var h=(l=l.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),_a(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ga(r=t.type,t.pendingProps),_s(e,t,r,i=ga(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ga(r,i),Ws(e,t),t.tag=1,Ni(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(mt(t,1|n),ic(t,$e()),0===(6&Cu)&&(qu=$e()+500,Bi()))}break;case 13:hc((function(){var t=Ca(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},xt=function(e){if(13===e.tag){var t=Ca(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Ca(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=lc,Ce=hc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ie,Te,lc]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(hc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){n(459)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=b.prototype=new m;k.constructor=b,v(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+A(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+A(s=e[c],c);u+=C(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=C(s=s.value,t,i,l=a+A(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},O={transition:null},R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],h=1,f=null,d=3,p=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(g=!1,k(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,g&&(g=!1,m(I),I=-1),p=!0;var a=d;try{for(k(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!C());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),k(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var h=r(l);null!==h&&R(w,h.startTime-n),u=!1}return u}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,I=-1,T=5,A=-1;function C(){return!(t.unstable_now()-A<T)}function P(){if(null!==E){var e=t.unstable_now();A=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"===typeof b)_=function(){b(P)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,N=D.port2;D.port1.onmessage=P,_=function(){N.postMessage(null)}}else _=function(){y(P,0)};function O(e){E=e,S||(S=!0,_())}function R(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(g?(m(I),I=-1):g=!0,R(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=s(null);if(null===h.current){var f={hasValue:!1,value:null};h.current=f}else f=h.current;h=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,h[0],h[1]);return u((function(){f.hasValue=!0,f.value=d}),[d]),l(d),d}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Board/",function(){var e={};n.r(e),n.d(e,{FirebaseError:function(){return vl},SDK_VERSION:function(){return Ih},_DEFAULT_ENTRY_NAME:function(){return dh},_addComponent:function(){return yh},_addOrOverwriteComponent:function(){return mh},_apps:function(){return vh},_clearComponents:function(){return xh},_components:function(){return gh},_getProvider:function(){return kh},_registerComponent:function(){return bh},_removeServiceInstance:function(){return wh},deleteApp:function(){return Ph},getApp:function(){return Ah},getApps:function(){return Ch},initializeApp:function(){return Th},onLog:function(){return Oh},registerVersion:function(){return Nh},setLogLevel:function(){return Rh}});var t=n(791),r=n(250),i=n(248),a=n(327),o=n(164);var s=function(e){e()},u=function(){return s},c=(0,t.createContext)(null);function l(){return(0,t.useContext)(c)}var h=function(){throw new Error("uSES not initialized!")},f=h,d=function(e,t){return e===t};function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=e===c?l:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=f(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(u),u}}var v=p();n(110),n(900);var g={notify:function(){},get:function(){return[]}};function y(e,t){var n,r=g;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=u(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=g)},getListeners:function(){return r}};return o}var m=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var b=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=y(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);m((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||c;return t.createElement(u.Provider,{value:o},i)};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=e===c?l:function(){return(0,t.useContext)(e)};return function(){return n().store}}var w=k();function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?w:k(e);return function(){return t().dispatch}}var _,S=x();function E(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function I(e){return!!e&&!!e[ve]}function T(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ge}(e)||Array.isArray(e)||!!e[pe]||!!(null===(t=e.constructor)||void 0===t?void 0:t[pe])||R(e)||M(e))}function A(e,t,n){void 0===n&&(n=!1),0===C(e)?(n?Object.keys:ye)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function C(e){var t=e[ve];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:R(e)?2:M(e)?3:0}function P(e,t){return 2===C(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function D(e,t){return 2===C(e)?e.get(t):e[t]}function N(e,t,n){var r=C(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function O(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function R(e){return le&&e instanceof Map}function M(e){return he&&e instanceof Set}function L(e){return e.o||e.t}function F(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=me(e);delete t[ve];for(var n=ye(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function V(e,t){return void 0===t&&(t=!1),U(e)||I(e)||!T(e)||(C(e)>1&&(e.set=e.add=e.clear=e.delete=j),Object.freeze(e),t&&A(e,(function(e,t){return V(t,!0)}),!0)),e}function j(){E(2)}function U(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function z(e){var t=be[e];return t||E(18,e),t}function B(e,t){be[e]||(be[e]=t)}function q(){return ue}function W(e,t){t&&(z("Patches"),e.u=[],e.s=[],e.v=t)}function H(e){K(e),e.p.forEach(Q),e.p=null}function K(e){e===ue&&(ue=e.l)}function G(e){return ue={p:[],l:ue,h:e,m:!0,_:0}}function Q(e){var t=e[ve];0===t.i||1===t.i?t.j():t.g=!0}function Y(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||z("ES5").S(t,e,r),r?(n[ve].P&&(H(t),E(4)),T(e)&&(e=X(t,e),t.l||J(t,e)),t.u&&z("Patches").M(n[ve].t,e,t.u,t.s)):e=X(t,n,[]),H(t),t.u&&t.v(t.u,t.s),e!==de?e:void 0}function X(e,t,n){if(U(t))return t;var r=t[ve];if(!r)return A(t,(function(i,a){return $(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return J(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=F(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),A(a,(function(t,a){return $(e,r,i,t,a,n,o)})),J(e,i,!1),n&&e.u&&z("Patches").N(r,n,e.u,e.s)}return r.o}function $(e,t,n,r,i,a,o){if(I(i)){var s=X(e,i,a&&t&&3!==t.i&&!P(t.R,r)?a.concat(r):void 0);if(N(n,r,s),!I(s))return;e.m=!1}else o&&n.add(i);if(T(i)&&!U(i)){if(!e.h.D&&e._<1)return;X(e,i),t&&t.A.l||J(e,i)}}function J(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&V(t,n)}function Z(e,t){var n=e[ve];return(n?L(n):e)[t]}function ee(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function te(e){e.P||(e.P=!0,e.l&&te(e.l))}function ne(e){e.o||(e.o=F(e.t))}function re(e,t,n){var r=R(t)?z("MapSet").F(t,n):M(t)?z("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:q(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=ke;n&&(i=[r],a=we);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):z("ES5").J(t,n);return(n?n.A:q()).p.push(r),r}function ie(e){return I(e)||E(22,e),function e(t){if(!T(t))return t;var n,r=t[ve],i=C(t);if(r){if(!r.P&&(r.i<4||!z("ES5").K(r)))return r.t;r.I=!0,n=ae(t,i),r.I=!1}else n=ae(t,i);return A(n,(function(t,i){r&&D(r.t,t)===i||N(n,t,e(i))})),3===i?new Set(n):n}(e)}function ae(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return F(e)}function oe(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ve];return ke.get(t,e)},set:function(t){var n=this[ve];ke.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ve];if(!i.P)switch(i.i){case 5:r(i)&&te(i);break;case 4:n(i)&&te(i)}}}function n(e){for(var t=e.t,n=e.k,r=ye(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==ve){var o=t[a];if(void 0===o&&!P(t,a))return!0;var s=n[a],u=s&&s[ve];if(u?u.t!==o:!O(s,o))return!0}}var c=!!t[ve];return r.length!==ye(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};B("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=me(n);delete a[ve];for(var o=ye(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:q(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,ve,{value:a,writable:!0}),i},S:function(e,n,i){i?I(n)&&n[ve].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ve];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)A(a,(function(t){t!==ve&&(void 0!==i[t]||P(i,t)?o[t]||e(a[t]):(o[t]=!0,te(n)))})),A(i,(function(e){void 0!==a[e]||P(a,e)||(o[e]=!1,te(n))}));else if(5===s){if(r(n)&&(te(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),h=0;h<l;h++)a.hasOwnProperty(h)||(o[h]=!0),void 0===o[h]&&e(a[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){f=e}(a.useSyncExternalStoreWithSelector),function(e){e}(i.useSyncExternalStore),_=o.unstable_batchedUpdates,s=_;var se,ue,ce="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),le="undefined"!=typeof Map,he="undefined"!=typeof Set,fe="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,de=ce?Symbol.for("immer-nothing"):((se={})["immer-nothing"]=!0,se),pe=ce?Symbol.for("immer-draftable"):"__$immer_draftable",ve=ce?Symbol.for("immer-state"):"__$immer_state",ge=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ye="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,me=Object.getOwnPropertyDescriptors||function(e){var t={};return ye(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},be={},ke={get:function(e,t){if(t===ve)return e;var n=L(e);if(!P(n,t))return function(e,t,n){var r,i=ee(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!T(r)?r:r===Z(e.t,t)?(ne(e),e.o[t]=re(e.A.h,r,e)):r},has:function(e,t){return t in L(e)},ownKeys:function(e){return Reflect.ownKeys(L(e))},set:function(e,t,n){var r=ee(L(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Z(L(e),t),a=null==i?void 0:i[ve];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(O(n,i)&&(void 0!==n||P(e.t,t)))return!0;ne(e),te(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Z(e.t,t)||t in e.t?(e.R[t]=!1,ne(e),te(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=L(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){E(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){E(12)}},we={};A(ke,(function(e,t){we[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),we.deleteProperty=function(e,t){return we.set.call(this,e,t,void 0)},we.set=function(e,t,n){return ke.set.call(this,e[0],t,n,e[0])};var xe=function(){function e(e){var t=this;this.O=fe,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&E(6),void 0!==r&&"function"!=typeof r&&E(7),T(e)){var s=G(t),u=re(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?H(s):K(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return W(s,r),Y(e,s)}),(function(e){throw H(s),e})):(W(s,r),Y(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===de&&(o=void 0),t.D&&V(o,!0),r){var l=[],h=[];z("Patches").M(e,o,l,h),r(l,h)}return o}E(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){T(e)||E(8),I(e)&&(e=ie(e));var t=G(this),n=re(this,e,void 0);return n[ve].C=!0,K(t),n},t.finishDraft=function(e,t){var n=(e&&e[ve]).A;return W(n,t),Y(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!fe&&E(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=z("Patches").$;return I(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),_e=new xe,Se=_e.produce,Ee=(_e.produceWithPatches.bind(_e),_e.setAutoFreeze.bind(_e),_e.setUseProxies.bind(_e),_e.applyPatches.bind(_e),_e.createDraft.bind(_e),_e.finishDraft.bind(_e),Se);function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Te(e){var t=function(e,t){if("object"!==Ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ie(t)?t:String(t)}function Ae(e,t,n){return(t=Te(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ne="function"===typeof Symbol&&Symbol.observable||"@@observable",Oe=function(){return Math.random().toString(36).substring(7).split("").join(".")},Re={INIT:"@@redux/INIT"+Oe(),REPLACE:"@@redux/REPLACE"+Oe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Oe()}};function Me(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Le(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(De(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(De(1));return n(Le)(e,t)}if("function"!==typeof e)throw new Error(De(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(De(3));return a}function h(e){if("function"!==typeof e)throw new Error(De(4));if(u)throw new Error(De(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(De(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!Me(e))throw new Error(De(7));if("undefined"===typeof e.type)throw new Error(De(8));if(u)throw new Error(De(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:Re.INIT}),(r={dispatch:f,subscribe:h,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(De(10));i=e,f({type:Re.REPLACE})}})[Ne]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(De(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Ne]=function(){return this},e},r}function Fe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Re.INIT}))throw new Error(De(12));if("undefined"===typeof n(void 0,{type:Re.PROBE_UNKNOWN_ACTION()}))throw new Error(De(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],h=c(l,t);if("undefined"===typeof h){t&&t.type;throw new Error(De(14))}i[u]=h,r=r||h!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(De(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ve.apply(void 0,a)(n.dispatch),Pe(Pe({},n),{},{dispatch:r})}}}function Ue(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var ze=Ue();ze.withExtraArgument=Ue;var Be=ze,qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),We=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},He=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Ke=Object.defineProperty,Ge=Object.defineProperties,Qe=Object.getOwnPropertyDescriptors,Ye=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,Je=function(e,t,n){return t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ze=function(e,t){for(var n in t||(t={}))Xe.call(t,n)&&Je(e,n,t[n]);if(Ye)for(var r=0,i=Ye(t);r<i.length;r++){n=i[r];$e.call(t,n)&&Je(e,n,t[n])}return e},et=function(e,t){return Ge(e,Qe(t))},tt=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},nt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ve:Ve.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function rt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var it=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return qe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,He([void 0],e[0].concat(this)))):new(t.bind.apply(t,He([void 0],e.concat(this))))},t}(Array),at=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return qe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,He([void 0],e[0].concat(this)))):new(t.bind.apply(t,He([void 0],e.concat(this))))},t}(Array);function ot(e){return T(e)?Ee(e,(function(){})):e}function st(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new it);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Be.withExtraArgument(n.extraArgument)):r.push(Be));0;return r}(e)}}function ut(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ze(Ze({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ct(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var lt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ht=["name","message","stack","code"],ft=function(e,t){this.payload=e,this.meta=t},dt=function(e,t){this.payload=e,this.meta=t},pt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=ht;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=ut(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:et(Ze({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=ut(e+"/pending",(function(e,t,n){return{payload:void 0,meta:et(Ze({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=ut(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||pt)(e||"Rejected"),meta:et(Ze({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):lt(),f=new o;function d(e){l=e,f.abort()}var p=function(){return tt(this,null,(function(){var o,p,v,g,y,m;return We(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:c}),null===(k=g)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(h,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:h,arg:e},{getState:u,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:h,signal:f.signal,abort:d,rejectWithValue:function(e,t){return new ft(e,t)},fulfillWithValue:function(e,t){return new dt(e,t)}})).then((function(t){if(t instanceof ft)throw t;return t instanceof dt?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return v=b.sent(),[3,5];case 4:return m=b.sent(),v=m instanceof ft?a(null,h,e,m.payload,m.meta):a(m,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var k}))}))}();return Object.assign(p,{abort:d,requestId:h,arg:e,unwrap:function(){return p.then(vt)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function vt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var gt="listenerMiddleware";ut(gt+"/add"),ut(gt+"/removeAll"),ut(gt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var yt,mt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:mt(10);oe();var bt=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ot(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?ct(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=Ze(Ze({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?ct(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return ot(e())};else{var c=ot(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=He([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(I(e))return void 0===(r=n(e,t))?e:r;if(T(e))return Ee(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?ut(c,r):ut(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),kt=bt.actions,wt=kt.login,xt=kt.logout,_t=function(e){return e.user.user},St=function(e){var t,n=st(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,h=void 0===l?void 0:l,f=r.enhancers,d=void 0===f?void 0:f;if("function"===typeof a)t=a;else{if(!rt(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Fe(a)}var p=s;"function"===typeof p&&(p=p(n));var v=je.apply(void 0,p),g=Ve;c&&(g=nt(Ze({trace:!1},"object"===typeof c&&c)));var y=new at(v),m=y;return Array.isArray(d)?m=He([v],d):"function"===typeof d&&(m=d(y)),Le(t,h,g.apply(void 0,m))}({reducer:{user:bt.reducer}}),Et=n(184),It=function(){return(0,Et.jsxs)("div",{className:"side-bar",children:[(0,Et.jsx)("h1",{className:"heading",children:"Board."}),(0,Et.jsxs)("div",{className:"menu-section",children:[(0,Et.jsxs)("div",{className:"menu-item",children:[(0,Et.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEBSURBVHgBnVQBEYMwDAx3E8AcdA6QUAlImAQcTMLmgDmYBHBQHIAD5iBLtpQF1hbG3+Ug3/Sb/rUFCAARLUWl8h4/cBQ1hYEUuICiwS+M8IwR57jERApV3HJXauzNyf9ZdfgIdeJFqsAik5Cqd8JfIeBBFel2JiRcruYZJkpJaoh79yOktsm4cXKXxO4QysWSPuO9EmeyLDumhOjzpOgCw1av5iAB5UUM/QE2gLo9rRaR2sD7hJ2guYX/WTU7IWKnY6OSBv6EaqL0RDMpbxepvNGaTF6RhMiIy5cA55e2DnkmNjRKpIitZBZnhoudhH5GWlx7k0SwFCM7NXkQzobmvACY2PlDf5C/0AAAAABJRU5ErkJggg==",alt:"",className:"item-img"}),(0,Et.jsx)("h3",{className:"item-name",children:"Dashboard"})]}),(0,Et.jsxs)("div",{className:"menu-item",children:[(0,Et.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAVCAYAAABLy77vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEKSURBVHgBnZSBEYIwDEXDHQM4AhvoKG6AI7ABOIE4gWwgG6ATwAaOgE5QfyVoiaW0/Lt/LW36aJNriSClVA73yq6HnqcFxQg6oc3gM/y0xCRwgTiKoug4S+KdXMghzBe8u9wVpFUY3xmcBMNMENr9mJfQncXiu4PvcG0DIUefXJEtZ/JoPrLtLKYVsu1Mg3TJtxQoAXv5ldYhrGu+xUGnWgvDmhpudSddC+OrNRSLO8GwCYQHylCYhOjbQGJxKuC5BySFezNAwv6qOQPRKuXf5mBXLrMN0sIb2/knOUJ7gDt25gWZgxnjG+N4boixaEx4z8dq1O85riQkWoAlNDzDOx7Sz0yNe3aTsW+pdxGWvnuU9wAAAABJRU5ErkJggg==",alt:"",className:"item-img"}),(0,Et.jsx)("h3",{className:"item-name",children:"Transcation"})]}),(0,Et.jsxs)("div",{className:"menu-item",children:[(0,Et.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFTSURBVHgBpVSLUcMwDFXuGCAbNBuUDegGeIRsQJmgGSEbJExAOkFgAmACZ4OwgXk6novjmLZJdffOZ32eZFuySEKccwXwCuQJm+rv5R/JAscdlidAnXNiSMQUwDeh9pcsy1pvvCPZAUtFpyOwAXbAF3Ux4UDbA9AgfgvS51Nl7leqoNoc2CeqU9teryTYV4wvvaIFrNwgiP8AeuGRN1SWsl70WgpPKNw0cpsMIeE7UMp6qYFtSCh4pUFWCq7rDcs4IVwQbLA8yl8/HlFMHTr0zHCJqKCvyqgx2h3c21MrLSC0JDKRvqS+v5qQQS5uLeq1ckO7uZawi5tfxzWcMFbZ+EkZLxBOkupvQ7J25hPM8uEM4Sxp4i6tniQMcMxSc+Ar/0FM7iidcH7HVH66qdjoSKObP4yhftkHw9e0PlGQQEV7slC/TBYKK9Sj+x+9w6R03v4Daou5ZhX7suEAAAAASUVORK5CYII=",alt:"",className:"item-img"}),(0,Et.jsx)("h3",{className:"item-name",children:"Schedules"})]}),(0,Et.jsxs)("div",{className:"menu-item",children:[(0,Et.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFESURBVHgBhVQBccMwDHR2A1AGyxAsEBwEM4RBKZOMQToE6RA0DOwhSBh4Uu+Vqqpy1d1f7LckK2/ZIThWa42EgZDrzS7gkhfTmAQtfQZCJPwSToRCWAkd+E9wfdM0xauiIyyEMxKGnWpbwgjfzlvkheNO4MHhj4hpNclajE6CSWk02UrBTTJJcLROGQJH4LIF3W/GFnnyTTiFR72q1kBxXlXDC40/COfg2+pwVq+fwKe5lWZMdBOxMc6O31Wa151d2HoCayLBBZxbNSf6I7R2Fc32jmpXms/BN9ZxblhsGryRY6/K5QrTzu6z7mgc1CL3ajsN1eGMYrBAuw6+cvxJsk7SI0pkTzdpl6zisl6UKzLa/nESSRVDtVfE/NKzRNKYd5fWe0b4F/nLIvJTwqd1AMdPSAT/5T4jJmGCFnO9WQEXvZh//KrT40r76eQAAAAASUVORK5CYII=",alt:"",className:"item-img"}),(0,Et.jsx)("h3",{className:"item-name",children:"Users"})]}),(0,Et.jsxs)("div",{className:"menu-item",children:[(0,Et.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE6SURBVHgBlVSBcYMwDBSZgBHoBnQDNigjMEJGyAZhA7JB2gnIBr5OQDdwNlCl9p18fJhc/k6Hhd7ySwKLFKCqR7Oo//DnXjZQbSQKWH6ZfZjVVVW9yTPYxprWA5Qc4O/hD2v8vAzHZDZjfTFrEG/hOxbwvNwjJ+lB+ATJrSuo7hCP4OuNCwVLLtnVmI2IT6SOW+Cx2dc7s0T4y2wNvWKTN7s1+8YzeIkeT+VibyN0coDMmk46Z2Wd0+nwI/Y1TDp4gHzN+5R6Sf6Pl578nazjinIYtWyBS8sULtTgNK1JHlXfOELj7IhUm530EZdsYm36XNKLOWtiTu4xobW4JwpCshVTiQj2hTakEhfwHQMTRiQ5gaRQ2lIfZ7wP4EWemhQkD0pXh95/2uJV8so14l/9u7wKqOCLbdzi/wJeRxpZSAncuwAAAABJRU5ErkJggg==",alt:"",className:"item-img"}),(0,Et.jsx)("h3",{className:"item-name",children:"Settings"})]})]}),(0,Et.jsxs)("div",{className:"footer",children:[(0,Et.jsx)("h3",{children:"Help"}),(0,Et.jsx)("h3",{children:"Contact Us"})]})]})};var Tt=n.p+"static/media/Vector.9b2c3e5e81e662392dd791a39114683c.svg",At=function(){return(0,Et.jsxs)("div",{className:"header",children:[(0,Et.jsx)("h2",{className:"heading",children:"Dashboard"}),(0,Et.jsxs)("div",{className:"header-right",children:[(0,Et.jsx)("input",{type:"search",name:"search",id:"search",placeholder:"Search..."}),(0,Et.jsx)("img",{src:Tt,alt:""}),(0,Et.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAnhSURBVHgBjVdpbByFFf7m2NnbO7tre33jtYNDLsckkCahEKfQBlRaUhBHWwqhUqW0UhVHVQX9B+qPtlIRQf1VVVUS0apQVNW0FIKUltA2OCSYOI7Bjo9k7fWx671mr7lntm8GCaktgYw93mNm3vG9733vmcENHI3SNdH0NQ+pucUH6qXMsFIu9V6emhQDXh/C8YSkVUoTuVptIiSK7xz41tHRG7HJfNbFt4+/IDY1h4503bxpJBxtE+VaFYWVa7A0GdVsGqauQTUaaPBe9A7cggbjwdyV6VTdZE50tYZO7vnG91PXs81d78KlUyeP1OTqKMOw90Zb23zeoAhNqcGmc/zsv3HqzDj+fvEa/jaewtTCKuZWsojF4/SkLfYlk8OVqn5w57at5Tff/tfEDWd84hcjL/i9/hFFkdHV3YPb9x2AyQawdP4tnHzlr3j53XlYDYaytSHwLHSbsqbnejub8d3778TG3h6s5fNYy+Xh83iP/finvzz6uY6f+cHB49Fg8JBP8IHnOOzYdguCjIn3zk9h7EoaL51Nw6b7/BwDx51JH1iGzNApeDkk26LYP9QHhuVcOJ1XRdNO/Oq3v3/qulA///STL1TqtcOaboClB+LhIG7fvRPTH5zHm+PzGH1/FXf0NmHknm344fAmPHpbEtsSIciEzEpFh2k14A8IGOjuhIdjQbZQrFRQVbWhjQP94vTM/Fv/l/Efn3/mkN8vHF9eW0Nd1eDz+RBpimFDogkvvf5P1JQG2v0sfvTEg/DyAhHLgEWObPDkQMHZ6QU887tTKCgG+juieHDfrciXClBVFaVanWzqUDXr6NjZsWOfZPyzkcd6GZY5rhqmWCxX3UAEMn5TLILfvH6OIF5DtS7j6ce+jER7B2zLgscfBEflACHjnIlEO9ojYZy+NINELIxt/d1gyY6XMrcpQM0wHch3tzS3/jqTyajsx/naT5bK5d71QoFu0CFrKoICg/RyGmPTi6hrGm6KBtDV2QFJtXDhWg7/GJ9GrlgE5+FgNhqQyfj+fcPY2NOGtngUhmUiL0nus5ZtwzAtYgQrsjw74njknT9L64VDDM8jTPDyFD3DcAgF/FgulmGTUfrFzv4O5CsKzoy9DaVaxdraKlaaw7hzaBB/GpvA+WUZm7cPoSUWJcJZ8Hq8iIkxSNT7OiHkQF3XDMf+keHh4WP8Q/fvOVioyr2KZcPLsvALXoSDAVzNFNEmEnGoZXyEy717tsOu5sDUypjOKpBKFvb2ixD7tsI4fRbRgAf+apZsWNAoUMEjIBAMwqLEGhT5OpXQqGuw2YZYq9WGuJ1b+g4HvZ7dHp6Dn252XnV60EPvd23bgLHJlEvB7x28B0G/Hx0tMXR7Tdze143BoZ1o2bQDrM2A12qQWS8szgubI3YLHMpyjdBjiO0mSoRSVTagmW5gZe7u3ZuebgoGegWC2Cd43Burmg6FWHtXpw9BEooyMfWJh76KcHsPYl196LkpiSChEEkOwCpLiHT2YaC9GfvuOQCLFO7yzGVyJKFUqRLEKtaIO9lyHZKsU61tajXOx3t4YUg3HNbZbrYc5yEmEhFsE2qsH4/0ZPDwgYdhVQqwSzmYBPXc5EViuYGlM2NYXlmG2dSKLREW2/dUEPfFoFPQqmm4fe3hTeSkKmTdJJsEHiVCZOzly4omKppJLLRJBkmJCArFaReBx2JWwvbBuyA7vDdUrC/Mol6R8OFSBnfc+SUkKBufxyYkbkallMWf//IaWrfvRU2WoZKMOiLEEeyM21YceCILEZwUkdhdrKtQDAPO5ZKsYlmSkc7XsZKX8db7l5ChXq1I68RukBjI0Ehclqt1vDF2Acuqib69dyNNkL4xlXIsIkuwUg7kkKXSCeDIOcvyCPkEiEE/BUpdQyTmNg8kRwhin9M2lCxBZLrir1EtOPouW6lj865d8AejKM7PQCbHW/s2oKejGzZBWEgtIRJphp+It7FDxFS2jFSx4jptCoaprTwUiIUAfXYGSk01iD+mxJbrSsrpMdOZMMzHos5TVEFqD5ZhcXE2hdVCGbVKDmvFgls7u2HAy2jgGAXr0goyq/NIJmJYKNZwaZW4QIacH4syMSkBp7Z1Raee1omoOiqKPsGLTcF3bMscylYVqjGNOaoFS05bwn4wNoc8wTr+4QIS/XFMptcR9nowGBLR0ZNAKBxHJNoB3S8iXSphtkblog5QKBHGmZMkRI76qISSQ16ZsjUsl2CX+P5462hJrR4pUHPXNYvuZSGSajX5AyT+qjtlslKNloAQWsQmTF5dQ7o4Ce8HM5CqMhkjDWYEVLkg0gaHzs4esISIVC5T6cgLBaCQwyrd59zrlJDKeoZXTXWiphlSyMeLDqs9VBOeINYpQpvgMun0hsLU3zzioQA64mEsZIjZ6yWsVm2sqw0kAoQSL2OxYmBueR1bBnpIfAahKArq9bqbKSs0oJsVqq+W0jOzo9y5iRm1pbXF7+H5YYcIIa/XjdIRkZ7uLmzsvxld7V24eO4CbiO9TkRFNCwdWSKQRv0fFeBK7VzJdGENNwWox+tYSGdRIJmsyBo2bujH4KZb8O0H7kNrTHxx/MK5M+6QIDU+5vPxRwSPV3Q2imgsjnhzGzrbOvHKm6cRubqK9dlFfG1HLwRi/dZkF0Tq37nlPIokg3+YtdwNhBc+3itUmmAeuu4MC5PeX7wyhz5aDlZzhVRLLH7ik3mcSqXUXTu3aHu+sPfecFMcsWg75peyJH1XiYF10lgZEinVUCdlq9cxv5JBjuqbJ5YuN0K4vK6545ElPljUHTadTh87JKspGrxeARqNx0KldvSNl4+f+a/VZ+Ly7LknH308upQp7l5czdL2UMZKjsSA1GBhNedC1r1lBwxfBKmajUU7AqF3K15/f8Ede84k8RHj3cwpCGf+OpLlPG8QSvT9i7Pvnv75p+5cr7722qlIa2dSM82hTKFEu5RKvc24MuoYaGtrw3pFQ5YIlS5USGh0LFFQjhLRBoNg0AeOREIgrqjEEaePbdvdBk9mL793+LrLnnPMzUyNspFY1JCN3a2RIKoElWMo6PeSWrUh0dKMaFMEm/uSpEwBTF9NwaD+93p4CKROzmZq0JqjEswNGhKWYb2oLE0d/l8/n7rQ55dTp+774q7Fp75y21ChVBUrlK1Ts0JJwuSVq/jO1+9Df28nLn70EZZWHB13rnPuPRrpvkaTyFB1ibj1Eyt35dlP88HiOsdLr7564tbBDfu3drc9J4BJiZEQKjWZCKPQykpzlpDISWVn0riS6GwZdRoyBLFkWdZzlq4n7fyVY9ezz+MzjuT+b6bo5VnnfOTxQwdnrqWHmyPR7cnu9iH6L0HkqLakQhJlmlJ1w5HeUQJ7QlqakPA5x38A6XQm+rFkZUAAAAAASUVORK5CYII=",alt:""})]})]})};var Ct=n.p+"static/media/total_revenues_icon.c547147df8c9f3579fb13ff56997fdab.svg",Pt=function(e){var t=e.cardImage,n=e.title,r=e.number,i=e.background;return(0,Et.jsxs)("div",{className:"card",style:{backgroundColor:i},children:[(0,Et.jsx)("img",{src:t,alt:"",className:"card-image"}),(0,Et.jsx)("h3",{className:"card-heading",children:n}),(0,Et.jsx)("h3",{className:"card-total-number",children:r})]})};var Dt=n.p+"static/media/total_transactions_icon.7f57ae48a8ed19d44941095dad128c7a.svg";var Nt=n.p+"static/media/total_likes_icon.149881ea0c81a84de22d7535a4aee8a0.svg";var Ot=n.p+"static/media/total_users_icon.5014fd8a56bd87c41338fa066a1dcb36.svg";function Rt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return Lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Lt(e)}function Ft(){return Ft="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ft.apply(this,arguments)}function Vt(e,t){return Vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vt(e,t)}function jt(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vt(e,t)}function Ut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zt(e){var t=Ut();return function(){var n,r=Lt(e);if(t){var i=Lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ie(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mt(e)}(this,n)}}function Bt(e){if(Array.isArray(e))return e}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e,t){if(e){if("string"===typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}function Ht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kt(e,t){return Bt(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Wt(e,t)||Ht()}function Gt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Wt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Qt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Yt(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||Qt(e)||Wt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function Jt(e,t,n){return t&&$t(e.prototype,t),n&&$t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zt(e){return e+.5|0}var en=function(e,t,n){return Math.max(Math.min(e,n),t)};function tn(e){return en(Zt(2.55*e),0,255)}function nn(e){return en(Zt(255*e),0,255)}function rn(e){return en(Zt(e/2.55)/100,0,1)}function an(e){return en(Zt(100*e),0,100)}var on={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sn=Yt("0123456789ABCDEF"),un=function(e){return sn[15&e]},cn=function(e){return sn[(240&e)>>4]+sn[15&e]},ln=function(e){return(240&e)>>4===(15&e)};function hn(e){var t=function(e){return ln(e.r)&&ln(e.g)&&ln(e.b)&&ln(e.a)}(e)?un:cn;return e?"#"+t(e.r)+t(e.g)+t(e.b)+function(e,t){return e<255?t(e):""}(e.a,t):void 0}var fn=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dn(e,t,n){var r=t*Math.min(n,1-n),i=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function pn(e,t,n){var r=function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function vn(e,t,n){var r,i=dn(e,1,.5);for(t+n>1&&(t*=r=1/(t+n),n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function gn(e){var t,n,r,i=e.r/255,a=e.g/255,o=e.b/255,s=Math.max(i,a,o),u=Math.min(i,a,o),c=(s+u)/2;return s!==u&&(r=s-u,n=c>.5?r/(2-s-u):r/(s+u),t=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(i,a,o,r,s),t=60*t+.5),[0|t,n||0,c]}function yn(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(nn)}function mn(e,t,n){return yn(dn,e,t,n)}function bn(e){return(e%360+360)%360}function kn(e){var t,n=fn.exec(e),r=255;if(n){n[5]!==t&&(r=n[6]?tn(+n[5]):nn(+n[5]));var i=bn(+n[2]),a=+n[3]/100,o=+n[4]/100;return t="hwb"===n[1]?function(e,t,n){return yn(vn,e,t,n)}(i,a,o):"hsv"===n[1]?function(e,t,n){return yn(pn,e,t,n)}(i,a,o):mn(i,a,o),{r:t[0],g:t[1],b:t[2],a:r}}}var wn,xn={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_n={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Sn(e){wn||(wn=function(){var e,t,n,r,i,a={},o=Object.keys(_n),s=Object.keys(xn);for(e=0;e<o.length;e++){for(r=i=o[e],t=0;t<s.length;t++)n=s[t],i=i.replace(n,xn[n]);n=parseInt(_n[r],16),a[i]=[n>>16&255,n>>8&255,255&n]}return a}(),wn.transparent=[0,0,0,0]);var t=wn[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}var En=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var In=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},Tn=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};function An(e,t,n){if(e){var r=gn(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=mn(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Cn(e,t){return e?Object.assign(t||{},e):e}function Pn(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=nn(e[3]))):(t=Cn(e,{r:0,g:0,b:0,a:1})).a=nn(t.a),t}function Dn(e){return"r"===e.charAt(0)?function(e){var t,n,r,i=En.exec(e),a=255;if(i){if(i[7]!==t){var o=+i[7];a=i[8]?tn(o):en(255*o,0,255)}return t=+i[1],n=+i[3],r=+i[5],{r:t=255&(i[2]?tn(t):en(t,0,255)),g:n=255&(i[4]?tn(n):en(n,0,255)),b:r=255&(i[6]?tn(r):en(r,0,255)),a:a}}}(e):kn(e)}var Nn=function(){function e(t){if(Xt(this,e),t instanceof e)return t;var n,r=typeof t;"object"===r?n=Pn(t):"string"===r&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*on[e[1]],g:255&17*on[e[2]],b:255&17*on[e[3]],a:5===n?17*on[e[4]]:255}:7!==n&&9!==n||(t={r:on[e[1]]<<4|on[e[2]],g:on[e[3]]<<4|on[e[4]],b:on[e[5]]<<4|on[e[6]],a:9===n?on[e[7]]<<4|on[e[8]]:255})),t}(t)||Sn(t)||Dn(t)),this._rgb=n,this._valid=!!n}return Jt(e,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var e=Cn(this._rgb);return e&&(e.a=rn(e.a)),e},set:function(e){this._rgb=Pn(e)}},{key:"rgbString",value:function(){return this._valid?function(e){return e&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(rn(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"))}(this._rgb):void 0}},{key:"hexString",value:function(){return this._valid?hn(this._rgb):void 0}},{key:"hslString",value:function(){return this._valid?function(e){if(e){var t=gn(e),n=t[0],r=an(t[1]),i=an(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(rn(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}}(this._rgb):void 0}},{key:"mix",value:function(e,t){if(e){var n,r=this.rgb,i=e.rgb,a=t===n?.5:t,o=2*a-1,s=r.a-i.a,u=((o*s===-1?o:(o+s)/(1+o*s))+1)/2;n=1-u,r.r=255&u*r.r+n*i.r+.5,r.g=255&u*r.g+n*i.g+.5,r.b=255&u*r.b+n*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}},{key:"interpolate",value:function(e,t){return e&&(this._rgb=function(e,t,n){var r=Tn(rn(e.r)),i=Tn(rn(e.g)),a=Tn(rn(e.b));return{r:nn(In(r+n*(Tn(rn(t.r))-r))),g:nn(In(i+n*(Tn(rn(t.g))-i))),b:nn(In(a+n*(Tn(rn(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}},{key:"clone",value:function(){return new e(this.rgb)}},{key:"alpha",value:function(e){return this._rgb.a=nn(e),this}},{key:"clearer",value:function(e){return this._rgb.a*=1-e,this}},{key:"greyscale",value:function(){var e=this._rgb,t=Zt(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}},{key:"opaquer",value:function(e){return this._rgb.a*=1+e,this}},{key:"negate",value:function(){var e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}},{key:"lighten",value:function(e){return An(this._rgb,2,e),this}},{key:"darken",value:function(e){return An(this._rgb,2,-e),this}},{key:"saturate",value:function(e){return An(this._rgb,1,e),this}},{key:"desaturate",value:function(e){return An(this._rgb,1,-e),this}},{key:"rotate",value:function(e){return function(e,t){var n=gn(e);n[0]=bn(n[0]+t),n=mn(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}]),e}();function On(){}var Rn=function(){var e=0;return function(){return e++}}();function Mn(e){return null===e||"undefined"===typeof e}function Ln(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Fn(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Vn(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function jn(e,t){return Vn(e)?e:t}function Un(e,t){return"undefined"===typeof e?t:e}var zn=function(e,t){return"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e};function Bn(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function qn(e,t,n,r){var i,a,o;if(Ln(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(Fn(e))for(a=(o=Object.keys(e)).length,i=0;i<a;i++)t.call(n,e[o[i]],o[i])}function Wn(e,t){var n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Hn(e){if(Ln(e))return e.map(Hn);if(Fn(e)){for(var t=Object.create(null),n=Object.keys(e),r=n.length,i=0;i<r;++i)t[n[i]]=Hn(e[n[i]]);return t}return e}function Kn(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Gn(e,t,n,r){if(Kn(e)){var i=t[e],a=n[e];Fn(i)&&Fn(a)?Qn(i,a,r):t[e]=Hn(a)}}function Qn(e,t,n){var r=Ln(t)?t:[t],i=r.length;if(!Fn(e))return e;for(var a,o=(n=n||{}).merger||Gn,s=0;s<i;++s)if(Fn(a=r[s]))for(var u=Object.keys(a),c=0,l=u.length;c<l;++c)o(u[c],e,a,n);return e}function Yn(e,t){return Qn(e,t,{merger:Xn})}function Xn(e,t,n){if(Kn(e)){var r=t[e],i=n[e];Fn(r)&&Fn(i)?Yn(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Hn(i))}}var $n={"":function(e){return e},x:function(e){return e.x},y:function(e){return e.y}};function Jn(e){var t=function(e){var t,n=[],r="",i=Gt(e.split("."));try{for(i.s();!(t=i.n()).done;)(r+=t.value).endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="")}catch(a){i.e(a)}finally{i.f()}return n}(e);return function(e){var n,r=Gt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(""===i)break;e=e&&e[i]}}catch(a){r.e(a)}finally{r.f()}return e}}function Zn(e,t){return($n[t]||($n[t]=Jn(t)))(e)}function er(e){return e.charAt(0).toUpperCase()+e.slice(1)}var tr=function(e){return"undefined"!==typeof e},nr=function(e){return"function"===typeof e},rr=function(e,t){if(e.size!==t.size)return!1;var n,r=Gt(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.has(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0};var ir=Math.PI,ar=2*ir,or=ar+ir,sr=Number.POSITIVE_INFINITY,ur=ir/180,cr=ir/2,lr=ir/4,hr=2*ir/3,fr=Math.log10,dr=Math.sign;function pr(e,t,n){return Math.abs(e-t)<n}function vr(e){var t=Math.round(e);e=pr(e,t,e/1e3)?t:e;var n=Math.pow(10,Math.floor(fr(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function gr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function yr(e,t,n){var r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function mr(e){return e*(ir/180)}function br(e){return e*(180/ir)}function kr(e){if(Vn(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}}function wr(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),a=Math.atan2(r,n);return a<-.5*ir&&(a+=ar),{angle:a,distance:i}}function xr(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function _r(e,t){return(e-t+or)%ar-ir}function Sr(e){return(e%ar+ar)%ar}function Er(e,t,n,r){var i=Sr(e),a=Sr(t),o=Sr(n),s=Sr(a-i),u=Sr(o-i),c=Sr(i-a),l=Sr(i-o);return i===a||i===o||r&&a===o||s>u&&c<l}function Ir(e,t,n){return Math.max(t,Math.min(n,e))}function Tr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Ar(e,t,n){n=n||function(n){return e[n]<t};for(var r,i=e.length-1,a=0;i-a>1;)n(r=a+i>>1)?a=r:i=r;return{lo:a,hi:i}}var Cr=function(e,t,n,r){return Ar(e,n,r?function(r){var i=e[r][t];return i<n||i===n&&e[r+1][t]===n}:function(r){return e[r][t]<n})},Pr=function(e,t,n){return Ar(e,n,(function(r){return e[r][t]>=n}))};var Dr=["push","pop","shift","splice","unshift"];function Nr(e,t){var n=e._chartjs;if(n){var r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(Dr.forEach((function(t){delete e[t]})),delete e._chartjs)}}function Or(e){var t=new Set(e);return t.size===e.length?e:Array.from(t)}var Rr="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Mr(e,t){var n=[],r=!1;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];n=a,r||(r=!0,Rr.call(window,(function(){r=!1,e.apply(t,n)})))}}var Lr=function(e){return"start"===e?"left":"end"===e?"right":"center"},Fr=function(e,t,n){return"start"===e?t:"end"===e?n:(t+n)/2};function Vr(e,t,n){var r=t.length,i=0,a=r;if(e._sorted){var o=e.iScale,s=e._parsed,u=o.axis,c=o.getUserBounds(),l=c.min,h=c.max,f=c.minDefined,d=c.maxDefined;f&&(i=Ir(Math.min(Cr(s,o.axis,l).lo,n?r:Cr(t,u,o.getPixelForValue(l)).lo),0,r-1)),a=d?Ir(Math.max(Cr(s,o.axis,h,!0).hi+1,n?0:Cr(t,u,o.getPixelForValue(h),!0).hi+1),i,r)-i:r-i}return{start:i,count:a}}function jr(e){var t=e.xScale,n=e.yScale,r=e._scaleRanges,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;var a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}var Ur=function(e){return 0===e||1===e},zr=function(e,t,n){return-Math.pow(2,10*(e-=1))*Math.sin((e-t)*ar/n)},Br=function(e,t,n){return Math.pow(2,-10*e)*Math.sin((e-t)*ar/n)+1},qr={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*cr)},easeOutSine:function(e){return Math.sin(e*cr)},easeInOutSine:function(e){return-.5*(Math.cos(ir*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return Ur(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1)))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){return Ur(e)?e:zr(e,.075,.3)},easeOutElastic:function(e){return Ur(e)?e:Br(e,.075,.3)},easeInOutElastic:function(e){var t=.1125;return Ur(e)?e:e<.5?.5*zr(2*e,t,.45):.5+.5*Br(2*e-1,t,.45)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-qr.easeOutBounce(1-e)},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*qr.easeInBounce(2*e):.5*qr.easeOutBounce(2*e-1)+.5}};function Wr(e){if(e&&"object"===typeof e){var t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Hr(e){return Wr(e)?e:new Nn(e)}function Kr(e){return Wr(e)?e:new Nn(e).saturate(.5).darken(.1).hexString()}var Gr=["x","y","borderWidth","radius","tension"],Qr=["color","borderColor","backgroundColor"];var Yr=new Map;function Xr(e,t,n){return function(e,t){t=t||{};var n=e+JSON.stringify(t),r=Yr.get(n);return r||(r=new Intl.NumberFormat(e,t),Yr.set(n,r)),r}(t,n).format(e)}var $r={values:function(e){return Ln(e)?e:""+e},numeric:function(e,t,n){if(0===e)return"0";var r,i=this.chart.options.locale,a=e;if(n.length>1){var o=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(o<1e-4||o>1e15)&&(r="scientific"),a=function(e,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}var s=fr(Math.abs(a)),u=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),Xr(e,i,c)},logarithmic:function(e,t,n){if(0===e)return"0";var r=n[t].significand||e/Math.pow(10,Math.floor(fr(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?$r.numeric.call(this,e,t,n):""}};var Jr={formatters:$r};var Zr=Object.create(null),ei=Object.create(null);function ti(e,t){if(!t)return e;for(var n=t.split("."),r=0,i=n.length;r<i;++r){var a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function ni(e,t,n){return"string"===typeof t?Qn(ti(e,t),n):Qn(ti(e,""),t)}var ri=function(){function e(t,n){Xt(this,e),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(e){return e.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(e,t){return Kr(t.backgroundColor)},this.hoverBorderColor=function(e,t){return Kr(t.borderColor)},this.hoverColor=function(e,t){return Kr(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}return Jt(e,[{key:"set",value:function(e,t){return ni(this,e,t)}},{key:"get",value:function(e){return ti(this,e)}},{key:"describe",value:function(e,t){return ni(ei,e,t)}},{key:"override",value:function(e,t){return ni(Zr,e,t)}},{key:"route",value:function(e,t,n,r){var i,a=ti(this,e),o=ti(this,n),s="_"+t;Object.defineProperties(a,(Ae(i={},s,{value:a[t],writable:!0}),Ae(i,t,{enumerable:!0,get:function(){var e=this[s],t=o[r];return Fn(e)?Object.assign({},t,e):Un(e,t)},set:function(e){this[s]=e}}),i))}},{key:"apply",value:function(e){var t=this;e.forEach((function(e){return e(t)}))}}]),e}(),ii=new ri({_scriptable:function(e){return!e.startsWith("on")},_indexable:function(e){return"events"!==e},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(e){return"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}}),e.set("animations",{colors:{type:"color",properties:Qr},numbers:{type:"number",properties:Gr}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(e){return 0|e}}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(e,t){return t.lineWidth},tickColor:function(e,t){return t.color},offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Jr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:function(e){return!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e},_indexable:function(e){return"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:function(e){return"backdropPadding"!==e&&"callback"!==e},_indexable:function(e){return"backdropPadding"!==e}})}]);function ai(e,t,n,r,i){var a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function oi(e,t,n,r){var i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;var o,s,u,c,l,h=0,f=n.length;for(o=0;o<f;o++)if(void 0===(c=n[o])||null===c||Ln(c)){if(Ln(c))for(s=0,u=c.length;s<u;s++)void 0===(l=c[s])||null===l||Ln(l)||(h=ai(e,i,a,h,l))}else h=ai(e,i,a,h,c);e.restore();var d=a.length/2;if(d>n.length){for(o=0;o<d;o++)delete i[a[o]];a.splice(0,d)}return h}function si(e,t,n){var r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function ui(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function ci(e,t,n,r){li(e,t,n,r,null)}function li(e,t,n,r,i){var a,o,s,u,c,l,h,f,d=t.pointStyle,p=t.rotation,v=t.radius,g=(p||0)*ur;if(d&&"object"===typeof d&&("[object HTMLImageElement]"===(a=d.toString())||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(g),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void e.restore();if(!(isNaN(v)||v<=0)){switch(e.beginPath(),d){default:i?e.ellipse(n,r,i/2,v,0,0,ar):e.arc(n,r,v,0,ar),e.closePath();break;case"triangle":l=i?i/2:v,e.moveTo(n+Math.sin(g)*l,r-Math.cos(g)*v),g+=hr,e.lineTo(n+Math.sin(g)*l,r-Math.cos(g)*v),g+=hr,e.lineTo(n+Math.sin(g)*l,r-Math.cos(g)*v),e.closePath();break;case"rectRounded":u=v-(c=.516*v),o=Math.cos(g+lr)*u,h=Math.cos(g+lr)*(i?i/2-c:u),s=Math.sin(g+lr)*u,f=Math.sin(g+lr)*(i?i/2-c:u),e.arc(n-h,r-s,c,g-ir,g-cr),e.arc(n+f,r-o,c,g-cr,g),e.arc(n+h,r+s,c,g,g+cr),e.arc(n-f,r+o,c,g+cr,g+ir),e.closePath();break;case"rect":if(!p){u=Math.SQRT1_2*v,l=i?i/2:u,e.rect(n-l,r-u,2*l,2*u);break}g+=lr;case"rectRot":h=Math.cos(g)*(i?i/2:v),o=Math.cos(g)*v,s=Math.sin(g)*v,f=Math.sin(g)*(i?i/2:v),e.moveTo(n-h,r-s),e.lineTo(n+f,r-o),e.lineTo(n+h,r+s),e.lineTo(n-f,r+o),e.closePath();break;case"crossRot":g+=lr;case"cross":h=Math.cos(g)*(i?i/2:v),o=Math.cos(g)*v,s=Math.sin(g)*v,f=Math.sin(g)*(i?i/2:v),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+f,r-o),e.lineTo(n-f,r+o);break;case"star":h=Math.cos(g)*(i?i/2:v),o=Math.cos(g)*v,s=Math.sin(g)*v,f=Math.sin(g)*(i?i/2:v),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+f,r-o),e.lineTo(n-f,r+o),g+=lr,h=Math.cos(g)*(i?i/2:v),o=Math.cos(g)*v,s=Math.sin(g)*v,f=Math.sin(g)*(i?i/2:v),e.moveTo(n-h,r-s),e.lineTo(n+h,r+s),e.moveTo(n+f,r-o),e.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(g)*v,s=Math.sin(g)*v,e.moveTo(n-o,r-s),e.lineTo(n+o,r+s);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(g)*(i?i/2:v),r+Math.sin(g)*v);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function hi(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function fi(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function di(e){e.restore()}function pi(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){var a=(t.x+n.x)/2;e.lineTo(a,t.y),e.lineTo(a,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function vi(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function gi(e,t,n,r,i){if(i.strikethrough||i.underline){var a=e.measureText(r),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,u=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,l=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,l),e.lineTo(s,l),e.stroke()}}function yi(e,t){var n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function mi(e,t,n,r,i){var a,o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=Ln(t)?t:[t],c=s.strokeWidth>0&&""!==s.strokeColor;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Mn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),a=0;a<u.length;++a)o=u[a],s.backdrop&&yi(e,s.backdrop),c&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Mn(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(o,n,r,s.maxWidth)),e.fillText(o,n,r,s.maxWidth),gi(e,n,r,o,s),r+=Number(i.lineHeight);e.restore()}function bi(e,t){var n=t.x,r=t.y,i=t.w,a=t.h,o=t.radius;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,-cr,ir,!0),e.lineTo(n,r+a-o.bottomLeft),e.arc(n+o.bottomLeft,r+a-o.bottomLeft,o.bottomLeft,ir,cr,!0),e.lineTo(n+i-o.bottomRight,r+a),e.arc(n+i-o.bottomRight,r+a-o.bottomRight,o.bottomRight,cr,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-cr,!0),e.lineTo(n+o.topLeft,r)}var ki=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,wi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xi(e,t){var n=(""+e).match(ki);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}var _i=function(e){return+e||0};function Si(e,t){var n,r={},i=Fn(t),a=i?Object.keys(t):t,o=Fn(e)?i?function(n){return Un(e[n],e[t[n]])}:function(t){return e[t]}:function(){return e},s=Gt(a);try{for(s.s();!(n=s.n()).done;){var u=n.value;r[u]=_i(o(u))}}catch(c){s.e(c)}finally{s.f()}return r}function Ei(e){return Si(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ii(e){return Si(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ti(e){var t=Ei(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ai(e,t){e=e||{},t=t||ii.font;var n=Un(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));var r=Un(e.style,t.style);r&&!(""+r).match(wi)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);var i={family:Un(e.family,t.family),lineHeight:xi(Un(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Un(e.weight,t.weight),string:""};return i.string=function(e){return!e||Mn(e.size)||Mn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Ci(e,t,n,r){var i,a,o,s=!0;for(i=0,a=e.length;i<a;++i)if(void 0!==(o=e[i])&&(void 0!==t&&"function"===typeof o&&(o=o(t),s=!1),void 0!==n&&Ln(o)&&(o=o[n%o.length],s=!1),void 0!==o))return r&&!s&&(r.cacheable=!1),o}function Pi(e,t){return Object.assign(Object.create(e),t)}function Di(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return e[0]},a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=Bi("_fallback",e));var o=(Ae(t={},Symbol.toStringTag,"Object"),Ae(t,"_cacheable",!0),Ae(t,"_scopes",e),Ae(t,"_rootScopes",a),Ae(t,"_fallback",r),Ae(t,"_getTarget",i),Ae(t,"override",(function(t){return Di([t].concat(Yt(e)),n,a,r)})),t);return new Proxy(o,{deleteProperty:function(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get:function(t,r){return Li(t,r,(function(){return function(e,t,n,r){var i,a,o=Gt(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;if("undefined"!==typeof(i=Bi(Ri(s,e),n)))return Mi(e,i)?Ui(n,r,e,i):i}}catch(u){o.e(u)}finally{o.f()}}(r,n,e,t)}))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e[0])},has:function(e,t){return qi(e).includes(t)},ownKeys:function(e){return qi(e)},set:function(e,t,n){var r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function Ni(e,t,n,r){var i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Oi(e,r),setContext:function(t){return Ni(e,t,n,r)},override:function(i){return Ni(e.override(i),t,n,r)}};return new Proxy(i,{deleteProperty:function(t,n){return delete t[n],delete e[n],!0},get:function(e,t,n){return Li(e,t,(function(){return function(e,t,n){var r=e._proxy,i=e._context,a=e._subProxy,o=e._descriptors,s=r[t];nr(s)&&o.isScriptable(t)&&(s=function(e,t,n,r){var i=n._proxy,a=n._context,o=n._subProxy,s=n._stack;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);var u=t(a,o||r);s.delete(e),Mi(e,u)&&(u=Ui(i._scopes,i,e,u));return u}(t,s,e,n));Ln(s)&&s.length&&(s=function(e,t,n,r){var i=n._proxy,a=n._context,o=n._subProxy,s=n._descriptors;if("undefined"!==typeof a.index&&r(e))return t[a.index%t.length];if(Fn(t[0])){var u=t,c=i._scopes.filter((function(e){return e!==u}));t=[];var l,h=Gt(u);try{for(h.s();!(l=h.n()).done;){var f=Ui(c,i,e,l.value);t.push(Ni(f,a,o&&o[e],s))}}catch(d){h.e(d)}finally{h.f()}}return t}(t,s,e,o.isIndexable));Mi(t,s)&&(s=Ni(s,i,a&&a[t],o));return s}(e,t,n)}))},getOwnPropertyDescriptor:function(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e)},has:function(t,n){return Reflect.has(e,n)},ownKeys:function(){return Reflect.ownKeys(e)},set:function(t,n,r){return e[n]=r,delete t[n],!0}})}function Oi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=e._scriptable,r=void 0===n?t.scriptable:n,i=e._indexable,a=void 0===i?t.indexable:i,o=e._allKeys;return{allKeys:void 0===o?t.allKeys:o,scriptable:r,indexable:a,isScriptable:nr(r)?r:function(){return r},isIndexable:nr(a)?a:function(){return a}}}var Ri=function(e,t){return e?e+er(t):t},Mi=function(e,t){return Fn(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object)};function Li(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];var r=n();return e[t]=r,r}function Fi(e,t,n){return nr(e)?e(t,n):e}var Vi=function(e,t){return!0===e?t:"string"===typeof e?Zn(t,e):void 0};function ji(e,t,n,r,i){var a,o=Gt(t);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=Vi(n,s);if(u){e.add(u);var c=Fi(u._fallback,n,i);if("undefined"!==typeof c&&c!==n&&c!==r)return c}else if(!1===u&&"undefined"!==typeof r&&n!==r)return null}}catch(l){o.e(l)}finally{o.f()}return!1}function Ui(e,t,n,r){var i=t._rootScopes,a=Fi(t._fallback,n,r),o=[].concat(Yt(e),Yt(i)),s=new Set;s.add(r);var u=zi(s,o,n,a||n,r);return null!==u&&(("undefined"===typeof a||a===n||null!==(u=zi(s,o,a,u,r)))&&Di(Array.from(s),[""],i,a,(function(){return function(e,t,n){var r=e._getTarget();t in r||(r[t]={});var i=r[t];if(Ln(i)&&Fn(n))return n;return i||{}}(t,n,r)})))}function zi(e,t,n,r,i){for(;n;)n=ji(e,t,n,r,i);return n}function Bi(e,t){var n,r=Gt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i){var a=i[e];if("undefined"!==typeof a)return a}}}catch(o){r.e(o)}finally{r.f()}}function qi(e){var t=e._keys;return t||(t=e._keys=function(e){var t,n=new Set,r=Gt(e);try{for(r.s();!(t=r.n()).done;){var i,a=t.value,o=Gt(Object.keys(a).filter((function(e){return!e.startsWith("_")})));try{for(o.s();!(i=o.n()).done;){var s=i.value;n.add(s)}}catch(u){o.e(u)}finally{o.f()}}}catch(u){r.e(u)}finally{r.f()}return Array.from(n)}(e._scopes)),t}function Wi(e,t,n,r){var i,a,o,s,u=e.iScale,c=this._parsing.key,l=void 0===c?"r":c,h=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],h[i]={r:u.parse(Zn(s,l),o)};return h}var Hi=Number.EPSILON||1e-14,Ki=function(e,t){return t<e.length&&!e[t].skip&&e[t]},Gi=function(e){return"x"===e?"y":"x"};function Qi(e,t,n,r){var i=e.skip?t:e,a=t,o=n.skip?t:n,s=xr(a,i),u=xr(o,a),c=s/(s+u),l=u/(s+u),h=r*(c=isNaN(c)?0:c),f=r*(l=isNaN(l)?0:l);return{previous:{x:a.x-h*(o.x-i.x),y:a.y-h*(o.y-i.y)},next:{x:a.x+f*(o.x-i.x),y:a.y+f*(o.y-i.y)}}}function Yi(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",a=Gi(i),o=e.length,s=Array(o).fill(0),u=Array(o),c=Ki(e,0);for(t=0;t<o;++t)if(n=r,r=c,c=Ki(e,t+1),r){if(c){var l=c[i]-r[i];s[t]=0!==l?(c[a]-r[a])/l:0}u[t]=n?c?dr(s[t-1])!==dr(s[t])?0:(s[t-1]+s[t])/2:s[t-1]:s[t]}!function(e,t,n){for(var r,i,a,o,s,u=e.length,c=Ki(e,0),l=0;l<u-1;++l)s=c,c=Ki(e,l+1),s&&c&&(pr(t[l],0,Hi)?n[l]=n[l+1]=0:(r=n[l]/t[l],i=n[l+1]/t[l],(o=Math.pow(r,2)+Math.pow(i,2))<=9||(a=3/Math.sqrt(o),n[l]=r*a*t[l],n[l+1]=i*a*t[l])))}(e,s,u),function(e,t){for(var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",o=Gi(a),s=e.length,u=Ki(e,0),c=0;c<s;++c)if(r=i,i=u,u=Ki(e,c+1),i){var l=i[a],h=i[o];r&&(n=(l-r[a])/3,i["cp1".concat(a)]=l-n,i["cp1".concat(o)]=h-n*t[c]),u&&(n=(u[a]-l)/3,i["cp2".concat(a)]=l+n,i["cp2".concat(o)]=h+n*t[c])}}(e,u,i)}function Xi(e,t,n){return Math.max(Math.min(e,n),t)}function $i(e,t,n,r,i){var a,o,s,u;if(t.spanGaps&&(e=e.filter((function(e){return!e.skip}))),"monotone"===t.cubicInterpolationMode)Yi(e,i);else{var c=r?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)u=Qi(c,s=e[a],e[Math.min(a+1,o-(r?0:1))%o],t.tension),s.cp1x=u.previous.x,s.cp1y=u.previous.y,s.cp2x=u.next.x,s.cp2y=u.next.y,c=s}t.capBezierPoints&&function(e,t){var n,r,i,a,o,s=hi(e[0],t);for(n=0,r=e.length;n<r;++n)o=a,a=s,s=n<r-1&&hi(e[n+1],t),a&&(i=e[n],o&&(i.cp1x=Xi(i.cp1x,t.left,t.right),i.cp1y=Xi(i.cp1y,t.top,t.bottom)),s&&(i.cp2x=Xi(i.cp2x,t.left,t.right),i.cp2y=Xi(i.cp2y,t.top,t.bottom)))}(e,n)}function Ji(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Zi(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ea(e,t,n){var r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}var ta=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};var na=["top","right","bottom","left"];function ra(e,t,n){var r={};n=n?"-"+n:"";for(var i=0;i<4;i++){var a=na[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var ia=function(e,t,n){return(e>0||t>0)&&(!n||!n.shadowRoot)};function aa(e,t){if("native"in e)return e;var n=t.canvas,r=t.currentDevicePixelRatio,i=ta(n),a="border-box"===i.boxSizing,o=ra(i,"padding"),s=ra(i,"border","width"),u=function(e,t){var n,r,i=e.touches,a=i&&i.length?i[0]:e,o=a.offsetX,s=a.offsetY,u=!1;if(ia(o,s,e.target))n=o,r=s;else{var c=t.getBoundingClientRect();n=a.clientX-c.left,r=a.clientY-c.top,u=!0}return{x:n,y:r,box:u}}(e,n),c=u.x,l=u.y,h=u.box,f=o.left+(h&&s.left),d=o.top+(h&&s.top),p=t.width,v=t.height;return a&&(p-=o.width+s.width,v-=o.height+s.height),{x:Math.round((c-f)/p*n.width/r),y:Math.round((l-d)/v*n.height/r)}}var oa=function(e){return Math.round(10*e)/10};function sa(e,t,n,r){var i=ta(e),a=ra(i,"margin"),o=ea(i.maxWidth,e,"clientWidth")||sr,s=ea(i.maxHeight,e,"clientHeight")||sr,u=function(e,t,n){var r,i;if(void 0===t||void 0===n){var a=Zi(e);if(a){var o=a.getBoundingClientRect(),s=ta(a),u=ra(s,"border","width"),c=ra(s,"padding");t=o.width-c.width-u.width,n=o.height-c.height-u.height,r=ea(s.maxWidth,a,"clientWidth"),i=ea(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||sr,maxHeight:i||sr}}(e,t,n),c=u.width,l=u.height;if("content-box"===i.boxSizing){var h=ra(i,"border","width"),f=ra(i,"padding");c-=f.width+h.width,l-=f.height+h.height}return c=Math.max(0,c-a.width),l=Math.max(0,r?c/r:l-a.height),c=oa(Math.min(c,o,u.maxWidth)),l=oa(Math.min(l,s,u.maxHeight)),c&&!l&&(l=oa(c/2)),(void 0!==t||void 0!==n)&&r&&u.height&&l>u.height&&(l=u.height,c=oa(Math.floor(l*r))),{width:c,height:l}}function ua(e,t,n){var r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);var o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||o.height!==i||o.width!==a)&&(e.currentDevicePixelRatio=r,o.height=i,o.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}var ca=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function la(e,t){var n=function(e,t){return ta(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ha(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function fa(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function da(e,t,n,r){var i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=ha(e,i,n),s=ha(i,a,n),u=ha(a,t,n),c=ha(o,s,n),l=ha(s,u,n);return ha(c,l,n)}function pa(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}}function va(e,t){var n,r;"ltr"!==t&&"rtl"!==t||(r=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function ga(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ya(e){return"angle"===e?{between:Er,compare:_r,normalize:Sr}:{between:Tr,compare:function(e,t){return e-t},normalize:function(e){return e}}}function ma(e){var t=e.start,n=e.end,r=e.count;return{start:t%r,end:n%r,loop:e.loop&&(n-t+1)%r===0,style:e.style}}function ba(e,t,n){if(!n)return[e];for(var r,i,a,o=n.property,s=n.start,u=n.end,c=t.length,l=ya(o),h=l.compare,f=l.between,d=l.normalize,p=function(e,t,n){var r,i,a=n.property,o=n.start,s=n.end,u=ya(a),c=u.between,l=u.normalize,h=t.length,f=e.start,d=e.end,p=e.loop;if(p){for(f+=h,d+=h,r=0,i=h;r<i&&c(l(t[f%h][a]),o,s);++r)f--,d--;f%=h,d%=h}return d<f&&(d+=h),{start:f,end:d,loop:p,style:e.style}}(e,t,n),v=p.start,g=p.end,y=p.loop,m=p.style,b=[],k=!1,w=null,x=function(){return k||f(s,a,r)&&0!==h(s,a)},_=function(){return!k||0===h(u,r)||f(u,a,r)},S=v,E=v;S<=g;++S)(i=t[S%c]).skip||(r=d(i[o]))!==a&&(k=f(r,s,u),null===w&&x()&&(w=0===h(r,s)?S:E),null!==w&&_()&&(b.push(ma({start:w,end:S,loop:y,count:c,style:m})),w=null),E=S,a=r);return null!==w&&b.push(ma({start:w,end:g,loop:y,count:c,style:m})),b}function ka(e,t){for(var n=[],r=e.segments,i=0;i<r.length;i++){var a=ba(r[i],e.points,t);a.length&&n.push.apply(n,Yt(a))}return n}function wa(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){var i=e._chart.getContext(),a=xa(e.options),o=e._datasetIndex,s=e.options.spanGaps,u=n.length,c=[],l=a,h=t[0].start,f=h;function d(e,t,r,i){var a=s?-1:1;if(e!==t){for(e+=u;n[e%u].skip;)e-=a;for(;n[t%u].skip;)t+=a;e%u!==t%u&&(c.push({start:e%u,end:t%u,loop:r,style:i}),l=i,h=t%u)}}var p,v=Gt(t);try{for(v.s();!(p=v.n()).done;){var g=p.value;h=s?h:g.start;var y=n[h%u],m=void 0;for(f=h+1;f<=g.end;f++){var b=n[f%u];_a(m=xa(r.setContext(Pi(i,{type:"segment",p0:y,p1:b,p0DataIndex:(f-1)%u,p1DataIndex:f%u,datasetIndex:o}))),l)&&d(h,f-1,g.loop,l),y=b,l=m}h<f-1&&d(h,f-1,g.loop,l)}}catch(k){v.e(k)}finally{v.f()}return c}(e,t,n,r):t}function xa(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function _a(e,t){if(!t)return!1;var n=[],r=function(e,t){return Wr(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}var Sa=function(){function e(){Xt(this,e),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return Jt(e,[{key:"_notify",value:function(e,t,n,r){var i=t.listeners[r],a=t.duration;i.forEach((function(r){return r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})}))}},{key:"_refresh",value:function(){var e=this;this._request||(this._running=!0,this._request=Rr.call(window,(function(){e._update(),e._request=null,e._running&&e._refresh()})))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),n=0;this._charts.forEach((function(r,i){if(r.running&&r.items.length){for(var a,o=r.items,s=o.length-1,u=!1;s>=0;--s)(a=o[s])._active?(a._total>r.duration&&(r.duration=a._total),a.tick(t),u=!0):(o[s]=o[o.length-1],o.pop());u&&(i.draw(),e._notify(i,r,t,"progress")),o.length||(r.running=!1,e._notify(i,r,t,"complete"),r.initial=!1),n+=o.length}})),this._lastDate=t,0===n&&(this._running=!1)}},{key:"_getAnims",value:function(e){var t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}},{key:"listen",value:function(e,t,n){this._getAnims(e).listeners[t].push(n)}},{key:"add",value:function(e,t){var n;t&&t.length&&(n=this._getAnims(e).items).push.apply(n,Yt(t))}},{key:"has",value:function(e){return this._getAnims(e).items.length>0}},{key:"start",value:function(e){var t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((function(e,t){return Math.max(e,t._duration)}),0),this._refresh())}},{key:"running",value:function(e){if(!this._running)return!1;var t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}},{key:"stop",value:function(e){var t=this._charts.get(e);if(t&&t.items.length){for(var n=t.items,r=n.length-1;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}}},{key:"remove",value:function(e){return this._charts.delete(e)}}]),e}(),Ea=new Sa,Ia="transparent",Ta={boolean:function(e,t,n){return n>.5?t:e},color:function(e,t,n){var r=Hr(e||Ia),i=r.valid&&Hr(t||Ia);return i&&i.valid?i.mix(r,n).hexString():t},number:function(e,t,n){return e+(t-e)*n}},Aa=function(){function e(t,n,r,i){Xt(this,e);var a=n[r];i=Ci([t.to,i,a,t.from]);var o=Ci([t.from,a,i]);this._active=!0,this._fn=t.fn||Ta[t.type||typeof o],this._easing=qr[t.easing]||qr.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}return Jt(e,[{key:"active",value:function(){return this._active}},{key:"update",value:function(e,t,n){if(this._active){this._notify(!1);var r=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Ci([e.to,t,r,e.from]),this._from=Ci([e.from,r,t])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(e){var t,n=e-this._start,r=this._duration,i=this._prop,a=this._from,o=this._loop,s=this._to;if(this._active=a!==s&&(o||n<r),!this._active)return this._target[i]=s,void this._notify(!0);n<0?this._target[i]=a:(t=n/r%2,t=o&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[i]=this._fn(a,s,t))}},{key:"wait",value:function(){var e=this._promises||(this._promises=[]);return new Promise((function(t,n){e.push({res:t,rej:n})}))}},{key:"_notify",value:function(e){for(var t=e?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][t]()}}]),e}(),Ca=function(){function e(t,n){Xt(this,e),this._chart=t,this._properties=new Map,this.configure(n)}return Jt(e,[{key:"configure",value:function(e){if(Fn(e)){var t=Object.keys(ii.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((function(r){var i=e[r];if(Fn(i)){for(var a={},o=0,s=t;o<s.length;o++){var u=s[o];a[u]=i[u]}(Ln(i.properties)&&i.properties||[r]).forEach((function(e){e!==r&&n.has(e)||n.set(e,a)}))}}))}}},{key:"_animateOptions",value:function(e,t){var n=t.options,r=function(e,t){if(!t)return;var n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];var i=this._createAnimations(r,n);return n.$shared&&function(e,t){for(var n=[],r=Object.keys(t),i=0;i<r.length;i++){var a=e[r[i]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}(e.options.$animations,n).then((function(){e.options=n}),(function(){})),i}},{key:"_createAnimations",value:function(e,t){var n,r=this._properties,i=[],a=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();for(n=o.length-1;n>=0;--n){var u=o[n];if("$"!==u.charAt(0))if("options"!==u){var c=t[u],l=a[u],h=r.get(u);if(l){if(h&&l.active()){l.update(h,c,s);continue}l.cancel()}h&&h.duration?(a[u]=l=new Aa(h,e,u,c),i.push(l)):e[u]=c}else i.push.apply(i,Yt(this._animateOptions(e,t)))}return i}},{key:"update",value:function(e,t){if(0!==this._properties.size){var n=this._createAnimations(e,t);return n.length?(Ea.add(this._chart,n),!0):void 0}Object.assign(e,t)}}]),e}();function Pa(e,t){var n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:i,end:r?i:a}}function Da(e,t){var n,r,i=[],a=e._getSortedDatasetMetas(t);for(n=0,r=a.length;n<r;++n)i.push(a[n].index);return i}function Na(e,t,n){var r,i,a,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=e.keys,c="single"===s.mode;if(null!==t){for(r=0,i=u.length;r<i;++r){if((a=+u[r])===n){if(s.all)continue;break}Vn(o=e.values[a])&&(c||0===t||dr(t)===dr(o))&&(t+=o)}return t}}function Oa(e,t){var n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Ra(e,t,n){var r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Ma(e,t,n,r){var i,a=Gt(t.getMatchingVisibleMetas(r).reverse());try{for(a.s();!(i=a.n()).done;){var o=i.value,s=e[o.index];if(n&&s>0||!n&&s<0)return o.index}}catch(u){a.e(u)}finally{a.f()}return null}function La(e,t){for(var n,r=e.chart,i=e._cachedMeta,a=r._stacks||(r._stacks={}),o=i.iScale,s=i.vScale,u=i.index,c=o.axis,l=s.axis,h=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(o,s,i),f=t.length,d=0;d<f;++d){var p=t[d],v=p[c],g=p[l];(n=(p._stacks||(p._stacks={}))[l]=Ra(a,h,v))[u]=g,n._top=Ma(n,s,!0,i.type),n._bottom=Ma(n,s,!1,i.type),(n._visualValues||(n._visualValues={}))[u]=g}}function Fa(e,t){var n=e.scales;return Object.keys(n).filter((function(e){return n[e].axis===t})).shift()}function Va(e,t){var n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){var i,a=Gt(t=t||e._parsed);try{for(a.s();!(i=a.n()).done;){var o=i.value._stacks;if(!o||void 0===o[r]||void 0===o[r][n])return;delete o[r][n],void 0!==o[r]._visualValues&&void 0!==o[r]._visualValues[n]&&delete o[r]._visualValues[n]}}catch(s){a.e(s)}finally{a.f()}}}var ja=function(e){return"reset"===e||"none"===e},Ua=function(e,t){return t?e:Object.assign({},e)},za=function(){function e(t,n){Xt(this,e),this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=(this instanceof e?this.constructor:void 0).datasetElementType,this.dataElementType=(this instanceof e?this.constructor:void 0).dataElementType,this.initialize()}return Jt(e,[{key:"initialize",value:function(){var e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Oa(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}},{key:"updateIndex",value:function(e){this.index!==e&&Va(this._cachedMeta),this.index=e}},{key:"linkScales",value:function(){var e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=function(e,t,n,r){return"x"===e?t:"r"===e?r:n},i=t.xAxisID=Un(n.xAxisID,Fa(e,"x")),a=t.yAxisID=Un(n.yAxisID,Fa(e,"y")),o=t.rAxisID=Un(n.rAxisID,Fa(e,"r")),s=t.indexAxis,u=t.iAxisID=r(s,i,a,o),c=t.vAxisID=r(s,a,i,o);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(e){return this.chart.scales[e]}},{key:"_getOtherScale",value:function(e){var t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var e=this._cachedMeta;this._data&&Nr(this._data,this),e._stacked&&Va(e)}},{key:"_dataCheck",value:function(){var e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Fn(t))this._data=function(e){var t,n,r,i=Object.keys(e),a=new Array(i.length);for(t=0,n=i.length;t<n;++t)r=i[t],a[t]={x:r,y:e[r]};return a}(t);else if(n!==t){if(n){Nr(n,this);var r=this._cachedMeta;Va(r),r._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Dr.forEach((function(t){var n="_onData"+er(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=r.apply(this,i);return e._chartjs.listeners.forEach((function(e){"function"===typeof e[n]&&e[n].apply(e,i)})),o}})})))}(t,this),this._syncList=[],this._data=t}}},{key:"addElements",value:function(){var e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(e){var t=this._cachedMeta,n=this.getDataset(),r=!1;this._dataCheck();var i=t._stacked;t._stacked=Oa(t.vScale,t),t.stack!==n.stack&&(r=!0,Va(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&La(this,t._parsed)}},{key:"configure",value:function(){var e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(e,t){var n,r,i,a=this._cachedMeta,o=this._data,s=a.iScale,u=a._stacked,c=s.axis,l=0===e&&t===o.length||a._sorted,h=e>0&&a._parsed[e-1];if(!1===this._parsing)a._parsed=o,a._sorted=!0,i=o;else{i=Ln(o[e])?this.parseArrayData(a,o,e,t):Fn(o[e])?this.parseObjectData(a,o,e,t):this.parsePrimitiveData(a,o,e,t);for(n=0;n<t;++n)a._parsed[n+e]=r=i[n],l&&((null===r[c]||h&&r[c]<h[c])&&(l=!1),h=r);a._sorted=l}u&&La(this,i)}},{key:"parsePrimitiveData",value:function(e,t,n,r){var i,a,o,s=e.iScale,u=e.vScale,c=s.axis,l=u.axis,h=s.getLabels(),f=s===u,d=new Array(r);for(i=0,a=r;i<a;++i){var p;o=i+n,d[i]=(Ae(p={},c,f||s.parse(h[o],o)),Ae(p,l,u.parse(t[o],o)),p)}return d}},{key:"parseArrayData",value:function(e,t,n,r){var i,a,o,s,u=e.xScale,c=e.yScale,l=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],l[i]={x:u.parse(s[0],o),y:c.parse(s[1],o)};return l}},{key:"parseObjectData",value:function(e,t,n,r){var i,a,o,s,u=e.xScale,c=e.yScale,l=this._parsing,h=l.xAxisKey,f=void 0===h?"x":h,d=l.yAxisKey,p=void 0===d?"y":d,v=new Array(r);for(i=0,a=r;i<a;++i)s=t[o=i+n],v[i]={x:u.parse(Zn(s,f),o),y:c.parse(Zn(s,p),o)};return v}},{key:"getParsed",value:function(e){return this._cachedMeta._parsed[e]}},{key:"getDataElement",value:function(e){return this._cachedMeta.data[e]}},{key:"applyStack",value:function(e,t,n){var r=this.chart,i=this._cachedMeta,a=t[e.axis];return Na({keys:Da(r,!0),values:t._stacks[e.axis]._visualValues},a,i.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(e,t,n,r){var i=n[t.axis],a=null===i?NaN:i,o=r&&n._stacks[t.axis];r&&o&&(r.values=o,a=Na(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}},{key:"getMinMax",value:function(e,t){var n,r,i=this._cachedMeta,a=i._parsed,o=i._sorted&&e===i.iScale,s=a.length,u=this._getOtherScale(e),c=function(e,t,n){return e&&!t.hidden&&t._stacked&&{keys:Da(n,!0),values:null}}(t,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},h=function(e){var t=e.getUserBounds(),n=t.min,r=t.max,i=t.minDefined,a=t.maxDefined;return{min:i?n:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}(u),f=h.min,d=h.max;function p(){var t=(r=a[n])[u.axis];return!Vn(r[e.axis])||f>t||d<t}for(n=0;n<s&&(p()||(this.updateRangeFromParsed(l,e,r,c),!o));++n);if(o)for(n=s-1;n>=0;--n)if(!p()){this.updateRangeFromParsed(l,e,r,c);break}return l}},{key:"getAllParsedValues",value:function(e){var t,n,r,i=this._cachedMeta._parsed,a=[];for(t=0,n=i.length;t<n;++t)Vn(r=i[t][e.axis])&&a.push(r);return a}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}},{key:"_update",value:function(e){var t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){var t,n,r,i;return Fn(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(Un(this.options.clip,function(e,t,n){if(!1===n)return!1;var r=Pa(e,n),i=Pa(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}},{key:"update",value:function(e){}},{key:"draw",value:function(){var e,t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],a=n.chartArea,o=[],s=this._drawStart||0,u=this._drawCount||i.length-s,c=this.options.drawActiveElementsOnTop;for(r.dataset&&r.dataset.draw(t,a,s,u),e=s;e<s+u;++e){var l=i[e];l.hidden||(l.active&&c?o.push(l):l.draw(t,a))}for(e=0;e<o.length;++e)o[e].draw(t,a)}},{key:"getStyle",value:function(e,t){var n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}},{key:"getContext",value:function(e,t,n){var r,i=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){var a=this._cachedMeta.data[e];r=a.$context||(a.$context=function(e,t,n){return Pi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return Pi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}},{key:"resolveDatasetElementOptions",value:function(e){return this._resolveElementOptions(this.datasetElementType.id,e)}},{key:"resolveDataElementOptions",value:function(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}},{key:"_resolveElementOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0,i="active"===n,a=this._cachedDataOpts,o=e+"-"+n,s=a[o],u=this.enableOptionSharing&&tr(r);if(s)return Ua(s,u);var c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),h=i?["".concat(e,"Hover"),"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),l),d=Object.keys(ii.elements[e]),p=c.resolveNamedOptions(f,d,(function(){return t.getContext(r,i,n)}),h);return p.$shared&&(p.$shared=u,a[o]=Object.freeze(Ua(p,u))),p}},{key:"_resolveAnimations",value:function(e,t,n){var r,i=this.chart,a=this._cachedDataOpts,o="animation-".concat(t),s=a[o];if(s)return s;if(!1!==i.options.animation){var u=this.chart.config,c=u.datasetAnimationScopeKeys(this._type,t),l=u.getOptionScopes(this.getDataset(),c);r=u.createResolver(l,this.getContext(e,n,t))}var h=new Ca(i,r&&r.animations);return r&&r._cacheable&&(a[o]=Object.freeze(h)),h}},{key:"getSharedOptions",value:function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}},{key:"includeOptions",value:function(e,t){return!t||ja(e)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(e,t){var n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}},{key:"updateElement",value:function(e,t,n,r){ja(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}},{key:"updateSharedOptions",value:function(e,t,n){e&&!ja(t)&&this._resolveAnimations(void 0,t).update(e,n)}},{key:"_setStyle",value:function(e,t,n,r){e.active=r;var i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}},{key:"removeHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!1)}},{key:"setHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}},{key:"_resyncElements",value:function(e){var t,n=this._data,r=this._cachedMeta.data,i=Gt(this._syncList);try{for(i.s();!(t=i.n()).done;){var a=Kt(t.value,3),o=a[0],s=a[1],u=a[2];this[o](s,u)}}catch(f){i.e(f)}finally{i.f()}this._syncList=[];var c=r.length,l=n.length,h=Math.min(l,c);h&&this.parse(0,h),l>c?this._insertElements(c,l-c,e):l<c&&this._removeElements(l,c-l)}},{key:"_insertElements",value:function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this._cachedMeta,a=i.data,o=e+t,s=function(e){for(e.length+=t,n=e.length-1;n>=o;n--)e[n]=e[n-t]};for(s(a),n=e;n<o;++n)a[n]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}},{key:"updateElements",value:function(e,t,n,r){}},{key:"_removeElements",value:function(e,t){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(e,t);n._stacked&&Va(n,r)}n.data.splice(e,t)}},{key:"_sync",value:function(e){if(this._parsing)this._syncList.push(e);else{var t=Kt(e,3),n=t[0],r=t[1],i=t[2];this[n](r,i)}this.chart._dataChanges.push([this.index].concat(Yt(e)))}},{key:"_onDataPush",value:function(){var e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(e,t){t&&this._sync(["_removeElements",e,t]);var n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),e}();function Ba(e){var t,n,r,i,a=e.iScale,o=function(e,t){if(!e._cache.$bar){for(var n=e.getMatchingVisibleMetas(t),r=[],i=0,a=n.length;i<a;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=Or(r.sort((function(e,t){return e-t})))}return e._cache.$bar}(a,e.type),s=a._length,u=function(){32767!==r&&-32768!==r&&(tr(i)&&(s=Math.min(s,Math.abs(r-i)||s)),i=r)};for(t=0,n=o.length;t<n;++t)r=a.getPixelForValue(o[t]),u();for(i=void 0,t=0,n=a.ticks.length;t<n;++t)r=a.getPixelForTick(t),u();return s}function qa(e,t,n,r){return Ln(e)?function(e,t,n,r){var i=n.parse(e[0],r),a=n.parse(e[1],r),o=Math.min(i,a),s=Math.max(i,a),u=o,c=s;Math.abs(o)>Math.abs(s)&&(u=s,c=o),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:a,min:o,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Wa(e,t,n,r){var i,a,o,s,u=e.iScale,c=e.vScale,l=u.getLabels(),h=u===c,f=[];for(i=n,a=n+r;i<a;++i)s=t[i],(o={})[u.axis]=h||u.parse(l[i],i),f.push(qa(s,o,c,i));return f}function Ha(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Ka(e,t,n,r){var i=t.borderSkipped,a={};if(i)if(!0!==i){var o=function(e){var t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}(e),s=o.start,u=o.end,c=o.reverse,l=o.top,h=o.bottom;"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=h:(a[Ga(h,s,u,c)]=!0,i=l)),a[Ga(i,s,u,c)]=!0,e.borderSkipped=a}else e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};else e.borderSkipped=a}function Ga(e,t,n,r){var i,a,o;return r?(o=n,e=Qa(e=(i=e)===(a=t)?o:i===o?a:i,n,t)):e=Qa(e,t,n),e}function Qa(e,t,n){return"start"===e?t:"end"===e?n:e}function Ya(e,t,n){var r=t.inflateAmount;e.inflateAmount="auto"===r?1===n?.33:0:r}Ae(za,"defaults",{}),Ae(za,"datasetElementType",null),Ae(za,"dataElementType",null);var Xa=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"parsePrimitiveData",value:function(e,t,n,r){return Wa(e,t,n,r)}},{key:"parseArrayData",value:function(e,t,n,r){return Wa(e,t,n,r)}},{key:"parseObjectData",value:function(e,t,n,r){var i,a,o,s,u=e.iScale,c=e.vScale,l=this._parsing,h=l.xAxisKey,f=void 0===h?"x":h,d=l.yAxisKey,p=void 0===d?"y":d,v="x"===u.axis?f:p,g="x"===c.axis?f:p,y=[];for(i=n,a=n+r;i<a;++i)s=t[i],(o={})[u.axis]=u.parse(Zn(s,v),i),y.push(qa(Zn(s,g),o,c,i));return y}},{key:"updateRangeFromParsed",value:function(e,t,r,i){Ft(Lt(n.prototype),"updateRangeFromParsed",this).call(this,e,t,r,i);var a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e),a=i._custom,o=Ha(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,Ft(Lt(n.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(e){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this.index,o=this._cachedMeta.vScale,s=o.getBasePixel(),u=o.isHorizontal(),c=this._getRuler(),l=this._getSharedOptions(t,r),h=l.sharedOptions,f=l.includeOptions,d=t;d<t+n;d++){var p=this.getParsed(d),v=i||Mn(p[o.axis])?{base:s,head:s}:this._calculateBarValuePixels(d),g=this._calculateBarIndexPixels(d,c),y=(p._stacks||{})[o.axis],m={horizontal:u,base:v.base,enableBorderRadius:!y||Ha(p._custom)||a===y._top||a===y._bottom,x:u?v.head:g.center,y:u?g.center:v.head,height:u?g.size:Math.abs(v.size),width:u?Math.abs(v.size):g.size};f&&(m.options=h||this.resolveDataElementOptions(d,e[d].active?"active":r));var b=m.options||e[d].options;Ka(m,b,y,a),Ya(m,b,c.ratio),this.updateElement(e[d],d,m,r)}}},{key:"_getStacks",value:function(e,t){var n,r=this._cachedMeta.iScale,i=r.getMatchingVisibleMetas(this._type).filter((function(e){return e.controller.options.grouped})),a=r.options.stacked,o=[],s=function(e){var n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if(Mn(r)||isNaN(r))return!0},u=Gt(i);try{for(u.s();!(n=u.n()).done;){var c=n.value;if((void 0===t||!s(c))&&((!1===a||-1===o.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&o.push(c.stack),c.index===e))break}}catch(l){u.e(l)}finally{u.f()}return o.length||o.push(void 0),o}},{key:"_getStackCount",value:function(e){return this._getStacks(void 0,e).length}},{key:"_getStackIndex",value:function(e,t,n){var r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}},{key:"_getRuler",value:function(){var e,t,n=this.options,r=this._cachedMeta,i=r.iScale,a=[];for(e=0,t=r.data.length;e<t;++e)a.push(i.getPixelForValue(this.getParsed(e)[i.axis],e));var o=n.barThickness;return{min:o||Ba(r),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:n.grouped,ratio:o?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(e){var t,n,r=this._cachedMeta,i=r.vScale,a=r._stacked,o=r.index,s=this.options,u=s.base,c=s.minBarLength,l=u||0,h=this.getParsed(e),f=h._custom,d=Ha(f),p=h[i.axis],v=0,g=a?this.applyStack(i,h,a):p;g!==p&&(v=g-p,g=p),d&&(p=f.barStart,g=f.barEnd-f.barStart,0!==p&&dr(p)!==dr(f.barEnd)&&(v=0),v+=p);var y=Mn(u)||d?v:u,m=i.getPixelForValue(y);if(n=(t=this.chart.getDataVisibility(e)?i.getPixelForValue(v+g):m)-m,Math.abs(n)<c){n=function(e,t,n){return 0!==e?dr(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(n,i,l)*c,p===l&&(m-=n/2);var b=i.getPixelForDecimal(0),k=i.getPixelForDecimal(1),w=Math.min(b,k),x=Math.max(b,k);t=(m=Math.max(Math.min(m,x),w))+n,a&&!d&&(h._stacks[i.axis]._visualValues[o]=i.getValueForPixel(t)-i.getValueForPixel(m))}if(m===i.getPixelForValue(l)){var _=dr(n)*i.getLineWidthForValue(l)/2;m+=_,n-=_}return{size:n,base:m,head:t,center:t+n/2}}},{key:"_calculateBarIndexPixels",value:function(e,t){var n,r,i=t.scale,a=this.options,o=a.skipNull,s=Un(a.maxBarThickness,1/0);if(t.grouped){var u=o?this._getStackCount(e):t.stackCount,c="flex"===a.barThickness?function(e,t,n,r){var i=t.pixels,a=i[e],o=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null,u=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);var c=a-(a-Math.min(o,s))/2*u;return{chunk:Math.abs(s-o)/2*u/r,ratio:n.barPercentage,start:c}}(e,t,a,u):function(e,t,n,r){var i,a,o=n.barThickness;return Mn(o)?(i=t.min*n.categoryPercentage,a=n.barPercentage):(i=o*r,a=1),{chunk:i/r,ratio:a,start:t.pixels[e]-i/2}}(e,t,a,u),l=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);n=c.start+c.chunk*l+c.chunk/2,r=Math.min(s,c.chunk*c.ratio)}else n=i.getPixelForValue(this.getParsed(e)[i.axis],e),r=Math.min(s,t.min*t.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}}},{key:"draw",value:function(){for(var e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length,i=0;i<r;++i)null!==this.getParsed(i)[t.axis]&&n[i].draw(this._ctx)}}]),n}(za);Ae(Xa,"id","bar"),Ae(Xa,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ae(Xa,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var $a=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,Ft(Lt(n.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(e,t,r,i){for(var a=Ft(Lt(n.prototype),"parsePrimitiveData",this).call(this,e,t,r,i),o=0;o<a.length;o++)a[o]._custom=this.resolveDataElementOptions(o+r).radius;return a}},{key:"parseArrayData",value:function(e,t,r,i){for(var a=Ft(Lt(n.prototype),"parseArrayData",this).call(this,e,t,r,i),o=0;o<a.length;o++){var s=t[r+o];a[o]._custom=Un(s[2],this.resolveDataElementOptions(o+r).radius)}return a}},{key:"parseObjectData",value:function(e,t,r,i){for(var a=Ft(Lt(n.prototype),"parseObjectData",this).call(this,e,t,r,i),o=0;o<a.length;o++){var s=t[r+o];a[o]._custom=Un(s&&s.r&&+s.r,this.resolveDataElementOptions(o+r).radius)}return a}},{key:"getMaxOverflow",value:function(){for(var e=this._cachedMeta.data,t=0,n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],r=t.xScale,i=t.yScale,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y),u=a._custom;return{label:n[e]||"",value:"("+o+", "+s+(u?", "+u:"")+")"}}},{key:"update",value:function(e){var t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,u=this._getSharedOptions(t,r),c=u.sharedOptions,l=u.includeOptions,h=o.axis,f=s.axis,d=t;d<t+n;d++){var p=e[d],v=!i&&this.getParsed(d),g={},y=g[h]=i?o.getPixelForDecimal(.5):o.getPixelForValue(v[h]),m=g[f]=i?s.getBasePixel():s.getPixelForValue(v[f]);g.skip=isNaN(y)||isNaN(m),l&&(g.options=c||this.resolveDataElementOptions(d,p.active?"active":r),i&&(g.options.radius=0)),this.updateElement(p,d,g,r)}}},{key:"resolveDataElementOptions",value:function(e,t){var r=this.getParsed(e),i=Ft(Lt(n.prototype),"resolveDataElementOptions",this).call(this,e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));var a=i.radius;return"active"!==t&&(i.radius=0),i.radius+=Un(r&&r._custom,a),i}}]),n}(za);Ae($a,"id","bubble"),Ae($a,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ae($a,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});var Ja=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e,r)).enableOptionSharing=!0,i.innerRadius=void 0,i.outerRadius=void 0,i.offsetX=void 0,i.offsetY=void 0,i}return Jt(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(e,t){var n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{var i,a,o=function(e){return+n[e]};if(Fn(n[e])){var s=this._parsing.key,u=void 0===s?"value":s;o=function(e){return+Zn(n[e],u)}}for(i=e,a=e+t;i<a;++i)r._parsed[i]=o(i)}}},{key:"_getRotation",value:function(){return mr(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return mr(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var e=ar,t=-ar,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){var r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}},{key:"update",value:function(e){var t,n,r=this.chart.chartArea,i=this._cachedMeta,a=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,s=Math.max((Math.min(r.width,r.height)-o)/2,0),u=Math.min((t=this.options.cutout,n=s,"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/n),1),c=this._getRingWeight(this.index),l=this._getRotationExtents(),h=l.circumference,f=function(e,t,n){var r=1,i=1,a=0,o=0;if(t<ar){var s=e,u=s+t,c=Math.cos(s),l=Math.sin(s),h=Math.cos(u),f=Math.sin(u),d=function(e,t,r){return Er(e,s,u,!0)?1:Math.max(t,t*n,r,r*n)},p=function(e,t,r){return Er(e,s,u,!0)?-1:Math.min(t,t*n,r,r*n)},v=d(0,c,h),g=d(cr,l,f),y=p(ir,c,h),m=p(ir+cr,l,f);r=(v-y)/2,i=(g-m)/2,a=-(v+y)/2,o=-(g+m)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:o}}(l.rotation,h,u),d=f.ratioX,p=f.ratioY,v=f.offsetX,g=f.offsetY,y=(r.width-o)/d,m=(r.height-o)/p,b=Math.max(Math.min(y,m)/2,0),k=zn(this.options.radius,b),w=(k-Math.max(k*u,0))/this._getVisibleDatasetWeightTotal();this.offsetX=v*k,this.offsetY=g*k,i.total=this.calculateTotal(),this.outerRadius=k-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(a,0,a.length,e)}},{key:"_circumference",value:function(e,t){var n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/ar)}},{key:"updateElements",value:function(e,t,n,r){var i,a="reset"===r,o=this.chart,s=o.chartArea,u=o.options.animation,c=(s.left+s.right)/2,l=(s.top+s.bottom)/2,h=a&&u.animateScale,f=h?0:this.innerRadius,d=h?0:this.outerRadius,p=this._getSharedOptions(t,r),v=p.sharedOptions,g=p.includeOptions,y=this._getRotation();for(i=0;i<t;++i)y+=this._circumference(i,a);for(i=t;i<t+n;++i){var m=this._circumference(i,a),b=e[i],k={x:c+this.offsetX,y:l+this.offsetY,startAngle:y,endAngle:y+m,circumference:m,outerRadius:d,innerRadius:f};g&&(k.options=v||this.resolveDataElementOptions(i,b.active?"active":r)),y+=m,this.updateElement(b,i,k,r)}}},{key:"calculateTotal",value:function(){var e,t=this._cachedMeta,n=t.data,r=0;for(e=0;e<n.length;e++){var i=t._parsed[e];null===i||isNaN(i)||!this.chart.getDataVisibility(e)||n[e].hidden||(r+=Math.abs(i))}return r}},{key:"calculateCircumference",value:function(e){var t=this._cachedMeta.total;return t>0&&!isNaN(e)?ar*(Math.abs(e)/t):0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Xr(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}},{key:"getMaxBorderWidth",value:function(e){var t,n,r,i,a,o=0,s=this.chart;if(!e)for(t=0,n=s.data.datasets.length;t<n;++t)if(s.isDatasetVisible(t)){e=(r=s.getDatasetMeta(t)).data,i=r.controller;break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)"inner"!==(a=i.resolveDataElementOptions(t)).borderAlign&&(o=Math.max(o,a.borderWidth||0,a.hoverBorderWidth||0));return o}},{key:"getMaxOffset",value:function(e){for(var t=0,n=0,r=e.length;n<r;++n){var i=this.resolveDataElementOptions(n);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}},{key:"_getRingWeightOffset",value:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}},{key:"_getRingWeight",value:function(e){return Math.max(Un(this.chart.data.datasets[e].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(za);Ae(Ja,"id","doughnut"),Ae(Ja,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ae(Ja,"descriptors",{_scriptable:function(e){return"spacing"!==e},_indexable:function(e){return"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}}),Ae(Ja,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,r=n.pointStyle,i=n.color;return t.labels.map((function(t,n){var a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});var Za=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,Ft(Lt(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data,i=void 0===r?[]:r,a=t._dataset,o=this.chart._animationsDisabled,s=Vr(t,i,o),u=s.start,c=s.count;this._drawStart=u,this._drawCount=c,jr(t)&&(u=0,c=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=i;var l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},e),this.updateElements(i,u,c,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,u=a._stacked,c=a._dataset,l=this._getSharedOptions(t,r),h=l.sharedOptions,f=l.includeOptions,d=o.axis,p=s.axis,v=this.options,g=v.spanGaps,y=v.segment,m=gr(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===r,k=t+n,w=e.length,x=t>0&&this.getParsed(t-1),_=0;_<w;++_){var S=e[_],E=b?S:{};if(_<t||_>=k)E.skip=!0;else{var I=this.getParsed(_),T=Mn(I[p]),A=E[d]=o.getPixelForValue(I[d],_),C=E[p]=i||T?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,I,u):I[p],_);E.skip=isNaN(A)||isNaN(C)||T,E.stop=_>0&&Math.abs(I[d]-x[d])>m,y&&(E.parsed=I,E.raw=c.data[_]),f&&(E.options=h||this.resolveDataElementOptions(_,S.active?"active":r)),b||this.updateElement(S,_,E,r),x=I}}}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;var i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,a)/2}},{key:"draw",value:function(){var e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),Ft(Lt(n.prototype),"draw",this).call(this)}}]),n}(za);Ae(Za,"id","line"),Ae(Za,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ae(Za,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var eo=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e,r)).innerRadius=void 0,i.outerRadius=void 0,i}return Jt(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Xr(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}},{key:"parseObjectData",value:function(e,t,n,r){return Wi.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}},{key:"getMinMax",value:function(){var e=this,t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((function(t,r){var i=e.getParsed(r).r;!isNaN(i)&&e.chart.getDataVisibility(r)&&(i<n.min&&(n.min=i),i>n.max&&(n.max=i))})),n}},{key:"_updateRadius",value:function(){var e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),a=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}},{key:"updateElements",value:function(e,t,n,r){var i,a="reset"===r,o=this.chart,s=o.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,l=u.yCenter,h=u.getIndexAngle(0)-.5*ir,f=h,d=360/this.countVisibleElements();for(i=0;i<t;++i)f+=this._computeAngle(i,r,d);for(i=t;i<t+n;i++){var p=e[i],v=f,g=f+this._computeAngle(i,r,d),y=o.getDataVisibility(i)?u.getDistanceFromCenterForValue(this.getParsed(i).r):0;f=g,a&&(s.animateScale&&(y=0),s.animateRotate&&(v=g=h));var m={x:c,y:l,innerRadius:0,outerRadius:y,startAngle:v,endAngle:g,options:this.resolveDataElementOptions(i,p.active?"active":r)};this.updateElement(p,i,m,r)}}},{key:"countVisibleElements",value:function(){var e=this,t=this._cachedMeta,n=0;return t.data.forEach((function(t,r){!isNaN(e.getParsed(r).r)&&e.chart.getDataVisibility(r)&&n++})),n}},{key:"_computeAngle",value:function(e,t,n){return this.chart.getDataVisibility(e)?mr(this.resolveDataElementOptions(e,t).angle||n):0}}]),n}(za);Ae(eo,"id","polarArea"),Ae(eo,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ae(eo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,r=n.pointStyle,i=n.color;return t.labels.map((function(t,n){var a=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:i,lineWidth:a.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var to=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n)}(Ja);Ae(to,"id","pie"),Ae(to,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var no=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}},{key:"parseObjectData",value:function(e,t,n,r){return Wi.bind(this)(e,t,n,r)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){var a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);var o={_loop:!0,_fullLoop:i.length===r.length,options:a};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}},{key:"updateElements",value:function(e,t,n,r){for(var i=this._cachedMeta.rScale,a="reset"===r,o=t;o<t+n;o++){var s=e[o],u=this.resolveDataElementOptions(o,s.active?"active":r),c=i.getPointPositionForValue(o,this.getParsed(o).r),l=a?i.xCenter:c.x,h=a?i.yCenter:c.y,f={x:l,y:h,angle:c.angle,skip:isNaN(l)||isNaN(h),options:u};this.updateElement(s,o,f,r)}}}]),n}(za);Ae(no,"id","radar"),Ae(no,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ae(no,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var ro=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],r=t.xScale,i=t.yScale,a=this.getParsed(e),o=r.getLabelForValue(a.x),s=i.getLabelForValue(a.y);return{label:n[e]||"",value:"("+o+", "+s+")"}}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.data,r=void 0===n?[]:n,i=this.chart._animationsDisabled,a=Vr(t,r,i),o=a.start,s=a.count;if(this._drawStart=o,this._drawCount=s,jr(t)&&(o=0,s=r.length),this.options.showLine){var u=t.dataset,c=t._dataset;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!c._decimated,u.points=r;var l=this.resolveDatasetElementOptions(e);l.segment=this.options.segment,this.updateElement(u,void 0,{animated:!i,options:l},e)}this.updateElements(r,o,s,e)}},{key:"addElements",value:function(){var e=this.options.showLine;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),Ft(Lt(n.prototype),"addElements",this).call(this)}},{key:"updateElements",value:function(e,t,n,r){for(var i="reset"===r,a=this._cachedMeta,o=a.iScale,s=a.vScale,u=a._stacked,c=a._dataset,l=this.resolveDataElementOptions(t,r),h=this.getSharedOptions(l),f=this.includeOptions(r,h),d=o.axis,p=s.axis,v=this.options,g=v.spanGaps,y=v.segment,m=gr(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||"none"===r,k=t>0&&this.getParsed(t-1),w=t;w<t+n;++w){var x=e[w],_=this.getParsed(w),S=b?x:{},E=Mn(_[p]),I=S[d]=o.getPixelForValue(_[d],w),T=S[p]=i||E?s.getBasePixel():s.getPixelForValue(u?this.applyStack(s,_,u):_[p],w);S.skip=isNaN(I)||isNaN(T)||E,S.stop=w>0&&Math.abs(_[d]-k[d])>m,y&&(S.parsed=_,S.raw=c.data[w]),f&&(S.options=h||this.resolveDataElementOptions(w,x.active?"active":r)),b||this.updateElement(x,w,S,r),k=_}this.updateSharedOptions(h,r,l)}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){for(var n=0,r=t.length-1;r>=0;--r)n=Math.max(n,t[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}var i=e.dataset,a=i.options&&i.options.borderWidth||0;if(!t.length)return a;var o=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,o,s)/2}}]),n}(za);Ae(ro,"id","scatter"),Ae(ro,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ae(ro,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var io=Object.freeze({__proto__:null,BarController:Xa,BubbleController:$a,DoughnutController:Ja,LineController:Za,PieController:to,PolarAreaController:eo,RadarController:no,ScatterController:ro});function ao(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var oo={_date:function(){function e(t){Xt(this,e),Ae(this,"options",void 0),this.options=t||{}}return Jt(e,[{key:"init",value:function(){}},{key:"formats",value:function(){return ao()}},{key:"parse",value:function(){return ao()}},{key:"format",value:function(){return ao()}},{key:"add",value:function(){return ao()}},{key:"diff",value:function(){return ao()}},{key:"startOf",value:function(){return ao()}},{key:"endOf",value:function(){return ao()}}],[{key:"override",value:function(t){Object.assign(e.prototype,t)}}]),e}()};function so(e,t,n,r){var i=e.controller,a=e.data,o=e._sorted,s=i._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&o&&a.length){var u=s._reversePixels?Pr:Cr;if(!r)return u(a,t,n);if(i._sharedOptions){var c=a[0],l="function"===typeof c.getRange&&c.getRange(t);if(l){var h=u(a,t,n-l),f=u(a,t,n+l);return{lo:h.lo,hi:f.hi}}}}return{lo:0,hi:a.length-1}}function uo(e,t,n,r,i){for(var a=e.getSortedVisibleDatasetMetas(),o=n[t],s=0,u=a.length;s<u;++s)for(var c=a[s],l=c.index,h=c.data,f=so(a[s],t,o,i),d=f.lo,p=f.hi,v=d;v<=p;++v){var g=h[v];g.skip||r(g,l,v)}}function co(e,t,n,r,i){var a=[];if(!i&&!e.isPointInArea(t))return a;return uo(e,n,t,(function(n,o,s){(i||hi(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:o,index:s})}),!0),a}function lo(e,t,n,r,i,a){var o=[],s=function(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(n),u=Number.POSITIVE_INFINITY;return uo(e,n,t,(function(n,c,l){var h=n.inRange(t.x,t.y,i);if(!r||h){var f=n.getCenterPoint(i);if(!!a||e.isPointInArea(f)||h){var d=s(t,f);d<u?(o=[{element:n,datasetIndex:c,index:l}],u=d):d===u&&o.push({element:n,datasetIndex:c,index:l})}}})),o}function ho(e,t,n,r,i,a){return a||e.isPointInArea(t)?"r"!==n||r?lo(e,t,n,r,i,a):function(e,t,n,r){var i=[];return uo(e,n,t,(function(e,n,a){var o=e.getProps(["startAngle","endAngle"],r),s=o.startAngle,u=o.endAngle;Er(wr(e,{x:t.x,y:t.y}).angle,s,u)&&i.push({element:e,datasetIndex:n,index:a})})),i}(e,t,n,i):[]}function fo(e,t,n,r,i){var a=[],o="x"===n?"inXRange":"inYRange",s=!1;return uo(e,n,t,(function(e,r,u){e[o](t[n],i)&&(a.push({element:e,datasetIndex:r,index:u}),s=s||e.inRange(t.x,t.y,i))})),r&&!s?[]:a}var po={evaluateInteractionItems:uo,modes:{index:function(e,t,n,r){var i=aa(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?co(e,i,a,r,o):ho(e,i,a,!1,r,o),u=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((function(e){var t=s[0].index,n=e.data[t];n&&!n.skip&&u.push({element:n,datasetIndex:e.index,index:t})})),u):[]},dataset:function(e,t,n,r){var i=aa(t,e),a=n.axis||"xy",o=n.includeInvisible||!1,s=n.intersect?co(e,i,a,r,o):ho(e,i,a,!1,r,o);if(s.length>0){var u=s[0].datasetIndex,c=e.getDatasetMeta(u).data;s=[];for(var l=0;l<c.length;++l)s.push({element:c[l],datasetIndex:u,index:l})}return s},point:function(e,t,n,r){return co(e,aa(t,e),n.axis||"xy",r,n.includeInvisible||!1)},nearest:function(e,t,n,r){var i=aa(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return ho(e,i,a,n.intersect,r,o)},x:function(e,t,n,r){return fo(e,aa(t,e),"x",n.intersect,r)},y:function(e,t,n,r){return fo(e,aa(t,e),"y",n.intersect,r)}}},vo=["left","top","right","bottom"];function go(e,t){return e.filter((function(e){return e.pos===t}))}function yo(e,t){return e.filter((function(e){return-1===vo.indexOf(e.pos)&&e.box.axis===t}))}function mo(e,t){return e.sort((function(e,n){var r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function bo(e,t){var n,r,i,a=function(e){var t,n={},r=Gt(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.stack,o=i.pos,s=i.stackWeight;if(a&&vo.includes(o)){var u=n[a]||(n[a]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=s}}}catch(c){r.e(c)}finally{r.f()}return n}(e),o=t.vBoxMaxWidth,s=t.hBoxMaxHeight;for(n=0,r=e.length;n<r;++n){var u=(i=e[n]).box.fullSize,c=a[i.stack],l=c&&i.stackWeight/c.weight;i.horizontal?(i.width=l?l*o:u&&t.availableWidth,i.height=s):(i.width=o,i.height=l?l*s:u&&t.availableHeight)}return a}function ko(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function wo(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function xo(e,t,n,r){var i=n.pos,a=n.box,o=e.maxPadding;if(!Fn(i)){n.size&&(e[i]-=n.size);var s=r[n.stack]||{size:0,count:1};s.size=Math.max(s.size,n.horizontal?a.height:a.width),n.size=s.size/s.count,e[i]+=n.size}a.getPadding&&wo(o,a.getPadding());var u=Math.max(0,t.outerWidth-ko(o,e,"left","right")),c=Math.max(0,t.outerHeight-ko(o,e,"top","bottom")),l=u!==e.w,h=c!==e.h;return e.w=u,e.h=c,n.horizontal?{same:l,other:h}:{same:h,other:l}}function _o(e,t){var n=t.maxPadding;function r(e){var r={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function So(e,t,n,r){var i,a,o,s,u,c,l=[];for(i=0,a=e.length,u=0;i<a;++i){(s=(o=e[i]).box).update(o.width||t.w,o.height||t.h,_o(o.horizontal,t));var h=xo(t,n,o,r),f=h.same,d=h.other;u|=f&&l.length,c=c||d,s.fullSize||l.push(o)}return u&&So(l,t,n,r)||c}function Eo(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Io(e,t,n,r){var i,a=n.padding,o=t.x,s=t.y,u=Gt(e);try{for(u.s();!(i=u.n()).done;){var c=i.value,l=c.box,h=r[c.stack]||{count:1,placed:0,weight:1},f=c.stackWeight/h.weight||1;if(c.horizontal){var d=t.w*f,p=h.size||l.height;tr(h.start)&&(s=h.start),l.fullSize?Eo(l,a.left,s,n.outerWidth-a.right-a.left,p):Eo(l,t.left+h.placed,s,d,p),h.start=s,h.placed+=d,s=l.bottom}else{var v=t.h*f,g=h.size||l.width;tr(h.start)&&(o=h.start),l.fullSize?Eo(l,o,a.top,g,n.outerHeight-a.bottom-a.top):Eo(l,o,t.top+h.placed,g,v),h.start=o,h.placed+=v,o=l.right}}}catch(y){u.e(y)}finally{u.f()}t.x=o,t.y=s}var To={addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(e){t.draw(e)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update:function(e,t,n,r){if(e){var i=Ti(e.options.layout.padding),a=Math.max(t-i.width,0),o=Math.max(n-i.height,0),s=function(e){var t=function(e){var t,n,r,i,a,o,s=[];for(t=0,n=(e||[]).length;t<n;++t){var u=r=e[t];i=u.position;var c=u.options;a=c.stack;var l=c.stackWeight;o=void 0===l?1:l,s.push({index:t,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:a&&i+a,stackWeight:o})}return s}(e),n=mo(t.filter((function(e){return e.box.fullSize})),!0),r=mo(go(t,"left"),!0),i=mo(go(t,"right")),a=mo(go(t,"top"),!0),o=mo(go(t,"bottom")),s=yo(t,"x"),u=yo(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(u).concat(o).concat(s),chartArea:go(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:a.concat(o).concat(s)}}(e.boxes),u=s.vertical,c=s.horizontal;qn(e.boxes,(function(e){"function"===typeof e.beforeLayout&&e.beforeLayout()}));var l=u.reduce((function(e,t){return t.box.options&&!1===t.box.options.display?e:e+1}),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/l,hBoxMaxHeight:o/2}),f=Object.assign({},i);wo(f,Ti(r));var d=Object.assign({maxPadding:f,w:a,h:o,x:i.left,y:i.top},i),p=bo(u.concat(c),h);So(s.fullSize,d,h,p),So(u,d,h,p),So(c,d,h,p)&&So(u,d,h,p),function(e){var t=e.maxPadding;function n(n){var r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(d),Io(s.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,Io(s.rightAndBottom,d,h,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},qn(s.chartArea,(function(t){var n=t.box;Object.assign(n,e.chartArea),n.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})}))}}},Ao=function(){function e(){Xt(this,e)}return Jt(e,[{key:"acquireContext",value:function(e,t){}},{key:"releaseContext",value:function(e){return!1}},{key:"addEventListener",value:function(e,t,n){}},{key:"removeEventListener",value:function(e,t,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}},{key:"isAttached",value:function(e){return!0}},{key:"updateConfig",value:function(e){}}]),e}(),Co=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}]),n}(Ao),Po="$chartjs",Do={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},No=function(e){return null===e||""===e};var Oo=!!ca&&{passive:!0};function Ro(e,t,n){e.canvas.removeEventListener(t,n,Oo)}function Mo(e,t){var n,r=Gt(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i===t||i.contains(t))return!0}}catch(a){r.e(a)}finally{r.f()}}function Lo(e,t,n){var r=e.canvas,i=new MutationObserver((function(e){var t,i=!1,a=Gt(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i=(i=i||Mo(o.addedNodes,r))&&!Mo(o.removedNodes,r)}}catch(s){a.e(s)}finally{a.f()}i&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Fo(e,t,n){var r=e.canvas,i=new MutationObserver((function(e){var t,i=!1,a=Gt(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;i=(i=i||Mo(o.removedNodes,r))&&!Mo(o.addedNodes,r)}}catch(s){a.e(s)}finally{a.f()}i&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}var Vo=new Map,jo=0;function Uo(){var e=window.devicePixelRatio;e!==jo&&(jo=e,Vo.forEach((function(t,n){n.currentDevicePixelRatio!==e&&t()})))}function zo(e,t,n){var r=e.canvas,i=r&&Zi(r);if(i){var a=Mr((function(e,t){var r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),o=new ResizeObserver((function(e){var t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)}));return o.observe(i),function(e,t){Vo.size||window.addEventListener("resize",Uo),Vo.set(e,t)}(e,a),o}}function Bo(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Vo.delete(e),Vo.size||window.removeEventListener("resize",Uo)}(e)}function qo(e,t,n){var r=e.canvas,i=Mr((function(t){null!==e.ctx&&n(function(e,t){var n=Do[e.type]||e.type,r=aa(e,t),i=r.x,a=r.y;return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==a?a:null}}(t,e))}),e);return function(e,t,n){e.addEventListener(t,n,Oo)}(r,t,i),i}var Wo=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"acquireContext",value:function(e,t){var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Po]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",No(i)){var a=la(e,"width");void 0!==a&&(e.width=a)}if(No(r))if(""===e.style.height)e.height=e.width/(t||2);else{var o=la(e,"height");void 0!==o&&(e.height=o)}}(e,t),n):null}},{key:"releaseContext",value:function(e){var t=e.canvas;if(!t[Po])return!1;var n=t[Po].initial;["height","width"].forEach((function(e){var r=n[e];Mn(r)?t.removeAttribute(e):t.setAttribute(e,r)}));var r=n.style||{};return Object.keys(r).forEach((function(e){t.style[e]=r[e]})),t.width=t.width,delete t[Po],!0}},{key:"addEventListener",value:function(e,t,n){this.removeEventListener(e,t);var r=e.$proxies||(e.$proxies={}),i={attach:Lo,detach:Fo,resize:zo}[t]||qo;r[t]=i(e,t,n)}},{key:"removeEventListener",value:function(e,t){var n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:Bo,detach:Bo,resize:Bo}[t]||Ro)(e,t,r),n[t]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(e,t,n,r){return sa(e,t,n,r)}},{key:"isAttached",value:function(e){var t=Zi(e);return!(!t||!t.isConnected)}}]),n}(Ao);var Ho=function(){function e(){Xt(this,e),Ae(this,"x",void 0),Ae(this,"y",void 0),Ae(this,"active",!1),Ae(this,"options",void 0),Ae(this,"$animations",void 0)}return Jt(e,[{key:"tooltipPosition",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return gr(this.x)&&gr(this.y)}},{key:"getProps",value:function(e,t){var n=this,r=this.$animations;if(!t||!r)return this;var i={};return e.forEach((function(e){i[e]=r[e]&&r[e].active()?r[e]._to:n[e]})),i}}]),e}();function Ko(e,t){var n=e.options.ticks,r=function(e){var t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?function(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].major&&r.push(t);return r}(t):[],o=a.length,s=a[0],u=a[o-1],c=[];if(o>i)return function(e,t,n,r){var i,a=0,o=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===o&&(t.push(e[i]),o=n[++a*r])}(t,c,a,o/i),c;var l=function(e,t,n){var r=function(e){var t,n,r=e.length;if(r<2)return!1;for(n=e[0],t=1;t<r;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),i=t.length/n;if(!r)return Math.max(i,1);for(var a=function(e){var t,n=[],r=Math.sqrt(e);for(t=1;t<r;t++)e%t===0&&(n.push(t),n.push(e/t));return r===(0|r)&&n.push(r),n.sort((function(e,t){return e-t})).pop(),n}(r),o=0,s=a.length-1;o<s;o++){var u=a[o];if(u>i)return u}return Math.max(i,1)}(a,t,i);if(o>0){var h,f,d=o>1?Math.round((u-s)/(o-1)):null;for(Go(t,c,l,Mn(d)?0:s-d,s),h=0,f=o-1;h<f;h++)Go(t,c,l,a[h],a[h+1]);return Go(t,c,l,u,Mn(d)?t.length:u+d),c}return Go(t,c,l),c}function Go(e,t,n,r,i){var a,o,s,u=Un(r,0),c=Math.min(Un(i,e.length),e.length),l=0;for(n=Math.ceil(n),i&&(n=(a=i-r)/Math.floor(a/n)),s=u;s<0;)l++,s=Math.round(u+l*n);for(o=Math.max(u,0);o<c;o++)o===s&&(t.push(e[o]),l++,s=Math.round(u+l*n))}Ae(Ho,"defaults",{}),Ae(Ho,"defaultRoutes",void 0);var Qo=function(e,t,n){return"top"===t||"left"===t?e[t]+n:e[t]-n},Yo=function(e,t){return Math.min(t||e,e)};function Xo(e,t){for(var n=[],r=e.length/t,i=e.length,a=0;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function $o(e,t,n){var r,i=e.ticks.length,a=Math.min(t,i-1),o=e._startPixel,s=e._endPixel,u=1e-6,c=e.getPixelForTick(a);if(!(n&&(r=1===i?Math.max(c-o,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,(c+=a<t?r:-r)<o-u||c>s+u)))return c}function Jo(e){return e.drawTicks?e.tickLength:0}function Zo(e,t){if(!e.display)return 0;var n=Ai(e.font,t),r=Ti(e.padding);return(Ln(e.text)?e.text.length:1)*n.lineHeight+r.height}function es(e,t,n){var r=Lr(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=function(e){return"left"===e?"right":"right"===e?"left":e}(r)),r}var ts=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).id=e.id,r.type=e.type,r.options=void 0,r.ctx=e.ctx,r.chart=e.chart,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r._margins={left:0,right:0,top:0,bottom:0},r.maxWidth=void 0,r.maxHeight=void 0,r.paddingTop=void 0,r.paddingBottom=void 0,r.paddingLeft=void 0,r.paddingRight=void 0,r.axis=void 0,r.labelRotation=void 0,r.min=void 0,r.max=void 0,r._range=void 0,r.ticks=[],r._gridLineItems=null,r._labelItems=null,r._labelSizes=null,r._length=0,r._maxLength=0,r._longestTextCache={},r._startPixel=void 0,r._endPixel=void 0,r._reversePixels=!1,r._userMax=void 0,r._userMin=void 0,r._suggestedMax=void 0,r._suggestedMin=void 0,r._ticksLength=0,r._borderValue=0,r._cache={},r._dataLimitsCached=!1,r.$context=void 0,r}return Jt(n,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e,t){return e}},{key:"getUserBounds",value:function(){var e=this._userMin,t=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return e=jn(e,Number.POSITIVE_INFINITY),t=jn(t,Number.NEGATIVE_INFINITY),n=jn(n,Number.POSITIVE_INFINITY),r=jn(r,Number.NEGATIVE_INFINITY),{min:jn(e,n),max:jn(t,r),minDefined:Vn(e),maxDefined:Vn(t)}}},{key:"getMinMax",value:function(e){var t,n=this.getUserBounds(),r=n.min,i=n.max,a=n.minDefined,o=n.maxDefined;if(a&&o)return{min:r,max:i};for(var s=this.getMatchingVisibleMetas(),u=0,c=s.length;u<c;++u)t=s[u].controller.getMinMax(this,e),a||(r=Math.min(r,t.min)),o||(i=Math.max(i,t.max));return{min:jn(r=o&&r>i?i:r,jn(i=a&&r>i?r:i,r)),max:jn(i,jn(r,i))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"getLabelItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){Bn(this.options.beforeUpdate,[this])}},{key:"update",value:function(e,t,n){var r=this.options,i=r.beginAtZero,a=r.grace,o=r.ticks,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){var r=e.min,i=e.max,a=zn(t,(i-r)/2),o=function(e,t){return n&&0===e?0:e+t};return{min:o(r,-Math.abs(a)),max:o(i,a)}}(this,a,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var u=s<this.ticks.length;this._convertTicksToLabels(u?Xo(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=Ko(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){Bn(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){Bn(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){Bn(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),Bn(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){Bn(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(e){var t,n,r,i=this.options.ticks;for(t=0,n=e.length;t<n;t++)(r=e[t]).label=Bn(i.callback,[r.value,t,e],this)}},{key:"afterTickToLabelConversion",value:function(){Bn(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){Bn(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var e,t,n,r=this.options,i=r.ticks,a=Yo(this.ticks.length,r.ticks.maxTicksLimit),o=i.minRotation||0,s=i.maxRotation,u=o;if(!this._isVisible()||!i.display||o>=s||a<=1||!this.isHorizontal())this.labelRotation=o;else{var c=this._getLabelSizes(),l=c.widest.width,h=c.highest.height,f=Ir(this.chart.width-l,0,this.maxWidth);l+6>(e=r.offset?this.maxWidth/a:f/(a-1))&&(e=f/(a-(r.offset?.5:1)),t=this.maxHeight-Jo(r.grid)-i.padding-Zo(r.title,this.chart.options.font),n=Math.sqrt(l*l+h*h),u=br(Math.min(Math.asin(Ir((c.highest.height+6)/e,-1,1)),Math.asin(Ir(t/n,-1,1))-Math.asin(Ir(h/n,-1,1)))),u=Math.max(o,Math.min(s,u))),this.labelRotation=u}}},{key:"afterCalculateLabelRotation",value:function(){Bn(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){Bn(this.options.beforeFit,[this])}},{key:"fit",value:function(){var e={width:0,height:0},t=this.chart,n=this.options,r=n.ticks,i=n.title,a=n.grid,o=this._isVisible(),s=this.isHorizontal();if(o){var u=Zo(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=Jo(a)+u):(e.height=this.maxHeight,e.width=Jo(a)+u),r.display&&this.ticks.length){var c=this._getLabelSizes(),l=c.first,h=c.last,f=c.widest,d=c.highest,p=2*r.padding,v=mr(this.labelRotation),g=Math.cos(v),y=Math.sin(v);if(s){var m=r.mirror?0:y*f.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+m+p)}else{var b=r.mirror?0:g*f.width+y*d.height;e.width=Math.min(this.maxWidth,e.width+b+p)}this._calculatePadding(l,h,y,g)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(e,t,n,r){var i=this.options,a=i.ticks,o=a.align,s=a.padding,u=i.position,c=0!==this.labelRotation,l="top"!==u&&"x"===this.axis;if(this.isHorizontal()){var h=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1),d=0,p=0;c?l?(d=r*e.width,p=n*t.height):(d=n*e.height,p=r*t.width):"start"===o?p=t.width:"end"===o?d=e.width:"inner"!==o&&(d=e.width/2,p=t.width/2),this.paddingLeft=Math.max((d-h+s)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-f+s)*this.width/(this.width-f),0)}else{var v=t.height/2,g=e.height/2;"start"===o?(v=0,g=e.height):"end"===o&&(v=t.height,g=0),this.paddingTop=v+s,this.paddingBottom=g+s}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){Bn(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var e=this.options,t=e.axis,n=e.position;return"top"===n||"bottom"===n||"x"===t}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(e){var t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Mn(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var e=this._labelSizes;if(!e){var t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=Xo(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}},{key:"_computeLabelSizes",value:function(e,t,n){var r,i,a,o,s,u,c,l,h,f,d,p=this.ctx,v=this._longestTextCache,g=[],y=[],m=Math.floor(t/Yo(t,n)),b=0,k=0;for(r=0;r<t;r+=m){if(o=e[r].label,s=this._resolveTickFontOptions(r),p.font=u=s.string,c=v[u]=v[u]||{data:{},gc:[]},l=s.lineHeight,h=f=0,Mn(o)||Ln(o)){if(Ln(o))for(i=0,a=o.length;i<a;++i)Mn(d=o[i])||Ln(d)||(h=ai(p,c.data,c.gc,h,d),f+=l)}else h=ai(p,c.data,c.gc,h,o),f=l;g.push(h),y.push(f),b=Math.max(h,b),k=Math.max(f,k)}!function(e,t){qn(e,(function(e){var n,r=e.gc,i=r.length/2;if(i>t){for(n=0;n<i;++n)delete e.data[r[n]];r.splice(0,i)}}))}(v,t);var w=g.indexOf(b),x=y.indexOf(k),_=function(e){return{width:g[e]||0,height:y[e]||0}};return{first:_(0),last:_(t-1),widest:_(w),highest:_(x),widths:g,heights:y}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(e,t){return NaN}},{key:"getValueForPixel",value:function(e){}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getPixelForDecimal",value:function(e){this._reversePixels&&(e=1-e);var t=this._startPixel+e*this._length;return Ir(this._alignToPixels?si(this.chart,t,0):t,-32768,32767)}},{key:"getDecimalForPixel",value:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var e=this.min,t=this.max;return e<0&&t<0?t:e>0&&t>0?e:0}},{key:"getContext",value:function(e){var t=this.ticks||[];if(e>=0&&e<t.length){var n=t[e];return n.$context||(n.$context=function(e,t,n){return Pi(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Pi(this.chart.getContext(),{scale:this,type:"scale"}))}},{key:"_tickSize",value:function(){var e=this.options.ticks,t=mr(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,o=i?i.widest.width+a:0,s=i?i.highest.height+a:0;return this.isHorizontal()?s*n>o*r?o/n:s/r:s*r<o*n?s/n:o/r}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(e){var t,n,r,i,a,o,s,u,c,l,h,f,d=this.axis,p=this.chart,v=this.options,g=v.grid,y=v.position,m=v.border,b=g.offset,k=this.isHorizontal(),w=this.ticks.length+(b?1:0),x=Jo(g),_=[],S=m.setContext(this.getContext()),E=S.display?S.width:0,I=E/2,T=function(e){return si(p,e,E)};if("top"===y)t=T(this.bottom),o=this.bottom-x,u=t-I,l=T(e.top)+I,f=e.bottom;else if("bottom"===y)t=T(this.top),l=e.top,f=T(e.bottom)-I,o=t+I,u=this.top+x;else if("left"===y)t=T(this.right),a=this.right-x,s=t-I,c=T(e.left)+I,h=e.right;else if("right"===y)t=T(this.left),c=e.left,h=T(e.right)-I,a=t+I,s=this.left+x;else if("x"===d){if("center"===y)t=T((e.top+e.bottom)/2+.5);else if(Fn(y)){var A=Object.keys(y)[0],C=y[A];t=T(this.chart.scales[A].getPixelForValue(C))}l=e.top,f=e.bottom,u=(o=t+I)+x}else if("y"===d){if("center"===y)t=T((e.left+e.right)/2);else if(Fn(y)){var P=Object.keys(y)[0],D=y[P];t=T(this.chart.scales[P].getPixelForValue(D))}s=(a=t-I)-x,c=e.left,h=e.right}var N=Un(v.ticks.maxTicksLimit,w),O=Math.max(1,Math.ceil(w/N));for(n=0;n<w;n+=O){var R=this.getContext(n),M=g.setContext(R),L=m.setContext(R),F=M.lineWidth,V=M.color,j=L.dash||[],U=L.dashOffset,z=M.tickWidth,B=M.tickColor,q=M.tickBorderDash||[],W=M.tickBorderDashOffset;void 0!==(r=$o(this,n,b))&&(i=si(p,r,F),k?a=s=c=h=i:o=u=l=f=i,_.push({tx1:a,ty1:o,tx2:s,ty2:u,x1:c,y1:l,x2:h,y2:f,width:F,color:V,borderDash:j,borderDashOffset:U,tickWidth:z,tickColor:B,tickBorderDash:q,tickBorderDashOffset:W}))}return this._ticksLength=w,this._borderValue=t,_}},{key:"_computeLabelItems",value:function(e){var t,n,r,i,a,o,s,u,c,l,h,f=this.axis,d=this.options,p=d.position,v=d.ticks,g=this.isHorizontal(),y=this.ticks,m=v.align,b=v.crossAlign,k=v.padding,w=v.mirror,x=Jo(d.grid),_=x+k,S=w?-k:_,E=-mr(this.labelRotation),I=[],T="middle";if("top"===p)a=this.bottom-S,o=this._getXAxisLabelAlignment();else if("bottom"===p)a=this.top+S,o=this._getXAxisLabelAlignment();else if("left"===p){var A=this._getYAxisLabelAlignment(x);o=A.textAlign,i=A.x}else if("right"===p){var C=this._getYAxisLabelAlignment(x);o=C.textAlign,i=C.x}else if("x"===f){if("center"===p)a=(e.top+e.bottom)/2+_;else if(Fn(p)){var P=Object.keys(p)[0],D=p[P];a=this.chart.scales[P].getPixelForValue(D)+_}o=this._getXAxisLabelAlignment()}else if("y"===f){if("center"===p)i=(e.left+e.right)/2-_;else if(Fn(p)){var N=Object.keys(p)[0],O=p[N];i=this.chart.scales[N].getPixelForValue(O)}o=this._getYAxisLabelAlignment(x).textAlign}"y"===f&&("start"===m?T="top":"end"===m&&(T="bottom"));var R=this._getLabelSizes();for(t=0,n=y.length;t<n;++t){r=y[t].label;var M=v.setContext(this.getContext(t));s=this.getPixelForTick(t)+v.labelOffset,c=(u=this._resolveTickFontOptions(t)).lineHeight;var L=(l=Ln(r)?r.length:1)/2,F=M.color,V=M.textStrokeColor,j=M.textStrokeWidth,U=o;g?(i=s,"inner"===o&&(U=t===n-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),h="top"===p?"near"===b||0!==E?-l*c+c/2:"center"===b?-R.highest.height/2-L*c+c:-R.highest.height+c/2:"near"===b||0!==E?c/2:"center"===b?R.highest.height/2-L*c:R.highest.height-l*c,w&&(h*=-1),0===E||M.showLabelBackdrop||(i+=c/2*Math.sin(E))):(a=s,h=(1-l)*c/2);var z=void 0;if(M.showLabelBackdrop){var B=Ti(M.backdropPadding),q=R.heights[t],W=R.widths[t],H=h-B.top,K=0-B.left;switch(T){case"middle":H-=q/2;break;case"bottom":H-=q}switch(o){case"center":K-=W/2;break;case"right":K-=W}z={left:K,top:H,width:W+B.width,height:q+B.height,color:M.backdropColor}}I.push({label:r,font:u,textOffset:h,options:{rotation:E,color:F,strokeColor:V,strokeWidth:j,textAlign:U,textBaseline:T,translation:[i,a],backdrop:z}})}return I}},{key:"_getXAxisLabelAlignment",value:function(){var e=this.options,t=e.position,n=e.ticks;if(-mr(this.labelRotation))return"top"===t?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align?r="right":"inner"===n.align&&(r="inner"),r}},{key:"_getYAxisLabelAlignment",value:function(e){var t,n,r=this.options,i=r.position,a=r.ticks,o=a.crossAlign,s=a.mirror,u=a.padding,c=e+u,l=this._getLabelSizes().widest.width;return"left"===i?s?(n=this.right+u,"near"===o?t="left":"center"===o?(t="center",n+=l/2):(t="right",n+=l)):(n=this.right-c,"near"===o?t="right":"center"===o?(t="center",n-=l/2):(t="left",n=this.left)):"right"===i?s?(n=this.left+u,"near"===o?t="right":"center"===o?(t="center",n-=l/2):(t="left",n-=l)):(n=this.left+c,"near"===o?t="left":"center"===o?(t="center",n+=l/2):(t="right",n=this.right)):t="right",{textAlign:t,x:n}}},{key:"_computeLabelArea",value:function(){if(!this.options.ticks.mirror){var e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var e=this.ctx,t=this.options.backgroundColor,n=this.left,r=this.top,i=this.width,a=this.height;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,a),e.restore())}},{key:"getLineWidthForValue",value:function(e){var t=this.options.grid;if(!this._isVisible()||!t.display)return 0;var n=this.ticks.findIndex((function(t){return t.value===e}));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(e){var t,n,r=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o=function(e,t,n){n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(r.display)for(t=0,n=a.length;t<n;++t){var s=a[t];r.drawOnChartArea&&o({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),r.drawTicks&&o({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var e=this.chart,t=this.ctx,n=this.options,r=n.border,i=n.grid,a=r.setContext(this.getContext()),o=r.display?a.width:0;if(o){var s,u,c,l,h=i.setContext(this.getContext(0)).lineWidth,f=this._borderValue;this.isHorizontal()?(s=si(e,this.left,o)-o/2,u=si(e,this.right,h)+h/2,c=l=f):(c=si(e,this.top,o)-o/2,l=si(e,this.bottom,h)+h/2,s=u=f),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(s,c),t.lineTo(u,l),t.stroke(),t.restore()}}},{key:"drawLabels",value:function(e){if(this.options.ticks.display){var t=this.ctx,n=this._computeLabelArea();n&&fi(t,n);var r,i=Gt(this.getLabelItems(e));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=a.options,s=a.font;mi(t,a.label,0,a.textOffset,s,o)}}catch(u){i.e(u)}finally{i.f()}n&&di(t)}}},{key:"drawTitle",value:function(){var e=this.ctx,t=this.options,n=t.position,r=t.title,i=t.reverse;if(r.display){var a=Ai(r.font),o=Ti(r.padding),s=r.align,u=a.lineHeight/2;"bottom"===n||"center"===n||Fn(n)?(u+=o.bottom,Ln(r.text)&&(u+=a.lineHeight*(r.text.length-1))):u+=o.top;var c=function(e,t,n,r){var i,a,o,s=e.top,u=e.left,c=e.bottom,l=e.right,h=e.chart,f=h.chartArea,d=h.scales,p=0,v=c-s,g=l-u;if(e.isHorizontal()){if(a=Fr(r,u,l),Fn(n)){var y=Object.keys(n)[0],m=n[y];o=d[y].getPixelForValue(m)+v-t}else o="center"===n?(f.bottom+f.top)/2+v-t:Qo(e,n,t);i=l-u}else{if(Fn(n)){var b=Object.keys(n)[0],k=n[b];a=d[b].getPixelForValue(k)-g+t}else a="center"===n?(f.left+f.right)/2-g+t:Qo(e,n,t);o=Fr(r,c,s),p="left"===n?-cr:cr}return{titleX:a,titleY:o,maxWidth:i,rotation:p}}(this,u,n,s),l=c.titleX,h=c.titleY,f=c.maxWidth,d=c.rotation;mi(e,r.text,0,0,a,{color:r.color,maxWidth:f,rotation:d,textAlign:es(s,n,i),textBaseline:"middle",translation:[l,h]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var e=this,t=this.options,r=t.ticks&&t.ticks.z||0,i=Un(t.grid&&t.grid.z,-1),a=Un(t.border&&t.border.z,0);return this._isVisible()&&this.draw===n.prototype.draw?[{z:i,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:a,draw:function(){e.drawBorder()}},{z:r,draw:function(t){e.drawLabels(t)}}]:[{z:r,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(e){var t,n,r=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];for(t=0,n=r.length;t<n;++t){var o=r[t];o[i]!==this.id||e&&o.type!==e||a.push(o)}return a}},{key:"_resolveTickFontOptions",value:function(e){return Ai(this.options.ticks.setContext(this.getContext(e)).font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}]),n}(Ho),ns=function(){function e(t,n,r){Xt(this,e),this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}return Jt(e,[{key:"isForType",value:function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}},{key:"register",value:function(e){var t,n=Object.getPrototypeOf(e);(function(e){return"id"in e&&"defaults"in e})(n)&&(t=this.register(n));var r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){var r=Qn(Object.create(null),[n?ii.get(n):{},ii.get(t),e.defaults]);ii.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((function(n){var r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),o=t[n].split("."),s=o.pop(),u=o.join(".");ii.route(a,i,u,s)}))}(t,e.defaultRoutes);e.descriptors&&ii.describe(t,e.descriptors)}(e,a,t),this.override&&ii.override(e.id,e.overrides)),a}},{key:"get",value:function(e){return this.items[e]}},{key:"unregister",value:function(e){var t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in ii[r]&&(delete ii[r][n],this.override&&delete Zr[n])}}]),e}();var rs=function(){function e(){Xt(this,e),this.controllers=new ns(za,"datasets",!0),this.elements=new ns(Ho,"elements"),this.plugins=new ns(Object,"plugins"),this.scales=new ns(ts,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return Jt(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}},{key:"addControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}},{key:"addElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}},{key:"addPlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}},{key:"addScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}},{key:"getController",value:function(e){return this._get(e,this.controllers,"controller")}},{key:"getElement",value:function(e){return this._get(e,this.elements,"element")}},{key:"getPlugin",value:function(e){return this._get(e,this.plugins,"plugin")}},{key:"getScale",value:function(e){return this._get(e,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}},{key:"removeElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}},{key:"removePlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}},{key:"removeScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}},{key:"_each",value:function(e,t,n){var r=this;Yt(t).forEach((function(t){var i=n||r._getRegistryForType(t);n||i.isForType(t)||i===r.plugins&&t.id?r._exec(e,i,t):qn(t,(function(t){var i=n||r._getRegistryForType(t);r._exec(e,i,t)}))}))}},{key:"_exec",value:function(e,t,n){var r=er(e);Bn(n["before"+r],[],n),t[e](n),Bn(n["after"+r],[],n)}},{key:"_getRegistryForType",value:function(e){for(var t=0;t<this._typedRegistries.length;t++){var n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}},{key:"_get",value:function(e,t,n){var r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}]),e}(),is=new rs,as=function(){function e(){Xt(this,e),this._init=[]}return Jt(e,[{key:"notify",value:function(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));var i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}},{key:"_notify",value:function(e,t,n,r){r=r||{};var i,a=Gt(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=o.plugin;if(!1===Bn(s[n],[t,r,o.options],s)&&r.cancelable)return!1}}catch(u){a.e(u)}finally{a.f()}return!0}},{key:"invalidate",value:function(){Mn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(e){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}},{key:"_createDescriptors",value:function(e,t){var n=e&&e.config,r=Un(n.options&&n.options.plugins,{}),i=function(e){for(var t={},n=[],r=Object.keys(is.plugins.items),i=0;i<r.length;i++)n.push(is.getPlugin(r[i]));for(var a=e.plugins||[],o=0;o<a.length;o++){var s=a[o];-1===n.indexOf(s)&&(n.push(s),t[s.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){var i,a=t.plugins,o=t.localIds,s=[],u=e.getContext(),c=Gt(a);try{for(c.s();!(i=c.n()).done;){var l=i.value,h=l.id,f=os(n[h],r);null!==f&&s.push({plugin:l,options:ss(e.config,{plugin:l,local:o[h]},f,u)})}}catch(d){c.e(d)}finally{c.f()}return s}(e,i,r,t):[]}},{key:"_notifyStateChanges",value:function(e){var t=this._oldCache||[],n=this._cache,r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.plugin.id===t.plugin.id}))}))};this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}]),e}();function os(e,t){return t||!1!==e?!0===e?{}:e:null}function ss(e,t,n,r){var i=t.plugin,a=t.local,o=e.pluginScopeKeys(i),s=e.getOptionScopes(n,o);return a&&i.defaults&&s.push(i.defaults),e.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function us(e,t){var n=ii.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function cs(e){if("x"===e||"y"===e||"r"===e)return e}function ls(e){if(cs(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i],s=o.axis||("top"===(u=o.position)||"bottom"===u?"x":"left"===u||"right"===u?"y":void 0)||e.length>1&&cs(e[0].toLowerCase());if(s)return s}var u;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function hs(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function fs(e,t){var n=Zr[e.type]||{scales:{}},r=t.scales||{},i=us(e.type,t),a=Object.create(null);return Object.keys(r).forEach((function(t){var o=r[t];if(!Fn(o))return console.error("Invalid scale configuration for scale: ".concat(t));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));var s=ls(t,o,function(e,t){if(t.data&&t.data.datasets){var n=t.data.datasets.filter((function(t){return t.xAxisID===e||t.yAxisID===e}));if(n.length)return hs(e,"x",n[0])||hs(e,"y",n[0])}return{}}(t,e),ii.scales[o.type]),u=function(e,t){return e===t?"_index_":"_value_"}(s,i),c=n.scales||{};a[t]=Yn(Object.create(null),[{axis:s},o,c[s],c[u]])})),e.data.datasets.forEach((function(n){var i=n.type||e.type,o=n.indexAxis||us(i,t),s=(Zr[i]||{}).scales||{};Object.keys(s).forEach((function(e){var t=function(e,t){var n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||t;a[i]=a[i]||Object.create(null),Yn(a[i],[{axis:t},r[i],s[e]])}))})),Object.keys(a).forEach((function(e){var t=a[e];Yn(t,[ii.scales[t.type],ii.scale])})),a}function ds(e){var t=e.options||(e.options={});t.plugins=Un(t.plugins,{}),t.scales=fs(e,t)}function ps(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}var vs=new Map,gs=new Set;function ys(e,t){var n=vs.get(e);return n||(n=t(),vs.set(e,n),gs.add(n)),n}var ms=function(e,t,n){var r=Zn(t,n);void 0!==r&&e.add(r)},bs=function(){function e(t){Xt(this,e),this._config=function(e){return(e=e||{}).data=ps(e.data),ds(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}return Jt(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=ps(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var e=this._config;this.clearCache(),ds(e)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(e){return ys(e,(function(){return[["datasets.".concat(e),""]]}))}},{key:"datasetAnimationScopeKeys",value:function(e,t){return ys("".concat(e,".transition.").concat(t),(function(){return[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]}))}},{key:"datasetElementScopeKeys",value:function(e,t){return ys("".concat(e,"-").concat(t),(function(){return[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]}))}},{key:"pluginScopeKeys",value:function(e){var t=e.id,n=this.type;return ys("".concat(n,"-plugin-").concat(t),(function(){return[["plugins.".concat(t)].concat(Yt(e.additionalOptionScopes||[]))]}))}},{key:"_cachedScopes",value:function(e,t){var n=this._scopeCache,r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}},{key:"getOptionScopes",value:function(e,t,n){var r=this.options,i=this.type,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;var s=new Set;t.forEach((function(t){e&&(s.add(e),t.forEach((function(t){return ms(s,e,t)}))),t.forEach((function(e){return ms(s,r,e)})),t.forEach((function(e){return ms(s,Zr[i]||{},e)})),t.forEach((function(e){return ms(s,ii,e)})),t.forEach((function(e){return ms(s,ei,e)}))}));var u=Array.from(s);return 0===u.length&&u.push(Object.create(null)),gs.has(t)&&a.set(t,u),u}},{key:"chartOptionScopes",value:function(){var e=this.options,t=this.type;return[e,Zr[t]||{},ii.datasets[t]||{},{type:t},ii,ei]}},{key:"resolveNamedOptions",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],i={$shared:!0},a=ks(this._resolverCache,e,r),o=a.resolver,s=a.subPrefixes,u=o;(function(e,t){var n,r=Oi(e),i=r.isScriptable,a=r.isIndexable,o=Gt(t);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i(s),c=a(s),l=(c||u)&&e[s];if(u&&(nr(l)||ws(l))||c&&Ln(l))return!0}}catch(h){o.e(h)}finally{o.f()}return!1})(o,t)&&(i.$shared=!1,u=Ni(o,n=nr(n)?n():n,this.createResolver(e,n,s)));var c,l=Gt(t);try{for(l.s();!(c=l.n()).done;){var h=c.value;i[h]=u[h]}}catch(f){l.e(f)}finally{l.f()}return i}},{key:"createResolver",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0,i=ks(this._resolverCache,e,n).resolver;return Fn(t)?Ni(i,t,void 0,r):i}}]),e}();function ks(e,t,n){var r=e.get(t);r||(r=new Map,e.set(t,r));var i=n.join(),a=r.get(i);a||(a={resolver:Di(t,n),subPrefixes:n.filter((function(e){return!e.toLowerCase().includes("hover")}))},r.set(i,a));return a}var ws=function(e){return Fn(e)&&Object.getOwnPropertyNames(e).reduce((function(t,n){return t||nr(e[n])}),!1)};var xs=["top","bottom","left","right","chartArea"];function _s(e,t){return"top"===e||"bottom"===e||-1===xs.indexOf(e)&&"x"===t}function Ss(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Es(e){var t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Bn(n&&n.onComplete,[e],t)}function Is(e){var t=e.chart,n=t.options.animation;Bn(n&&n.onProgress,[e],t)}function Ts(e){return Ji()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var As={},Cs=function(e){var t=Ts(e);return Object.values(As).filter((function(e){return e.canvas===t})).pop()};function Ps(e,t,n){for(var r=0,i=Object.keys(e);r<i.length;r++){var a=i[r],o=+a;if(o>=t){var s=e[a];delete e[a],(n>0||o>t)&&(e[o+n]=s)}}}var Ds=function(){function e(t,n){var r=this;Xt(this,e);var i=this.config=new bs(n),a=Ts(t),o=Cs(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");var s=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(e){return!Ji()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Co:Wo}(a)),this.platform.updateConfig(i);var u=this.platform.acquireContext(a,s.aspectRatio),c=u&&u.canvas,l=c&&c.height,h=c&&c.width;this.id=Rn(),this.ctx=u,this.canvas=c,this.width=h,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new as,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){var n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((function(e){return r.update(e)}),s.resizeDelay||0),this._dataChanges=[],As[this.id]=this,u&&c?(Ea.listen(this,"complete",Es),Ea.listen(this,"progress",Is),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return Jt(e,[{key:"aspectRatio",get:function(){var e=this.options,t=e.aspectRatio,n=e.maintainAspectRatio,r=this.width,i=this.height,a=this._aspectRatio;return Mn(t)?n&&a?a:i?r/i:null:t}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}},{key:"registry",get:function(){return is}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ua(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return ui(this.canvas,this.ctx),this}},{key:"stop",value:function(){return Ea.stop(this),this}},{key:"resize",value:function(e,t){Ea.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}},{key:"_resize",value:function(e,t){var n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ua(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),Bn(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){qn(this.options.scales||{},(function(e,t){e.id=t}))}},{key:"buildOrUpdateScales",value:function(){var e=this,t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((function(e,t){return e[t]=!1,e}),{}),a=[];n&&(a=a.concat(Object.keys(n).map((function(e){var t=n[e],r=ls(e,t),i="r"===r,a="x"===r;return{options:t,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}})))),qn(a,(function(n){var a=n.options,o=a.id,s=ls(o,a),u=Un(a.type,n.dtype);void 0!==a.position&&_s(a.position,s)===_s(n.dposition)||(a.position=n.dposition),i[o]=!0;var c=null;o in r&&r[o].type===u?c=r[o]:(c=new(is.getScale(u))({id:o,type:u,ctx:e.ctx,chart:e}),r[c.id]=c);c.init(a,t)})),qn(i,(function(e,t){e||delete r[t]})),qn(r,(function(t){To.configure(e,t,t.options),To.addBox(e,t)}))}},{key:"_updateMetasets",value:function(){var e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((function(e,t){return e.index-t.index})),n>t){for(var r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Ss("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var e=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach((function(t,r){0===n.filter((function(e){return e===t._dataset})).length&&e._destroyDatasetMeta(r)}))}},{key:"buildOrUpdateControllers",value:function(){var e,t,n=[],r=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=r.length;e<t;e++){var i=r[e],a=this.getDatasetMeta(e),o=i.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(e),a=this.getDatasetMeta(e)),a.type=o,a.indexAxis=i.indexAxis||us(o,this.options),a.order=i.order||0,a.index=e,a.label=""+i.label,a.visible=this.isDatasetVisible(e),a.controller)a.controller.updateIndex(e),a.controller.linkScales();else{var s=is.getController(o),u=ii.datasets[o],c=u.datasetElementType,l=u.dataElementType;Object.assign(s,{dataElementType:is.getElement(l),datasetElementType:c&&is.getElement(c)}),a.controller=new s(this,e),n.push(a.controller)}}return this._updateMetasets(),n}},{key:"_resetElements",value:function(){var e=this;qn(this.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(e){var t=this.config;t.update();var n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})){var i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var a=0,o=0,s=this.data.datasets.length;o<s;o++){var u=this.getDatasetMeta(o).controller,c=!r&&-1===i.indexOf(u);u.buildOrUpdateElements(c),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||qn(i,(function(e){e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ss("z","_idx"));var l=this._active,h=this._lastEvent;h?this._eventHandler(h,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;qn(this.scales,(function(t){To.removeBox(e,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);rr(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var e,t=this._hiddenIndices,n=Gt(this._getUniformDataChanges()||[]);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.method,a=r.start,o=r.count;Ps(t,a,"_removeElements"===i?-o:o)}}catch(s){n.e(s)}finally{n.f()}}},{key:"_getUniformDataChanges",value:function(){var e=this._dataChanges;if(e&&e.length){this._dataChanges=[];for(var t=this.data.datasets.length,n=function(t){return new Set(e.filter((function(e){return e[0]===t})).map((function(e,t){return t+","+e.splice(1).join(",")})))},r=n(0),i=1;i<t;i++)if(!rr(r,n(i)))return;return Array.from(r).map((function(e){return e.split(",")})).map((function(e){return{method:e[1],start:+e[2],count:+e[3]}}))}}},{key:"_updateLayout",value:function(e){var t=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){To.update(this,this.width,this.height,e);var n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],qn(this.boxes,(function(e){var n;r&&"chartArea"===e.position||(e.configure&&e.configure(),(n=t._layers).push.apply(n,Yt(e._layers())))}),this),this._layers.forEach((function(e,t){e._idx=t})),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(var t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(var r=0,i=this.data.datasets.length;r<i;++r)this._updateDataset(r,nr(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}},{key:"_updateDataset",value:function(e,t){var n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ea.has(this)?this.attached&&!Ea.running(this)&&Ea.start(this):(this.draw(),Es({chart:this})))}},{key:"draw",value:function(){var e;if(this._resizeBeforeDraw){var t=this._resizeBeforeDraw,n=t.width,r=t.height;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var i=this._layers;for(e=0;e<i.length&&i[e].z<=0;++e)i[e].draw(this.chartArea);for(this._drawDatasets();e<i.length;++e)i[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(e){var t,n,r=this._sortedMetasets,i=[];for(t=0,n=r.length;t<n;++t){var a=r[t];e&&!a.visible||i.push(a)}return i}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var e=this.getSortedVisibleDatasetMetas(),t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(e){var t=this.ctx,n=e._clip,r=!n.disabled,i=function(e){var t=e.xScale,n=e.yScale;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}(e)||this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&fi(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&di(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}},{key:"isPointInArea",value:function(e){return hi(e,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(e,t,n,r){var i=po.modes[t];return"function"===typeof i?i(this,e,n,r):[]}},{key:"getDatasetMeta",value:function(e){var t=this.data.datasets[e],n=this._metasets,r=n.filter((function(e){return e&&e._dataset===t})).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}},{key:"getContext",value:function(){return this.$context||(this.$context=Pi(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(e){var t=this.data.datasets[e];if(!t)return!1;var n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}},{key:"setDatasetVisibility",value:function(e,t){this.getDatasetMeta(e).hidden=!t}},{key:"toggleDataVisibility",value:function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}},{key:"getDataVisibility",value:function(e){return!this._hiddenIndices[e]}},{key:"_updateVisibility",value:function(e,t,n){var r=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);tr(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update((function(t){return t.datasetIndex===e?r:void 0})))}},{key:"hide",value:function(e,t){this._updateVisibility(e,t,!1)}},{key:"show",value:function(e,t){this._updateVisibility(e,t,!0)}},{key:"_destroyDatasetMeta",value:function(e){var t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}},{key:"_stop",value:function(){var e,t;for(this.stop(),Ea.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var e=this.canvas,t=this.ctx;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ui(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete As[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var e=this,t=this._listeners,n=this.platform,r=function(t,n,r){t.offsetX=n,t.offsetY=r,e._eventHandler(t)};qn(this.options.events,(function(i){return function(r,i){n.addEventListener(e,r,i),t[r]=i}(i,r)}))}},{key:"bindResponsiveEvents",value:function(){var e=this;this._responsiveListeners||(this._responsiveListeners={});var t,n=this._responsiveListeners,r=this.platform,i=function(t,i){r.addEventListener(e,t,i),n[t]=i},a=function(t,i){n[t]&&(r.removeEventListener(e,t,i),delete n[t])},o=function(t,n){e.canvas&&e.resize(t,n)},s=function n(){a("attach",n),e.attached=!0,e.resize(),i("resize",o),i("detach",t)};t=function(){e.attached=!1,a("resize",o),e._stop(),e._resize(0,0),i("attach",s)},r.isAttached(this.canvas)?s():t()}},{key:"unbindEvents",value:function(){var e=this;qn(this._listeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._listeners={},qn(this._responsiveListeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(e,t,n){var r,i,a,o=n?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+o+"DatasetHoverStyle"](),i=0,a=e.length;i<a;++i){var s=(r=e[i])&&this.getDatasetMeta(r.datasetIndex).controller;s&&s[o+"HoverStyle"](r.element,r.datasetIndex,r.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e){var t=this,n=this._active||[],r=e.map((function(e){var n=e.datasetIndex,r=e.index,i=t.getDatasetMeta(n);if(!i)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:i.data[r],index:r}}));!Wn(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}},{key:"notifyPlugins",value:function(e,t,n){return this._plugins.notify(this,e,t,n)}},{key:"isPluginEnabled",value:function(e){return 1===this._plugins._cache.filter((function(t){return t.plugin.id===e})).length}},{key:"_updateHoverStyles",value:function(e,t,n){var r=this.options.hover,i=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index}))}))},a=i(t,e),o=n?e:i(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}},{key:"_eventHandler",value:function(e,t){var n=this,r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=function(t){return(t.options.events||n.options.events).includes(e.native.type)};if(!1!==this.notifyPlugins("beforeEvent",r,i)){var a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(a||r.changed)&&this.render(),this}}},{key:"_handleEvent",value:function(e,t,n){var r=this._active,i=void 0===r?[]:r,a=this.options,o=t,s=this._getActiveElements(e,i,n,o),u=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),c=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,u);n&&(this._lastEvent=null,Bn(a.onHover,[e,s,this],this),u&&Bn(a.onClick,[e,s,this],this));var l=!Wn(s,i);return(l||t)&&(this._active=s,this._updateHoverStyles(s,i,t)),this._lastEvent=c,l}},{key:"_getActiveElements",value:function(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;var i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}],[{key:"register",value:function(){is.add.apply(is,arguments),Ns()}},{key:"unregister",value:function(){is.remove.apply(is,arguments),Ns()}}]),e}();function Ns(){return qn(Ds.instances,(function(e){return e._plugins.invalidate()}))}function Os(e,t,n,r){var i=Si(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(n-t)/2,o=Math.min(a,r*t/2),s=function(e){var t=(n-Math.min(a,e))*r/2;return Ir(e,0,Math.min(a,t))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:Ir(i.innerStart,0,o),innerEnd:Ir(i.innerEnd,0,o)}}function Rs(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Ms(e,t,n,r,i,a){var o=t.x,s=t.y,u=t.startAngle,c=t.pixelMargin,l=t.innerRadius,h=Math.max(t.outerRadius+r+n-c,0),f=l>0?l+r+n+c:0,d=0,p=i-u;if(r){var v=((l>0?l-r:0)+(h>0?h-r:0))/2;d=(p-(0!==v?p*v/(v+r):p))/2}var g=(p-Math.max(.001,p*h-n/ir)/h)/2,y=u+g+d,m=i-g-d,b=Os(t,f,h,m-y),k=b.outerStart,w=b.outerEnd,x=b.innerStart,_=b.innerEnd,S=h-k,E=h-w,I=y+k/S,T=m-w/E,A=f+x,C=f+_,P=y+x/A,D=m-_/C;if(e.beginPath(),a){var N=(I+T)/2;if(e.arc(o,s,h,I,N),e.arc(o,s,h,N,T),w>0){var O=Rs(E,T,o,s);e.arc(O.x,O.y,w,T,m+cr)}var R=Rs(C,m,o,s);if(e.lineTo(R.x,R.y),_>0){var M=Rs(C,D,o,s);e.arc(M.x,M.y,_,m+cr,D+Math.PI)}var L=(m-_/f+(y+x/f))/2;if(e.arc(o,s,f,m-_/f,L,!0),e.arc(o,s,f,L,y+x/f,!0),x>0){var F=Rs(A,P,o,s);e.arc(F.x,F.y,x,P+Math.PI,y-cr)}var V=Rs(S,y,o,s);if(e.lineTo(V.x,V.y),k>0){var j=Rs(S,I,o,s);e.arc(j.x,j.y,k,y-cr,I)}}else{e.moveTo(o,s);var U=Math.cos(I)*h+o,z=Math.sin(I)*h+s;e.lineTo(U,z);var B=Math.cos(T)*h+o,q=Math.sin(T)*h+s;e.lineTo(B,q)}e.closePath()}function Ls(e,t,n,r,i){var a=t.fullCircles,o=t.startAngle,s=t.circumference,u=t.options,c=u.borderWidth,l=u.borderJoinStyle,h=u.borderDash,f=u.borderDashOffset,d="inner"===u.borderAlign;if(c){e.setLineDash(h||[]),e.lineDashOffset=f,d?(e.lineWidth=2*c,e.lineJoin=l||"round"):(e.lineWidth=c,e.lineJoin=l||"bevel");var p=t.endAngle;if(a){Ms(e,t,n,r,p,i);for(var v=0;v<a;++v)e.stroke();isNaN(s)||(p=o+(s%ar||ar))}d&&function(e,t,n){var r=t.startAngle,i=t.pixelMargin,a=t.x,o=t.y,s=t.outerRadius,u=t.innerRadius,c=i/s;e.beginPath(),e.arc(a,o,s,r-c,n+c),u>i?(c=i/u,e.arc(a,o,u,n+c,r-c,!0)):e.arc(a,o,i,n+cr,r-cr),e.closePath(),e.clip()}(e,t,p),a||(Ms(e,t,n,r,p,i),e.stroke())}}Ae(Ds,"defaults",ii),Ae(Ds,"instances",As),Ae(Ds,"overrides",Zr),Ae(Ds,"registry",is),Ae(Ds,"version","4.3.0"),Ae(Ds,"getChart",Cs);var Fs=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),Ae(Mt(r=t.call(this)),"circumference",void 0),Ae(Mt(r),"endAngle",void 0),Ae(Mt(r),"fullCircles",void 0),Ae(Mt(r),"innerRadius",void 0),Ae(Mt(r),"outerRadius",void 0),Ae(Mt(r),"pixelMargin",void 0),Ae(Mt(r),"startAngle",void 0),r.options=void 0,r.circumference=void 0,r.startAngle=void 0,r.endAngle=void 0,r.innerRadius=void 0,r.outerRadius=void 0,r.pixelMargin=0,r.fullCircles=0,e&&Object.assign(Mt(r),e),r}return Jt(n,[{key:"inRange",value:function(e,t,n){var r=wr(this.getProps(["x","y"],n),{x:e,y:t}),i=r.angle,a=r.distance,o=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=o.startAngle,u=o.endAngle,c=o.innerRadius,l=o.outerRadius,h=o.circumference,f=(this.options.spacing+this.options.borderWidth)/2,d=Un(h,u-s)>=ar||Er(i,s,u),p=Tr(a,c+f,l+f);return d&&p}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),n=t.x,r=t.y,i=t.startAngle,a=t.endAngle,o=t.innerRadius,s=t.outerRadius,u=this.options,c=u.offset,l=(i+a)/2,h=(o+s+u.spacing+c)/2;return{x:n+Math.cos(l)*h,y:r+Math.sin(l)*h}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(e){var t=this.options,n=this.circumference,r=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>ar?Math.floor(n/ar):0,!(0===n||this.innerRadius<0||this.outerRadius<0)){e.save();var o=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(o)*r,Math.sin(o)*r);var s=r*(1-Math.sin(Math.min(ir,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,i){var a=t.fullCircles,o=t.startAngle,s=t.circumference,u=t.endAngle;if(a){Ms(e,t,n,r,u,i);for(var c=0;c<a;++c)e.fill();isNaN(s)||(u=o+(s%ar||ar))}Ms(e,t,n,r,u,i),e.fill()}(e,this,s,i,a),Ls(e,this,s,i,a),e.restore()}}}]),n}(Ho);function Vs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Un(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Un(n.borderDash,t.borderDash)),e.lineDashOffset=Un(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Un(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Un(n.borderWidth,t.borderWidth),e.strokeStyle=Un(n.borderColor,t.borderColor)}function js(e,t,n){e.lineTo(n.x,n.y)}function Us(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.length,i=n.start,a=void 0===i?0:i,o=n.end,s=void 0===o?r-1:o,u=t.start,c=t.end,l=Math.max(a,u),h=Math.min(s,c),f=a<u&&s<u||a>c&&s>c;return{count:r,start:l,loop:t.loop,ilen:h<l&&!f?r+h-l:h-l}}function zs(e,t,n,r){var i,a,o,s=t.points,u=t.options,c=Us(s,n,r),l=c.count,h=c.start,f=c.loop,d=c.ilen,p=function(e){return e.stepped?pi:e.tension||"monotone"===e.cubicInterpolationMode?vi:js}(u),v=r||{},g=v.move,y=void 0===g||g,m=v.reverse;for(i=0;i<=d;++i)(a=s[(h+(m?d-i:i))%l]).skip||(y?(e.moveTo(a.x,a.y),y=!1):p(e,o,a,m,u.stepped),o=a);return f&&p(e,o,a=s[(h+(m?d:0))%l],m,u.stepped),!!f}function Bs(e,t,n,r){var i,a,o,s,u,c,l=t.points,h=Us(l,n,r),f=h.count,d=h.start,p=h.ilen,v=r||{},g=v.move,y=void 0===g||g,m=v.reverse,b=0,k=0,w=function(e){return(d+(m?p-e:e))%f},x=function(){s!==u&&(e.lineTo(b,u),e.lineTo(b,s),e.lineTo(b,c))};for(y&&(a=l[w(0)],e.moveTo(a.x,a.y)),i=0;i<=p;++i)if(!(a=l[w(i)]).skip){var _=a.x,S=a.y,E=0|_;E===o?(S<s?s=S:S>u&&(u=S),b=(k*b+_)/++k):(x(),e.lineTo(_,S),o=E,k=0,s=u=S),c=S}x()}function qs(e){var t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Bs:zs}Ae(Fs,"id","arc"),Ae(Fs,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ae(Fs,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ae(Fs,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e}});var Ws="function"===typeof Path2D;function Hs(e,t,n,r){Ws&&!t.options.segment?function(e,t,n,r){var i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Vs(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){var i,a=t.segments,o=t.options,s=qs(t),u=Gt(a);try{for(u.s();!(i=u.n()).done;){var c=i.value;Vs(e,o,c.style),e.beginPath(),s(e,t,c,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}}catch(l){u.e(l)}finally{u.f()}}(e,t,n,r)}var Ks=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).animated=!0,r.options=void 0,r._chart=void 0,r._loop=void 0,r._fullLoop=void 0,r._path=void 0,r._points=void 0,r._segments=void 0,r._decimated=!1,r._pointsUpdated=!1,r._datasetIndex=void 0,e&&Object.assign(Mt(r),e),r}return Jt(n,[{key:"updateControlPoints",value:function(e,t){var n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){var r=n.spanGaps?this._loop:this._fullLoop;$i(this._points,n,e,r,t),this._pointsUpdated=!0}}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(e,t){var n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];var a=!!e._loop,o=function(e,t,n,r){var i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return{start:i,end:a%=t}}(n,i,a,r),s=o.start,u=o.end;return wa(e,!0===r?[{start:s,end:u,loop:a}]:function(e,t,n,r){var i,a=e.length,o=[],s=t,u=e[t];for(i=t+1;i<=n;++i){var c=e[i%a];c.skip||c.stop?u.skip||(r=!1,o.push({start:t%a,end:(i-1)%a,loop:r}),t=s=c.stop?i:null):(s=i,u.skip&&(t=i)),u=c}return null!==s&&o.push({start:t%a,end:s%a,loop:r}),o}(n,s,u<s?u+i:u,!!e._fullLoop&&0===s&&u===i-1),n,t)}(this,this.options.segment))}},{key:"first",value:function(){var e=this.segments,t=this.points;return e.length&&t[e[0].start]}},{key:"last",value:function(){var e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}},{key:"interpolate",value:function(e,t){var n=this.options,r=e[t],i=this.points,a=ka(this,{property:t,start:r,end:r});if(a.length){var o,s,u=[],c=function(e){return e.stepped?fa:e.tension||"monotone"===e.cubicInterpolationMode?da:ha}(n);for(o=0,s=a.length;o<s;++o){var l=a[o],h=l.start,f=l.end,d=i[h],p=i[f];if(d!==p){var v=c(d,p,Math.abs((r-d[t])/(p[t]-d[t])),n.stepped);v[t]=e[t],u.push(v)}else u.push(d)}return 1===u.length?u[0]:u}}},{key:"pathSegment",value:function(e,t,n){return qs(this)(e,this,t,n)}},{key:"path",value:function(e,t,n){var r=this.segments,i=qs(this),a=this._loop;t=t||0,n=n||this.points.length-t;var o,s=Gt(r);try{for(s.s();!(o=s.n()).done;){a&=i(e,this,o.value,{start:t,end:t+n-1})}}catch(u){s.e(u)}finally{s.f()}return!!a}},{key:"draw",value:function(e,t,n,r){var i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Hs(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}]),n}(Ho);function Gs(e,t,n,r){var i=e.options,a=e.getProps([n],r)[n];return Math.abs(t-a)<i.radius+i.hitRadius}Ae(Ks,"id","line"),Ae(Ks,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ae(Ks,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ae(Ks,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e&&"fill"!==e}});var Qs=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),Ae(Mt(r=t.call(this)),"parsed",void 0),Ae(Mt(r),"skip",void 0),Ae(Mt(r),"stop",void 0),r.options=void 0,r.parsed=void 0,r.skip=void 0,r.stop=void 0,e&&Object.assign(Mt(r),e),r}return Jt(n,[{key:"inRange",value:function(e,t,n){var r=this.options,i=this.getProps(["x","y"],n),a=i.x,o=i.y;return Math.pow(e-a,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}},{key:"inXRange",value:function(e,t){return Gs(this,e,"x",t)}},{key:"inYRange",value:function(e,t){return Gs(this,e,"y",t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"size",value:function(e){var t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))}},{key:"draw",value:function(e,t){var n=this.options;this.skip||n.radius<.1||!hi(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,ci(e,n,this.x,this.y))}},{key:"getRange",value:function(){var e=this.options||{};return e.radius+e.hitRadius}}]),n}(Ho);function Ys(e,t){var n,r,i,a,o,s=e.getProps(["x","y","base","width","height"],t),u=s.x,c=s.y,l=s.base,h=s.width,f=s.height;return e.horizontal?(o=f/2,n=Math.min(u,l),r=Math.max(u,l),i=c-o,a=c+o):(n=u-(o=h/2),r=u+o,i=Math.min(c,l),a=Math.max(c,l)),{left:n,top:i,right:r,bottom:a}}function Xs(e,t,n,r){return e?0:Ir(t,n,r)}function $s(e){var t=Ys(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){var r=e.options.borderWidth,i=e.borderSkipped,a=Ei(r);return{t:Xs(i.top,a.top,0,n),r:Xs(i.right,a.right,0,t),b:Xs(i.bottom,a.bottom,0,n),l:Xs(i.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){var r=e.getProps(["enableBorderRadius"]).enableBorderRadius,i=e.options.borderRadius,a=Ii(i),o=Math.min(t,n),s=e.borderSkipped,u=r||Fn(i);return{topLeft:Xs(!u||s.top||s.left,a.topLeft,0,o),topRight:Xs(!u||s.top||s.right,a.topRight,0,o),bottomLeft:Xs(!u||s.bottom||s.left,a.bottomLeft,0,o),bottomRight:Xs(!u||s.bottom||s.right,a.bottomRight,0,o)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Js(e,t,n,r){var i=null===t,a=null===n,o=e&&!(i&&a)&&Ys(e,r);return o&&(i||Tr(t,o.left,o.right))&&(a||Tr(n,o.top,o.bottom))}function Zs(e,t){e.rect(t.x,t.y,t.w,t.h)}function eu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+o,radius:e.radius}}Ae(Qs,"id","point"),Ae(Qs,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ae(Qs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var tu=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).options=void 0,r.horizontal=void 0,r.base=void 0,r.width=void 0,r.height=void 0,r.inflateAmount=void 0,e&&Object.assign(Mt(r),e),r}return Jt(n,[{key:"draw",value:function(e){var t,n=this.inflateAmount,r=this.options,i=r.borderColor,a=r.backgroundColor,o=$s(this),s=o.inner,u=o.outer,c=(t=u.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?bi:Zs;e.save(),u.w===s.w&&u.h===s.h||(e.beginPath(),c(e,eu(u,n,s)),e.clip(),c(e,eu(s,-n,u)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),c(e,eu(s,n)),e.fillStyle=a,e.fill(),e.restore()}},{key:"inRange",value:function(e,t,n){return Js(this,e,t,n)}},{key:"inXRange",value:function(e,t){return Js(this,e,null,t)}},{key:"inYRange",value:function(e,t){return Js(this,null,e,t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","base","horizontal"],e),n=t.x,r=t.y,i=t.base,a=t.horizontal;return{x:a?(n+i)/2:n,y:a?r:(r+i)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}]),n}(Ho);Ae(tu,"id","bar"),Ae(tu,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ae(tu,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var nu=Object.freeze({__proto__:null,ArcElement:Fs,BarElement:tu,LineElement:Ks,PointElement:Qs}),ru=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],iu=ru.map((function(e){return e.replace("rgb(","rgba(").replace(")",", 0.5)")}));function au(e){return ru[e%ru.length]}function ou(e){return iu[e%iu.length]}function su(e){var t=0;return function(n,r){var i=e.getDatasetMeta(r).controller;i instanceof Ja?t=function(e,t){return e.backgroundColor=e.data.map((function(){return au(t++)})),t}(n,t):i instanceof eo?t=function(e,t){return e.backgroundColor=e.data.map((function(){return ou(t++)})),t}(n,t):i&&(t=function(e,t){return e.borderColor=au(t),e.backgroundColor=ou(t),++t}(n,t))}}function uu(e){var t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var cu={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout:function(e,t,n){if(n.enabled){var r=e.config,i=r.data.datasets,a=r.options,o=a.elements;if(n.forceOverride||!(uu(i)||(s=a,s&&(s.borderColor||s.backgroundColor))||o&&uu(o))){var s,u=su(e);i.forEach(u)}}}};function lu(e){if(e._decimated){var t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function hu(e){e.data.datasets.forEach((function(e){lu(e)}))}var fu={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(e,t,n){if(n.enabled){var r=e.width;e.data.datasets.forEach((function(t,i){var a=t._data,o=t.indexAxis,s=e.getDatasetMeta(i),u=a||t.data;if("y"!==Ci([o,e.options.indexAxis])&&s.controller.supportsDecimation){var c=e.scales[s.xAxisID];if(("linear"===c.type||"time"===c.type)&&!e.options.parsing){var l=function(e,t){var n=t.length,r=0,i=e.iScale,a=i.getUserBounds(),o=a.min,s=a.max,u=a.minDefined,c=a.maxDefined;return u&&(r=Ir(Cr(t,i.axis,o).lo,0,n-1)),{start:r,count:c?Ir(Cr(t,i.axis,s).hi+1,r,n)-r:n-r}}(s,u),h=l.start,f=l.count;if(f<=(n.threshold||4*r))lu(t);else{var d;switch(Mn(a)&&(t._data=u,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":d=function(e,t,n,r,i){var a=i.samples||r;if(a>=n)return e.slice(t,t+n);var o,s,u,c,l,h=[],f=(n-2)/(a-2),d=0,p=t+n-1,v=t;for(h[d++]=e[v],o=0;o<a-2;o++){var g=0,y=0,m=void 0,b=Math.floor((o+1)*f)+1+t,k=Math.min(Math.floor((o+2)*f)+1,n)+t,w=k-b;for(m=b;m<k;m++)g+=e[m].x,y+=e[m].y;g/=w,y/=w;var x=Math.floor(o*f)+1+t,_=Math.min(Math.floor((o+1)*f)+1,n)+t,S=e[v],E=S.x,I=S.y;for(u=c=-1,m=x;m<_;m++)(c=.5*Math.abs((E-g)*(e[m].y-I)-(E-e[m].x)*(y-I)))>u&&(u=c,s=e[m],l=m);h[d++]=s,v=l}return h[d++]=e[p],h}(u,h,f,r,n);break;case"min-max":d=function(e,t,n,r){var i,a,o,s,u,c,l,h,f,d,p=0,v=0,g=[],y=t+n-1,m=e[t].x,b=e[y].x-m;for(i=t;i<t+n;++i){o=((a=e[i]).x-m)/b*r,s=a.y;var k=0|o;if(k===u)s<f?(f=s,c=i):s>d&&(d=s,l=i),p=(v*p+a.x)/++v;else{var w=i-1;if(!Mn(c)&&!Mn(l)){var x=Math.min(c,l),_=Math.max(c,l);x!==h&&x!==w&&g.push(Pe(Pe({},e[x]),{},{x:p})),_!==h&&_!==w&&g.push(Pe(Pe({},e[_]),{},{x:p}))}i>0&&w!==h&&g.push(e[w]),g.push(a),u=k,v=0,f=d=s,c=l=h=i}}return g}(u,h,f,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=d}}}}))}else hu(e)},destroy:function(e){hu(e)}};function du(e,t,n,r){if(!r){var i=t[e],a=n[e];return"angle"===e&&(i=Sr(i),a=Sr(a)),{property:e,start:i,end:a}}}function pu(e,t,n){for(;t>e;t--){var r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function vu(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function gu(e,t){var n=[],r=!1;return Ln(e)?(r=!0,n=e):n=function(e,t){var n=e||{},r=n.x,i=void 0===r?null:r,a=n.y,o=void 0===a?null:a,s=t.points,u=[];return t.segments.forEach((function(e){var t=e.start,n=e.end;n=pu(t,n,s);var r=s[t],a=s[n];null!==o?(u.push({x:r.x,y:o}),u.push({x:a.x,y:o})):null!==i&&(u.push({x:i,y:r.y}),u.push({x:i,y:a.y}))})),u}(e,t),n.length?new Ks({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function yu(e){return e&&!1!==e.fill}function mu(e,t,n){var r,i=e[t].fill,a=[t];if(!n)return i;for(;!1!==i&&-1===a.indexOf(i);){if(!Vn(i))return i;if(!(r=e[i]))return!1;if(r.visible)return i;a.push(i),i=r.fill}return!1}function bu(e,t,n){var r=function(e){var t=e.options,n=t.fill,r=Un(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(Fn(r))return!isNaN(r.value)&&r;var i=parseFloat(r);return Vn(i)&&Math.floor(i)===i?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function ku(e,t,n){for(var r=[],i=0;i<n.length;i++){var a=wu(n[i],t,"x"),o=a.first,s=a.last,u=a.point;if(!(!u||o&&s))if(o)r.unshift(u);else if(e.push(u),!s)break}e.push.apply(e,r)}function wu(e,t,n){var r=e.interpolate(t,n);if(!r)return{};for(var i=r[n],a=e.segments,o=e.points,s=!1,u=!1,c=0;c<a.length;c++){var l=a[c],h=o[l.start][n],f=o[l.end][n];if(Tr(i,h,f)){s=i===h,u=i===f;break}}return{first:s,last:u,point:r}}var xu=function(){function e(t){Xt(this,e),this.x=t.x,this.y=t.y,this.radius=t.radius}return Jt(e,[{key:"pathSegment",value:function(e,t,n){var r=this.x,i=this.y,a=this.radius;return t=t||{start:0,end:ar},e.arc(r,i,a,t.end,t.start,!0),!n.bounds}},{key:"interpolate",value:function(e){var t=this.x,n=this.y,r=this.radius,i=e.angle;return{x:t+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}]),e}();function _u(e){var t=e.chart,n=e.fill,r=e.line;if(Vn(n))return function(e,t){var n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){var t=e.scale,n=e.index,r=e.line,i=[],a=r.segments,o=r.points,s=function(e,t){for(var n=[],r=e.getMatchingVisibleMetas("line"),i=0;i<r.length;i++){var a=r[i];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}(t,n);s.push(gu({x:null,y:t.bottom},r));for(var u=0;u<a.length;u++)for(var c=a[u],l=c.start;l<=c.end;l++)ku(i,o[l],s);return new Ks({points:i,options:{}})}(e);if("shape"===n)return!0;var i=function(e){var t=e.scale||{};if(t.getPointPositionForValue)return function(e){var t=e.scale,n=e.fill,r=t.options,i=t.getLabels().length,a=r.reverse?t.max:t.min,o=function(e,t,n){return"start"===e?n:"end"===e?t.options.reverse?t.min:t.max:Fn(e)?e.value:t.getBaseValue()}(n,t,a),s=[];if(r.grid.circular){var u=t.getPointPositionForValue(0,a);return new xu({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(var c=0;c<i;++c)s.push(t.getPointPositionForValue(c,o));return s}(e);return function(e){var t=e.scale,n=void 0===t?{}:t,r=e.fill,i=function(e,t){var n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:Fn(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(r,n);if(Vn(i)){var a=n.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}(e)}(e);return i instanceof xu?i:gu(i,r)}function Su(e,t,n){var r=_u(t),i=t.line,a=t.scale,o=t.axis,s=i.options,u=s.fill,c=s.backgroundColor,l=u||{},h=l.above,f=void 0===h?c:h,d=l.below,p=void 0===d?c:d;r&&i.points.length&&(fi(e,n),function(e,t){var n=t.line,r=t.target,i=t.above,a=t.below,o=t.area,s=t.scale,u=n._loop?"angle":t.axis;e.save(),"x"===u&&a!==i&&(Eu(e,r,o.top),Iu(e,{line:n,target:r,color:i,scale:s,property:u}),e.restore(),e.save(),Eu(e,r,o.bottom));Iu(e,{line:n,target:r,color:a,scale:s,property:u}),e.restore()}(e,{line:i,target:r,above:f,below:p,area:n,scale:a,axis:o}),di(e))}function Eu(e,t,n){var r=t.segments,i=t.points,a=!0,o=!1;e.beginPath();var s,u=Gt(r);try{for(u.s();!(s=u.n()).done;){var c=s.value,l=c.start,h=c.end,f=i[l],d=i[pu(l,h,i)];a?(e.moveTo(f.x,f.y),a=!1):(e.lineTo(f.x,n),e.lineTo(f.x,f.y)),(o=!!t.pathSegment(e,c,{move:o}))?e.closePath():e.lineTo(d.x,n)}}catch(p){u.e(p)}finally{u.f()}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Iu(e,t){var n,r=t.line,i=t.target,a=t.property,o=t.color,s=t.scale,u=function(e,t,n){var r,i=e.segments,a=e.points,o=t.points,s=[],u=Gt(i);try{for(u.s();!(r=u.n()).done;){var c=r.value,l=c.start,h=c.end;h=pu(l,h,a);var f=du(n,a[l],a[h],c.loop);if(t.segments){var d,p=Gt(ka(t,f));try{for(p.s();!(d=p.n()).done;){var v,g=d.value,y=du(n,o[g.start],o[g.end],g.loop),m=Gt(ba(c,a,y));try{for(m.s();!(v=m.n()).done;){var b=v.value;s.push({source:b,target:g,start:Ae({},n,vu(f,y,"start",Math.max)),end:Ae({},n,vu(f,y,"end",Math.min))})}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}}else s.push({source:c,target:f,start:a[l],end:a[h]})}}catch(k){u.e(k)}finally{u.f()}return s}(r,i,a),c=Gt(u);try{for(c.s();!(n=c.n()).done;){var l=n.value,h=l.source,f=l.target,d=l.start,p=l.end,v=h.style,g=(void 0===v?{}:v).backgroundColor,y=void 0===g?o:g,m=!0!==i;e.save(),e.fillStyle=y,Tu(e,s,m&&du(a,d,p)),e.beginPath();var b=!!r.pathSegment(e,h),k=void 0;if(m){b?e.closePath():Au(e,i,p,a);var w=!!i.pathSegment(e,f,{move:b,reverse:!0});(k=b&&w)||Au(e,i,d,a)}e.closePath(),e.fill(k?"evenodd":"nonzero"),e.restore()}}catch(x){c.e(x)}finally{c.f()}}function Tu(e,t,n){var r=t.chart.chartArea,i=r.top,a=r.bottom,o=n||{},s=o.property,u=o.start,c=o.end;"x"===s&&(e.beginPath(),e.rect(u,i,c-u,a-i),e.clip())}function Au(e,t,n,r){var i=t.interpolate(n,r);i&&e.lineTo(i.x,i.y)}var Cu={id:"filler",afterDatasetsUpdate:function(e,t,n){var r,i,a,o,s=(e.data.datasets||[]).length,u=[];for(i=0;i<s;++i)o=null,(a=(r=e.getDatasetMeta(i)).dataset)&&a.options&&a instanceof Ks&&(o={visible:e.isDatasetVisible(i),index:i,fill:bu(a,i,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=o,u.push(o);for(i=0;i<s;++i)(o=u[i])&&!1!==o.fill&&(o.fill=mu(u,i,n.propagate))},beforeDraw:function(e,t,n){for(var r="beforeDraw"===n.drawTime,i=e.getSortedVisibleDatasetMetas(),a=e.chartArea,o=i.length-1;o>=0;--o){var s=i[o].$filler;s&&(s.line.updateControlPoints(a,s.axis),r&&s.fill&&Su(e.ctx,s,a))}},beforeDatasetsDraw:function(e,t,n){if("beforeDatasetsDraw"===n.drawTime)for(var r=e.getSortedVisibleDatasetMetas(),i=r.length-1;i>=0;--i){var a=r[i].$filler;yu(a)&&Su(e.ctx,a,e.chartArea)}},beforeDatasetDraw:function(e,t,n){var r=t.meta.$filler;yu(r)&&"beforeDatasetDraw"===n.drawTime&&Su(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Pu=function(e,t){var n=e.boxHeight,r=void 0===n?t:n,i=e.boxWidth,a=void 0===i?t:i;return e.usePointStyle&&(r=Math.min(r,t),a=e.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:r,itemHeight:Math.max(t,r)}},Du=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this))._added=!1,r.legendHitBoxes=[],r._hoveredItem=null,r.doughnutMode=!1,r.chart=e.chart,r.options=e.options,r.ctx=e.ctx,r.legendItems=void 0,r.columnSizes=void 0,r.lineWidths=void 0,r.maxHeight=void 0,r.maxWidth=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.height=void 0,r.width=void 0,r._margins=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return Jt(n,[{key:"update",value:function(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var e=this,t=this.options.labels||{},n=Bn(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),t.sort&&(n=n.sort((function(n,r){return t.sort(n,r,e.chart.data)}))),this.options.reverse&&n.reverse(),this.legendItems=n}},{key:"fit",value:function(){var e=this.options,t=this.ctx;if(e.display){var n,r,i=e.labels,a=Ai(i.font),o=a.size,s=this._computeTitleHeight(),u=Pu(i,o),c=u.boxWidth,l=u.itemHeight;t.font=a.string,this.isHorizontal()?(n=this.maxWidth,r=this._fitRows(s,o,c,l)+10):(r=this.maxHeight,n=this._fitCols(s,a,c,l)+10),this.width=Math.min(n,e.maxWidth||this.maxWidth),this.height=Math.min(r,e.maxHeight||this.maxHeight)}else this.width=this.height=0}},{key:"_fitRows",value:function(e,t,n,r){var i=this.ctx,a=this.maxWidth,o=this.options.labels.padding,s=this.legendHitBoxes=[],u=this.lineWidths=[0],c=r+o,l=e;i.textAlign="left",i.textBaseline="middle";var h=-1,f=-c;return this.legendItems.forEach((function(e,d){var p=n+t/2+i.measureText(e.text).width;(0===d||u[u.length-1]+p+2*o>a)&&(l+=c,u[u.length-(d>0?0:1)]=0,f+=c,h++),s[d]={left:0,top:f,row:h,width:p,height:r},u[u.length-1]+=p+o})),l}},{key:"_fitCols",value:function(e,t,n,r){var i=this.ctx,a=this.maxHeight,o=this.options.labels.padding,s=this.legendHitBoxes=[],u=this.columnSizes=[],c=a-e,l=o,h=0,f=0,d=0,p=0;return this.legendItems.forEach((function(e,a){var v=function(e,t,n,r,i){var a=function(e,t,n,r){var i=e.text;i&&"string"!==typeof i&&(i=i.reduce((function(e,t){return e.length>t.length?e:t})));return t+n.size/2+r.measureText(i).width}(r,e,t,n),o=function(e,t,n){var r=e;"string"!==typeof t.text&&(r=Nu(t,n));return r}(i,r,t.lineHeight);return{itemWidth:a,itemHeight:o}}(n,t,i,e,r),g=v.itemWidth,y=v.itemHeight;a>0&&f+y+2*o>c&&(l+=h+o,u.push({width:h,height:f}),d+=h+o,p++,h=f=0),s[a]={left:d,top:f,col:p,width:g,height:y},h=Math.max(h,g),f+=y+o})),l+=h,u.push({width:h,height:f}),l}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var e=this._computeTitleHeight(),t=this.legendHitBoxes,n=this.options,r=n.align,i=n.labels.padding,a=pa(n.rtl,this.left,this.width);if(this.isHorizontal()){var o,s=0,u=Fr(r,this.left+i,this.right-this.lineWidths[s]),c=Gt(t);try{for(c.s();!(o=c.n()).done;){var l=o.value;s!==l.row&&(s=l.row,u=Fr(r,this.left+i,this.right-this.lineWidths[s])),l.top+=this.top+e+i,l.left=a.leftForLtr(a.x(u),l.width),u+=l.width+i}}catch(g){c.e(g)}finally{c.f()}}else{var h,f=0,d=Fr(r,this.top+e+i,this.bottom-this.columnSizes[f].height),p=Gt(t);try{for(p.s();!(h=p.n()).done;){var v=h.value;v.col!==f&&(f=v.col,d=Fr(r,this.top+e+i,this.bottom-this.columnSizes[f].height)),v.top=d,v.left+=this.left+i,v.left=a.leftForLtr(a.x(v.left),v.width),d+=v.height+i}}catch(g){p.e(g)}finally{p.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var e=this.ctx;fi(e,this),this._draw(),di(e)}}},{key:"_draw",value:function(){var e,t=this,n=this.options,r=this.columnSizes,i=this.lineWidths,a=this.ctx,o=n.align,s=n.labels,u=ii.color,c=pa(n.rtl,this.left,this.width),l=Ai(s.font),h=s.padding,f=l.size,d=f/2;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=l.string;var p=Pu(s,f),v=p.boxWidth,g=p.boxHeight,y=p.itemHeight,m=this.isHorizontal(),b=this._computeTitleHeight();e=m?{x:Fr(o,this.left+h,this.right-i[0]),y:this.top+h+b,line:0}:{x:this.left+h,y:Fr(o,this.top+b+h,this.bottom-r[0].height),line:0},va(this.ctx,n.textDirection);var k=y+h;this.legendItems.forEach((function(p,w){a.strokeStyle=p.fontColor,a.fillStyle=p.fontColor;var x=a.measureText(p.text).width,_=c.textAlign(p.textAlign||(p.textAlign=s.textAlign)),S=v+d+x,E=e.x,I=e.y;if(c.setWidth(t.width),m?w>0&&E+S+h>t.right&&(I=e.y+=k,e.line++,E=e.x=Fr(o,t.left+h,t.right-i[e.line])):w>0&&I+k>t.bottom&&(E=e.x=E+r[e.line].width+h,e.line++,I=e.y=Fr(o,t.top+b+h,t.bottom-r[e.line].height)),function(e,t,n){if(!(isNaN(v)||v<=0||isNaN(g)||g<0)){a.save();var r=Un(n.lineWidth,1);if(a.fillStyle=Un(n.fillStyle,u),a.lineCap=Un(n.lineCap,"butt"),a.lineDashOffset=Un(n.lineDashOffset,0),a.lineJoin=Un(n.lineJoin,"miter"),a.lineWidth=r,a.strokeStyle=Un(n.strokeStyle,u),a.setLineDash(Un(n.lineDash,[])),s.usePointStyle){var i={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},o=c.xPlus(e,v/2);li(a,i,o,t+d,s.pointStyleWidth&&v)}else{var l=t+Math.max((f-g)/2,0),h=c.leftForLtr(e,v),p=Ii(n.borderRadius);a.beginPath(),Object.values(p).some((function(e){return 0!==e}))?bi(a,{x:h,y:l,w:v,h:g,radius:p}):a.rect(h,l,v,g),a.fill(),0!==r&&a.stroke()}a.restore()}}(c.x(E),I,p),E=function(e,t,n,r){return e===(r?"left":"right")?n:"center"===e?(t+n)/2:t}(_,E+v+d,m?E+S:t.right,n.rtl),function(e,t,n){mi(a,n.text,e,t+y/2,l,{strikethrough:n.hidden,textAlign:c.textAlign(n.textAlign)})}(c.x(E),I,p),m)e.x+=S+h;else if("string"!==typeof p.text){var T=l.lineHeight;e.y+=Nu(p,T)}else e.y+=k})),ga(this.ctx,n.textDirection)}},{key:"drawTitle",value:function(){var e=this.options,t=e.title,n=Ai(t.font),r=Ti(t.padding);if(t.display){var i,a=pa(e.rtl,this.left,this.width),o=this.ctx,s=t.position,u=n.size/2,c=r.top+u,l=this.left,h=this.width;if(this.isHorizontal())h=Math.max.apply(Math,Yt(this.lineWidths)),i=this.top+c,l=Fr(e.align,l,this.right-h);else{var f=this.columnSizes.reduce((function(e,t){return Math.max(e,t.height)}),0);i=c+Fr(e.align,this.top,this.bottom-f-e.labels.padding-this._computeTitleHeight())}var d=Fr(s,l,l+h);o.textAlign=a.textAlign(Lr(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,mi(o,t.text,d,i,n)}}},{key:"_computeTitleHeight",value:function(){var e=this.options.title,t=Ai(e.font),n=Ti(e.padding);return e.display?t.lineHeight+n.height:0}},{key:"_getLegendItemAt",value:function(e,t){var n,r,i;if(Tr(e,this.left,this.right)&&Tr(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(Tr(e,(r=i[n]).left,r.left+r.width)&&Tr(t,r.top,r.top+r.height))return this.legendItems[n];return null}},{key:"handleEvent",value:function(e){var t=this.options;if(function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t)){var n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){var r=this._hoveredItem,i=function(e,t){return null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index}(r,n);r&&!i&&Bn(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&Bn(t.onHover,[e,n,this],this)}else n&&Bn(t.onClick,[e,n,this],this)}}}]),n}(Ho);function Nu(e,t){return t*(e.text?e.text.length+.5:0)}var Ou={id:"legend",_element:Du,start:function(e,t,n){var r=e.legend=new Du({ctx:e.ctx,options:n,chart:e});To.configure(e,r,n),To.addBox(e,r)},stop:function(e){To.removeBox(e,e.legend),delete e.legend},beforeUpdate:function(e,t,n){var r=e.legend;To.configure(e,r,n),r.options=n},afterUpdate:function(e){var t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent:function(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(e,t,n){var r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(e){return e.chart.options.color},boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.legend.options.labels,r=n.usePointStyle,i=n.pointStyle,a=n.textAlign,o=n.color,s=n.useBorderRadius,u=n.borderRadius;return e._getSortedDatasetMetas().map((function(e){var n=e.controller.getStyle(r?0:void 0),c=Ti(n.borderWidth);return{text:t[e.index].label,fillStyle:n.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:n.borderColor,pointStyle:i||n.pointStyle,rotation:n.rotation,textAlign:a||n.textAlign,borderRadius:s&&(u||n.borderRadius),datasetIndex:e.index}}),this)}},title:{color:function(e){return e.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(e){return!e.startsWith("on")},labels:{_scriptable:function(e){return!["generateLabels","filter","sort"].includes(e)}}}},Ru=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).chart=e.chart,r.options=e.options,r.ctx=e.ctx,r._padding=void 0,r.top=void 0,r.bottom=void 0,r.left=void 0,r.right=void 0,r.width=void 0,r.height=void 0,r.position=void 0,r.weight=void 0,r.fullSize=void 0,r}return Jt(n,[{key:"update",value:function(e,t){var n=this.options;if(this.left=0,this.top=0,n.display){this.width=this.right=e,this.height=this.bottom=t;var r=Ln(n.text)?n.text.length:1;this._padding=Ti(n.padding);var i=r*Ai(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}else this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var e=this.options.position;return"top"===e||"bottom"===e}},{key:"_drawArgs",value:function(e){var t,n,r,i=this.top,a=this.left,o=this.bottom,s=this.right,u=this.options,c=u.align,l=0;return this.isHorizontal()?(n=Fr(c,a,s),r=i+e,t=s-a):("left"===u.position?(n=a+e,r=Fr(c,o,i),l=-.5*ir):(n=s-e,r=Fr(c,i,o),l=.5*ir),t=o-i),{titleX:n,titleY:r,maxWidth:t,rotation:l}}},{key:"draw",value:function(){var e=this.ctx,t=this.options;if(t.display){var n=Ai(t.font),r=n.lineHeight/2+this._padding.top,i=this._drawArgs(r),a=i.titleX,o=i.titleY,s=i.maxWidth,u=i.rotation;mi(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:u,textAlign:Lr(t.align),textBaseline:"middle",translation:[a,o]})}}}]),n}(Ho);var Mu={id:"title",_element:Ru,start:function(e,t,n){!function(e,t){var n=new Ru({ctx:e.ctx,options:t,chart:e});To.configure(e,n,t),To.addBox(e,n),e.titleBlock=n}(e,n)},stop:function(e){var t=e.titleBlock;To.removeBox(e,t),delete e.titleBlock},beforeUpdate:function(e,t,n){var r=e.titleBlock;To.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Lu=new WeakMap,Fu={id:"subtitle",start:function(e,t,n){var r=new Ru({ctx:e.ctx,options:n,chart:e});To.configure(e,r,n),To.addBox(e,r),Lu.set(e,r)},stop:function(e){To.removeBox(e,Lu.get(e)),Lu.delete(e)},beforeUpdate:function(e,t,n){var r=Lu.get(e);To.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Vu={average:function(e){if(!e.length)return!1;var t,n,r=0,i=0,a=0;for(t=0,n=e.length;t<n;++t){var o=e[t].element;if(o&&o.hasValue()){var s=o.tooltipPosition();r+=s.x,i+=s.y,++a}}return{x:r/a,y:i/a}},nearest:function(e,t){if(!e.length)return!1;var n,r,i,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var u=e[n].element;if(u&&u.hasValue()){var c=xr(t,u.getCenterPoint());c<s&&(s=c,i=u)}}if(i){var l=i.tooltipPosition();a=l.x,o=l.y}return{x:a,y:o}}};function ju(e,t){return t&&(Ln(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Uu(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function zu(e,t){var n=t.element,r=t.datasetIndex,i=t.index,a=e.getDatasetMeta(r).controller,o=a.getLabelAndValue(i),s=o.label,u=o.value;return{chart:e,label:s,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:u,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function Bu(e,t){var n=e.chart.ctx,r=e.body,i=e.footer,a=e.title,o=t.boxWidth,s=t.boxHeight,u=Ai(t.bodyFont),c=Ai(t.titleFont),l=Ai(t.footerFont),h=a.length,f=i.length,d=r.length,p=Ti(t.padding),v=p.height,g=0,y=r.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);(y+=e.beforeBody.length+e.afterBody.length,h&&(v+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y)&&(v+=d*(t.displayColors?Math.max(s,u.lineHeight):u.lineHeight)+(y-d)*u.lineHeight+(y-1)*t.bodySpacing);f&&(v+=t.footerMarginTop+f*l.lineHeight+(f-1)*t.footerSpacing);var m=0,b=function(e){g=Math.max(g,n.measureText(e).width+m)};return n.save(),n.font=c.string,qn(e.title,b),n.font=u.string,qn(e.beforeBody.concat(e.afterBody),b),m=t.displayColors?o+2+t.boxPadding:0,qn(r,(function(e){qn(e.before,b),qn(e.lines,b),qn(e.after,b)})),m=0,n.font=l.string,qn(e.footer,b),n.restore(),{width:g+=p.width,height:v}}function qu(e,t,n,r){var i=n.x,a=n.width,o=e.width,s=e.chartArea,u=s.left,c=s.right,l="center";return"center"===r?l=i<=(u+c)/2?"left":"right":i<=a/2?l="left":i>=o-a/2&&(l="right"),function(e,t,n,r){var i=r.x,a=r.width,o=n.caretSize+n.caretPadding;return"left"===e&&i+a+o>t.width||"right"===e&&i-a-o<0||void 0}(l,e,t,n)&&(l="center"),l}function Wu(e,t,n){var r=n.yAlign||t.yAlign||function(e,t){var n=t.y,r=t.height;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||qu(e,t,n,r),yAlign:r}}function Hu(e,t,n,r){var i=e.caretSize,a=e.caretPadding,o=e.cornerRadius,s=n.xAlign,u=n.yAlign,c=i+a,l=Ii(o),h=l.topLeft,f=l.topRight,d=l.bottomLeft,p=l.bottomRight,v=function(e,t){var n=e.x,r=e.width;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,s),g=function(e,t,n){var r=e.y,i=e.height;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,u,c);return"center"===u?"left"===s?v+=c:"right"===s&&(v-=c):"left"===s?v-=Math.max(h,d)+i:"right"===s&&(v+=Math.max(f,p)+i),{x:Ir(v,0,r.width-t.width),y:Ir(g,0,r.height-t.height)}}function Ku(e,t,n){var r=Ti(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function Gu(e){return ju([],Uu(e))}function Qu(e,t){var n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}var Yu={beforeTitle:On,title:function(e){if(e.length>0){var t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:On,beforeBody:On,beforeLabel:On,label:function(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;var t=e.dataset.label||"";t&&(t+=": ");var n=e.formattedValue;return Mn(n)||(t+=n),t},labelColor:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:On,afterBody:On,beforeFooter:On,footer:On,afterFooter:On};function Xu(e,t,n,r){var i=e[t].call(n,r);return"undefined"===typeof i?Yu[t].call(n,r):i}var $u=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).opacity=0,r._active=[],r._eventPosition=void 0,r._size=void 0,r._cachedAnimations=void 0,r._tooltipItems=[],r.$animations=void 0,r.$context=void 0,r.chart=e.chart,r.options=e.options,r.dataPoints=void 0,r.title=void 0,r.beforeBody=void 0,r.body=void 0,r.afterBody=void 0,r.footer=void 0,r.xAlign=void 0,r.yAlign=void 0,r.x=void 0,r.y=void 0,r.height=void 0,r.width=void 0,r.caretX=void 0,r.caretY=void 0,r.labelColors=void 0,r.labelPointStyles=void 0,r.labelTextColors=void 0,r}return Jt(n,[{key:"initialize",value:function(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var e=this._cachedAnimations;if(e)return e;var t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new Ca(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}},{key:"getContext",value:function(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Pi(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}},{key:"getTitle",value:function(e,t){var n=t.callbacks,r=Xu(n,"beforeTitle",this,e),i=Xu(n,"title",this,e),a=Xu(n,"afterTitle",this,e),o=[];return o=ju(o,Uu(r)),o=ju(o,Uu(i)),o=ju(o,Uu(a))}},{key:"getBeforeBody",value:function(e,t){return Gu(Xu(t.callbacks,"beforeBody",this,e))}},{key:"getBody",value:function(e,t){var n=this,r=t.callbacks,i=[];return qn(e,(function(e){var t={before:[],lines:[],after:[]},a=Qu(r,e);ju(t.before,Uu(Xu(a,"beforeLabel",n,e))),ju(t.lines,Xu(a,"label",n,e)),ju(t.after,Uu(Xu(a,"afterLabel",n,e))),i.push(t)})),i}},{key:"getAfterBody",value:function(e,t){return Gu(Xu(t.callbacks,"afterBody",this,e))}},{key:"getFooter",value:function(e,t){var n=t.callbacks,r=Xu(n,"beforeFooter",this,e),i=Xu(n,"footer",this,e),a=Xu(n,"afterFooter",this,e),o=[];return o=ju(o,Uu(r)),o=ju(o,Uu(i)),o=ju(o,Uu(a))}},{key:"_createItems",value:function(e){var t,n,r=this,i=this._active,a=this.chart.data,o=[],s=[],u=[],c=[];for(t=0,n=i.length;t<n;++t)c.push(zu(this.chart,i[t]));return e.filter&&(c=c.filter((function(t,n,r){return e.filter(t,n,r,a)}))),e.itemSort&&(c=c.sort((function(t,n){return e.itemSort(t,n,a)}))),qn(c,(function(t){var n=Qu(e.callbacks,t);o.push(Xu(n,"labelColor",r,t)),s.push(Xu(n,"labelPointStyle",r,t)),u.push(Xu(n,"labelTextColor",r,t))})),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=u,this.dataPoints=c,c}},{key:"update",value:function(e,t){var n,r=this.options.setContext(this.getContext()),i=this._active,a=[];if(i.length){var o=Vu[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);var s=this._size=Bu(this,r),u=Object.assign({},o,s),c=Wu(this.chart,r,u),l=Hu(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,n={opacity:1,x:l.x,y:l.y,width:s.width,height:s.height,caretX:o.x,caretY:o.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=a,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}},{key:"drawCaret",value:function(e,t,n,r){var i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}},{key:"getCaretPosition",value:function(e,t,n){var r,i,a,o,s,u,c=this.xAlign,l=this.yAlign,h=n.caretSize,f=Ii(n.cornerRadius),d=f.topLeft,p=f.topRight,v=f.bottomLeft,g=f.bottomRight,y=e.x,m=e.y,b=t.width,k=t.height;return"center"===l?(s=m+k/2,"left"===c?(i=(r=y)-h,o=s+h,u=s-h):(i=(r=y+b)+h,o=s-h,u=s+h),a=r):(i="left"===c?y+Math.max(d,v)+h:"right"===c?y+b-Math.max(p,g)-h:this.caretX,"top"===l?(s=(o=m)-h,r=i-h,a=i+h):(s=(o=m+k)+h,r=i+h,a=i-h),u=o),{x1:r,x2:i,x3:a,y1:o,y2:s,y3:u}}},{key:"drawTitle",value:function(e,t,n){var r,i,a,o=this.title,s=o.length;if(s){var u=pa(n.rtl,this.x,this.width);for(e.x=Ku(this,n.titleAlign,n),t.textAlign=u.textAlign(n.titleAlign),t.textBaseline="middle",r=Ai(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,a=0;a<s;++a)t.fillText(o[a],u.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i,a+1===s&&(e.y+=n.titleMarginBottom-i)}}},{key:"_drawColorBox",value:function(e,t,n,r,i){var a=this.labelColors[n],o=this.labelPointStyles[n],s=i.boxHeight,u=i.boxWidth,c=Ai(i.bodyFont),l=Ku(this,"left",i),h=r.x(l),f=s<c.lineHeight?(c.lineHeight-s)/2:0,d=t.y+f;if(i.usePointStyle){var p={radius:Math.min(u,s)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=r.leftForLtr(h,u)+u/2,g=d+s/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,ci(e,p,v,g),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,ci(e,p,v,g)}else{e.lineWidth=Fn(a.borderWidth)?Math.max.apply(Math,Yt(Object.values(a.borderWidth))):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;var y=r.leftForLtr(h,u),m=r.leftForLtr(r.xPlus(h,1),u-2),b=Ii(a.borderRadius);Object.values(b).some((function(e){return 0!==e}))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,bi(e,{x:y,y:d,w:u,h:s,radius:b}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),bi(e,{x:m,y:d+1,w:u-2,h:s-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,d,u,s),e.strokeRect(y,d,u,s),e.fillStyle=a.backgroundColor,e.fillRect(m,d+1,u-2,s-2))}e.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(e,t,n){var r,i,a,o,s,u,c,l=this.body,h=n.bodySpacing,f=n.bodyAlign,d=n.displayColors,p=n.boxHeight,v=n.boxWidth,g=n.boxPadding,y=Ai(n.bodyFont),m=y.lineHeight,b=0,k=pa(n.rtl,this.x,this.width),w=function(n){t.fillText(n,k.x(e.x+b),e.y+m/2),e.y+=m+h},x=k.textAlign(f);for(t.textAlign=f,t.textBaseline="middle",t.font=y.string,e.x=Ku(this,x,n),t.fillStyle=n.bodyColor,qn(this.beforeBody,w),b=d&&"right"!==x?"center"===f?v/2+g:v+2+g:0,o=0,u=l.length;o<u;++o){for(r=l[o],i=this.labelTextColors[o],t.fillStyle=i,qn(r.before,w),a=r.lines,d&&a.length&&(this._drawColorBox(t,e,o,k,n),m=Math.max(y.lineHeight,p)),s=0,c=a.length;s<c;++s)w(a[s]),m=y.lineHeight;qn(r.after,w)}b=0,m=y.lineHeight,qn(this.afterBody,w),e.y-=h}},{key:"drawFooter",value:function(e,t,n){var r,i,a=this.footer,o=a.length;if(o){var s=pa(n.rtl,this.x,this.width);for(e.x=Ku(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",r=Ai(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,i=0;i<o;++i)t.fillText(a[i],s.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(e,t,n,r){var i=this.xAlign,a=this.yAlign,o=e.x,s=e.y,u=n.width,c=n.height,l=Ii(r.cornerRadius),h=l.topLeft,f=l.topRight,d=l.bottomLeft,p=l.bottomRight;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+h,s),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+u-f,s),t.quadraticCurveTo(o+u,s,o+u,s+f),"center"===a&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(o+u,s+c-p),t.quadraticCurveTo(o+u,s+c,o+u-p,s+c),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(o+d,s+c),t.quadraticCurveTo(o,s+c,o,s+c-d),"center"===a&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(o,s+h),t.quadraticCurveTo(o,s,o+h,s),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}},{key:"_updateAnimationTarget",value:function(e){var t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){var a=Vu[e.position].call(this,this._active,this._eventPosition);if(!a)return;var o=this._size=Bu(this,e),s=Object.assign({},a,this._size),u=Wu(t,e,s),c=Hu(e,s,u,t);r._to===c.x&&i._to===c.y||(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(e){var t=this.options.setContext(this.getContext()),n=this.opacity;if(n){this._updateAnimationTarget(t);var r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;var a=Ti(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),va(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),ga(e,t.textDirection),e.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e,t){var n=this,r=this._active,i=e.map((function(e){var t=e.datasetIndex,r=e.index,i=n.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[r],index:r}})),a=!Wn(r,i),o=this._positionChanged(i,t);(a||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var r=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),o=this._positionChanged(a,e),s=t||!Wn(a,i)||o;return s&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}},{key:"_getActiveElements",value:function(e,t,n,r){var i=this.options;if("mouseout"===e.type)return[];if(!r)return t;var a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}},{key:"_positionChanged",value:function(e,t){var n=this.caretX,r=this.caretY,i=this.options,a=Vu[i.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}]),n}(Ho);Ae($u,"positioners",Vu);var Ju={id:"tooltip",_element:$u,positioners:Vu,afterInit:function(e,t,n){n&&(e.tooltip=new $u({chart:e,options:n}))},beforeUpdate:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset:function(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw:function(e){var t=e.tooltip;if(t&&t._willRender()){var n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",Pe(Pe({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent:function(e,t){if(e.tooltip){var n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(e,t){return t.bodyFont.size},boxWidth:function(e,t){return t.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(e){return"filter"!==e&&"itemSort"!==e&&"external"!==e},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Zu=Object.freeze({__proto__:null,Colors:cu,Decimation:fu,Filler:Cu,Legend:Ou,SubTitle:Fu,Title:Mu,Tooltip:Ju});function ec(e,t,n,r){var i=e.indexOf(t);return-1===i?function(e,t,n,r){return"string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n}(e,t,n,r):i!==e.lastIndexOf(t)?n:i}function tc(e){var t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var nc=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,e))._startValue=void 0,r._valueRange=0,r._addedLabels=[],r}return Jt(n,[{key:"init",value:function(e){var t=this._addedLabels;if(t.length){var r,i=this.getLabels(),a=Gt(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.index,u=o.label;i[s]===u&&i.splice(s,1)}}catch(c){a.e(c)}finally{a.f()}this._addedLabels=[]}Ft(Lt(n.prototype),"init",this).call(this,e)}},{key:"parse",value:function(e,t){if(Mn(e))return null;var n=this.getLabels();return function(e,t){return null===e?null:Ir(Math.round(e),0,t)}(t=isFinite(t)&&n[t]===e?t:ec(n,e,Un(t,e),this._addedLabels),n.length-1)}},{key:"determineDataLimits",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.getMinMax(!0),i=r.min,a=r.max;"ticks"===this.options.bounds&&(t||(i=0),n||(a=this.getLabels().length-1)),this.min=i,this.max=a}},{key:"buildTicks",value:function(){var e=this.min,t=this.max,n=this.options.offset,r=[],i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(var a=e;a<=t;a++)r.push({value:a});return r}},{key:"getLabelForValue",value:function(e){return tc.call(this,e)}},{key:"configure",value:function(){Ft(Lt(n.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getValueForPixel",value:function(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(ts);function rc(e,t){var n,r,i,a,o=[],s=e.bounds,u=e.step,c=e.min,l=e.max,h=e.precision,f=e.count,d=e.maxTicks,p=e.maxDigits,v=e.includeBounds,g=u||1,y=d-1,m=t.min,b=t.max,k=!Mn(c),w=!Mn(l),x=!Mn(f),_=(b-m)/(p+1),S=vr((b-m)/y/g)*g;if(S<1e-14&&!k&&!w)return[{value:m},{value:b}];(a=Math.ceil(b/S)-Math.floor(m/S))>y&&(S=vr(a*S/y/g)*g),Mn(h)||(n=Math.pow(10,h),S=Math.ceil(S*n)/n),"ticks"===s?(r=Math.floor(m/S)*S,i=Math.ceil(b/S)*S):(r=m,i=b),k&&w&&u&&function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e}((l-c)/u,S/1e3)?(S=(l-c)/(a=Math.round(Math.min((l-c)/S,d))),r=c,i=l):x?S=((i=w?l:i)-(r=k?c:r))/(a=f-1):a=pr(a=(i-r)/S,Math.round(a),S/1e3)?Math.round(a):Math.ceil(a);var E=Math.max(kr(S),kr(r));n=Math.pow(10,Mn(h)?E:h),r=Math.round(r*n)/n,i=Math.round(i*n)/n;var I=0;for(k&&(v&&r!==c?(o.push({value:c}),r<c&&I++,pr(Math.round((r+I*S)*n)/n,c,ic(c,_,e))&&I++):r<c&&I++);I<a;++I){var T=Math.round((r+I*S)*n)/n;if(w&&T>l)break;o.push({value:T})}return w&&v&&i!==l?o.length&&pr(o[o.length-1].value,l,ic(l,_,e))?o[o.length-1].value=l:o.push({value:l}):w&&i!==l||o.push({value:i}),o}function ic(e,t,n){var r=n.horizontal,i=mr(n.minRotation),a=(r?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}Ae(nc,"id","category"),Ae(nc,"defaults",{ticks:{callback:tc}});var ac=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._endValue=void 0,r._valueRange=0,r}return Jt(n,[{key:"parse",value:function(e,t){return Mn(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var e=this.options.beginAtZero,t=this.getUserBounds(),n=t.minDefined,r=t.maxDefined,i=this.min,a=this.max,o=function(e){return i=n?i:e},s=function(e){return a=r?a:e};if(e){var u=dr(i),c=dr(a);u<0&&c<0?s(0):u>0&&c>0&&o(0)}if(i===a){var l=0===a?1:Math.abs(.05*a);s(a+l),e||o(i-l)}this.min=i,this.max=a}},{key:"getTickLimit",value:function(){var e,t=this.options.ticks,n=t.maxTicksLimit,r=t.stepSize;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var e=this.options,t=e.ticks,n=this.getTickLimit(),r=rc({maxTicks:n=Math.max(2,n),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&yr(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}},{key:"configure",value:function(){var e=this.ticks,t=this.min,r=this.max;if(Ft(Lt(n.prototype),"configure",this).call(this),this.options.offset&&e.length){var i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}},{key:"getLabelForValue",value:function(e){return Xr(e,this.chart.options.locale,this.options.ticks.format)}}]),n}(ts),oc=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=Vn(t)?t:0,this.max=Vn(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var e=this.isHorizontal(),t=e?this.width:this.height,n=mr(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}]),n}(ac);Ae(oc,"id","linear"),Ae(oc,"defaults",{ticks:{callback:Jr.formatters.numeric}});var sc=function(e){return Math.floor(fr(e))},uc=function(e,t){return Math.pow(10,sc(e)+t)};function cc(e){return 1===e/Math.pow(10,sc(e))}function lc(e,t,n){var r=Math.pow(10,n),i=Math.floor(e/r);return Math.ceil(t/r)-i}function hc(e,t){var n=t.min,r=t.max;n=jn(e.min,n);for(var i=[],a=sc(n),o=function(e,t){for(var n=sc(t-e);lc(e,t,n)>10;)n++;for(;lc(e,t,n)<10;)n--;return Math.min(n,sc(e))}(n,r),s=o<0?Math.pow(10,Math.abs(o)):1,u=Math.pow(10,o),c=a>o?Math.pow(10,a):0,l=Math.round((n-c)*s)/s,h=Math.floor((n-c)/u/10)*u*10,f=Math.floor((l-h)/Math.pow(10,o)),d=jn(e.min,Math.round((c+h+f*Math.pow(10,o))*s)/s);d<r;)i.push({value:d,major:cc(d),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(f=2,s=++o>=0?1:s),d=Math.round((c+h+f*Math.pow(10,o))*s)/s;var p=jn(e.max,d);return i.push({value:p,major:cc(p),significand:f}),i}var fc=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,e)).start=void 0,r.end=void 0,r._startValue=void 0,r._valueRange=0,r}return Jt(n,[{key:"parse",value:function(e,t){var n=ac.prototype.parse.apply(this,[e,t]);if(0!==n)return Vn(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=Vn(t)?Math.max(0,t):null,this.max=Vn(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Vn(this._userMin)&&(this.min=t===uc(this.min,0)?uc(this.min,-1):uc(this.min,0)),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,r=this.min,i=this.max,a=function(e){return r=t?r:e},o=function(e){return i=n?i:e};r===i&&(r<=0?(a(1),o(10)):(a(uc(r,-1)),o(uc(i,1)))),r<=0&&a(uc(i,-1)),i<=0&&o(uc(r,1)),this.min=r,this.max=i}},{key:"buildTicks",value:function(){var e=this.options,t=hc({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&yr(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":Xr(e,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var e=this.min;Ft(Lt(n.prototype),"configure",this).call(this),this._startValue=fr(e),this._valueRange=fr(this.max)-fr(e)}},{key:"getPixelForValue",value:function(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(fr(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){var t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}]),n}(ts);function dc(e){var t=e.ticks;if(t.display&&e.display){var n=Ti(t.backdropPadding);return Un(t.font&&t.font.size,ii.font.size)+n.height}return 0}function pc(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function vc(e){for(var t,n,r,i={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},a=Object.assign({},i),o=[],s=[],u=e._pointLabels.length,c=e.options.pointLabels,l=c.centerPointLabels?ir/u:0,h=0;h<u;h++){var f=c.setContext(e.getPointLabelContext(h));s[h]=f.padding;var d=e.getPointPosition(h,e.drawingArea+s[h],l),p=Ai(f.font),v=(t=e.ctx,n=p,r=Ln(r=e._pointLabels[h])?r:[r],{w:oi(t,n.string,r),h:r.length*n.lineHeight});o[h]=v;var g=Sr(e.getIndexAngle(h)+l),y=Math.round(br(g));gc(a,i,g,pc(y,d.x,v.w,0,180),pc(y,d.y,v.h,90,270))}e.setCenterPoint(i.l-a.l,a.r-i.r,i.t-a.t,a.b-i.b),e._pointLabelItems=function(e,t,n){for(var r,i=[],a=e._pointLabels.length,o=e.options,s=o.pointLabels,u=s.centerPointLabels,c=s.display,l={extra:dc(o)/2,additionalAngle:u?ir/a:0},h=0;h<a;h++){l.padding=n[h],l.size=t[h];var f=yc(e,h,l);i.push(f),"auto"===c&&(f.visible=mc(f,r),f.visible&&(r=f))}return i}(e,o,s)}function gc(e,t,n,r,i){var a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),s=0,u=0;r.start<t.l?(s=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-s)):r.end>t.r&&(s=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),i.start<t.t?(u=(t.t-i.start)/o,e.t=Math.min(e.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,e.b=Math.max(e.b,t.b+u))}function yc(e,t,n){var r=e.drawingArea,i=n.extra,a=n.additionalAngle,o=n.padding,s=n.size,u=e.getPointPosition(t,r+i+o,a),c=Math.round(br(Sr(u.angle+cr))),l=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(u.y,s.h,c),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),f=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(u.x,s.w,h);return{visible:!0,x:u.x,y:l,textAlign:h,left:f,top:l,right:f+s.w,bottom:l+s.h}}function mc(e,t){if(!t)return!0;var n=e.left,r=e.top,i=e.right,a=e.bottom;return!(hi({x:n,y:r},t)||hi({x:n,y:a},t)||hi({x:i,y:r},t)||hi({x:i,y:a},t))}function bc(e,t,n){var r=n.left,i=n.top,a=n.right,o=n.bottom,s=t.backdropColor;if(!Mn(s)){var u=Ii(t.borderRadius),c=Ti(t.backdropPadding);e.fillStyle=s;var l=r-c.left,h=i-c.top,f=a-r+c.width,d=o-i+c.height;Object.values(u).some((function(e){return 0!==e}))?(e.beginPath(),bi(e,{x:l,y:h,w:f,h:d,radius:u}),e.fill()):e.fillRect(l,h,f,d)}}function kc(e,t,n,r){var i=e.ctx;if(n)i.arc(e.xCenter,e.yCenter,t,0,ar);else{var a=e.getPointPosition(0,t);i.moveTo(a.x,a.y);for(var o=1;o<r;o++)a=e.getPointPosition(o,t),i.lineTo(a.x,a.y)}}Ae(fc,"id","logarithmic"),Ae(fc,"defaults",{ticks:{callback:Jr.formatters.logarithmic,major:{enabled:!0}}});var wc=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,e)).xCenter=void 0,r.yCenter=void 0,r.drawingArea=void 0,r._pointLabels=[],r._pointLabelItems=[],r}return Jt(n,[{key:"setDimensions",value:function(){var e=this._padding=Ti(dc(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!1),t=e.min,n=e.max;this.min=Vn(t)&&!isNaN(t)?t:0,this.max=Vn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/dc(this.options))}},{key:"generateTickLabels",value:function(e){var t=this;ac.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((function(e,n){var r=Bn(t.options.pointLabels.callback,[e,n],t);return r||0===r?r:""})).filter((function(e,n){return t.chart.getDataVisibility(n)}))}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?vc(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}},{key:"getIndexAngle",value:function(e){return Sr(e*(ar/(this._pointLabels.length||1))+mr(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(e){if(Mn(e))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}},{key:"getValueForDistanceFromCenter",value:function(e){if(Mn(e))return NaN;var t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}},{key:"getPointLabelContext",value:function(e){var t=this._pointLabels||[];if(e>=0&&e<t.length){var n=t[e];return function(e,t,n){return Pi(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}},{key:"getPointPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.getIndexAngle(e)-cr+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}},{key:"getPointPositionForValue",value:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(e){var t=this._pointLabelItems[e];return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"drawBackground",value:function(){var e=this.options,t=e.backgroundColor,n=e.grid.circular;if(t){var r=this.ctx;r.save(),r.beginPath(),kc(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=t,r.fill(),r.restore()}}},{key:"drawGrid",value:function(){var e,t,n,r=this,i=this.ctx,a=this.options,o=a.angleLines,s=a.grid,u=a.border,c=this._pointLabels.length;if(a.pointLabels.display&&function(e,t){for(var n=e.ctx,r=e.options.pointLabels,i=t-1;i>=0;i--){var a=e._pointLabelItems[i];if(a.visible){var o=r.setContext(e.getPointLabelContext(i));bc(n,o,a);var s=Ai(o.font),u=a.x,c=a.y,l=a.textAlign;mi(n,e._pointLabels[i],u,c+s.lineHeight/2,s,{color:o.color,textAlign:l,textBaseline:"middle"})}}}(this,c),s.display&&this.ticks.forEach((function(e,n){if(0!==n){t=r.getDistanceFromCenterForValue(e.value);var i=r.getContext(n),a=s.setContext(i),o=u.setContext(i);!function(e,t,n,r,i){var a=e.ctx,o=t.circular,s=t.color,u=t.lineWidth;!o&&!r||!s||!u||n<0||(a.save(),a.strokeStyle=s,a.lineWidth=u,a.setLineDash(i.dash),a.lineDashOffset=i.dashOffset,a.beginPath(),kc(e,n,o,r),a.closePath(),a.stroke(),a.restore())}(r,a,t,c,o)}})),o.display){for(i.save(),e=c-1;e>=0;e--){var l=o.setContext(this.getPointLabelContext(e)),h=l.color,f=l.lineWidth;f&&h&&(i.lineWidth=f,i.strokeStyle=h,i.setLineDash(l.borderDash),i.lineDashOffset=l.borderDashOffset,t=this.getDistanceFromCenterForValue(a.ticks.reverse?this.min:this.max),n=this.getPointPosition(e,t),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(n.x,n.y),i.stroke())}i.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var e=this,t=this.ctx,n=this.options,r=n.ticks;if(r.display){var i,a,o=this.getIndexAngle(0);t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((function(o,s){if(0!==s||n.reverse){var u=r.setContext(e.getContext(s)),c=Ai(u.font);if(i=e.getDistanceFromCenterForValue(e.ticks[s].value),u.showLabelBackdrop){t.font=c.string,a=t.measureText(o.label).width,t.fillStyle=u.backdropColor;var l=Ti(u.backdropPadding);t.fillRect(-a/2-l.left,-i-c.size/2-l.top,a+l.width,c.size+l.height)}mi(t,o.label,0,-i,c,{color:u.color})}})),t.restore()}}},{key:"drawTitle",value:function(){}}]),n}(ac);Ae(wc,"id","radialLinear"),Ae(wc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Jr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(e){return e},padding:5,centerPointLabels:!1}}),Ae(wc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ae(wc,"descriptors",{angleLines:{_fallback:"grid"}});var xc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},_c=Object.keys(xc);function Sc(e,t){return e-t}function Ec(e,t){if(Mn(t))return null;var n=e._adapter,r=e._parseOpts,i=r.parser,a=r.round,o=r.isoWeekday,s=t;return"function"===typeof i&&(s=i(s)),Vn(s)||(s="string"===typeof i?n.parse(s,i):n.parse(s)),null===s?null:(a&&(s="week"!==a||!gr(o)&&!0!==o?n.startOf(s,a):n.startOf(s,"isoWeek",o)),+s)}function Ic(e,t,n,r){for(var i=_c.length,a=_c.indexOf(e);a<i-1;++a){var o=xc[_c[a]],s=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(s*o.size))<=r)return _c[a]}return _c[i-1]}function Tc(e,t,n){if(n){if(n.length){var r=Ar(n,t),i=r.lo,a=r.hi;e[n[i]>=t?n[i]:n[a]]=!0}}else e[t]=!0}function Ac(e,t,n){var r,i,a=[],o={},s=t.length;for(r=0;r<s;++r)o[i=t[r]]=r,a.push({value:i,major:!1});return 0!==s&&n?function(e,t,n,r){var i,a,o=e._adapter,s=+o.startOf(t[0].value,r),u=t[t.length-1].value;for(i=s;i<=u;i=+o.add(i,1,r))(a=n[i])>=0&&(t[a].major=!0);return t}(e,a,o,n):a}var Cc=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,e))._cache={data:[],labels:[],all:[]},r._unit="day",r._majorUnit=void 0,r._offsets={},r._normalized=!1,r._parseOpts=void 0,r}return Jt(n,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.time||(e.time={}),i=this._adapter=new oo._date(e.adapters.date);i.init(t),Yn(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},Ft(Lt(n.prototype),"init",this).call(this,e),this._normalized=t.normalized}},{key:"parse",value:function(e,t){return void 0===e?null:Ec(this,e)}},{key:"beforeLayout",value:function(){Ft(Lt(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var e=this.options,t=this._adapter,n=e.time.unit||"day",r=this.getUserBounds(),i=r.min,a=r.max,o=r.minDefined,s=r.maxDefined;function u(e){o||isNaN(e.min)||(i=Math.min(i,e.min)),s||isNaN(e.max)||(a=Math.max(a,e.max))}o&&s||(u(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||u(this.getMinMax(!1))),i=Vn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),a=Vn(a)&&!isNaN(a)?a:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,a-1),this.max=Math.max(i+1,a)}},{key:"_getLabelBounds",value:function(){var e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}},{key:"buildTicks",value:function(){var e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);var i=this.min,a=function(e,t,n){for(var r=0,i=e.length;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?Ic(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(var a=_c.length-1;a>=_c.indexOf(n);a--){var o=_c[a];if(xc[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return _c[n?_c.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(var t=_c.indexOf(e)+1,n=_c.length;t<n;++t)if(xc[_c[t]].common)return _c[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),Ac(this,a,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((function(e){return+e.value})))}},{key:"initOffsets",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),i=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);var a=n.length<3?.5:.25;r=Ir(r,0,a),i=Ir(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}},{key:"_generate",value:function(){var e,t,n=this._adapter,r=this.min,i=this.max,a=this.options,o=a.time,s=o.unit||Ic(o.minUnit,r,i,this._getLabelCapacity(r)),u=Un(a.ticks.stepSize,1),c="week"===s&&o.isoWeekday,l=gr(c)||!0===c,h={},f=r;if(l&&(f=+n.startOf(f,"isoWeek",c)),f=+n.startOf(f,l?"day":s),n.diff(i,r,s)>1e5*u)throw new Error(r+" and "+i+" are too far apart with stepSize of "+u+" "+s);var d="data"===a.ticks.source&&this.getDataTimestamps();for(e=f,t=0;e<i;e=+n.add(e,u,s),t++)Tc(h,e,d);return e!==i&&"ticks"!==a.bounds&&1!==t||Tc(h,e,d),Object.keys(h).sort((function(e,t){return e-t})).map((function(e){return+e}))}},{key:"getLabelForValue",value:function(e){var t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}},{key:"format",value:function(e,t){var n=this.options.time.displayFormats,r=this._unit,i=t||n[r];return this._adapter.format(e,i)}},{key:"_tickFormatFunction",value:function(e,t,n,r){var i=this.options,a=i.ticks.callback;if(a)return Bn(a,[e,t,n],this);var o=i.time.displayFormats,s=this._unit,u=this._majorUnit,c=s&&o[s],l=u&&o[u],h=n[t],f=u&&l&&h&&h.major;return this._adapter.format(e,r||(f?l:c))}},{key:"generateTickLabels",value:function(e){var t,n,r;for(t=0,n=e.length;t<n;++t)(r=e[t]).label=this._tickFormatFunction(r.value,t,e)}},{key:"getDecimalForValue",value:function(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(e){var t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}},{key:"_getLabelSize",value:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,r=mr(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),a=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*a,h:n*a+o*i}}},{key:"_getLabelCapacity",value:function(e){var t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Ac(this,[e],this._majorUnit),r),a=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}},{key:"getDataTimestamps",value:function(){var e,t,n=this._cache.data||[];if(n.length)return n;var r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}},{key:"getLabelTimestamps",value:function(){var e,t,n=this._cache.labels||[];if(n.length)return n;var r=this.getLabels();for(e=0,t=r.length;e<t;++e)n.push(Ec(this,r[e]));return this._cache.labels=this._normalized?n:this.normalize(n)}},{key:"normalize",value:function(e){return Or(e.sort(Sc))}}]),n}(ts);function Pc(e,t,n){var r,i,a,o,s=0,u=e.length-1;if(n){if(t>=e[s].pos&&t<=e[u].pos){var c=Cr(e,"pos",t);s=c.lo,u=c.hi}var l=e[s];r=l.pos,a=l.time;var h=e[u];i=h.pos,o=h.time}else{if(t>=e[s].time&&t<=e[u].time){var f=Cr(e,"time",t);s=f.lo,u=f.hi}var d=e[s];r=d.time,a=d.pos;var p=e[u];i=p.time,o=p.pos}var v=i-r;return v?a+(o-a)*(t-r)/v:a}Ae(Cc,"id","time"),Ae(Cc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});var Dc=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,e))._table=[],r._minPos=void 0,r._tableRange=void 0,r}return Jt(n,[{key:"initOffsets",value:function(){var e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Pc(t,this.min),this._tableRange=Pc(t,this.max)-this._minPos,Ft(Lt(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(e){var t,n,r,i,a,o=this.min,s=this.max,u=[],c=[];for(t=0,n=e.length;t<n;++t)(i=e[t])>=o&&i<=s&&u.push(i);if(u.length<2)return[{time:o,pos:0},{time:s,pos:1}];for(t=0,n=u.length;t<n;++t)a=u[t+1],r=u[t-1],i=u[t],Math.round((a+r)/2)!==i&&c.push({time:i,pos:t/(n-1)});return c}},{key:"_getTimestampsForTable",value:function(){var e=this._cache.all||[];if(e.length)return e;var t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e}},{key:"getDecimalForValue",value:function(e){return(Pc(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Pc(this._table,n*this._tableRange+this._minPos,!0)}}]),n}(Cc);Ae(Dc,"id","timeseries"),Ae(Dc,"defaults",Cc.defaults);var Nc=[io,nu,Zu,Object.freeze({__proto__:null,CategoryScale:nc,LinearScale:oc,LogarithmicScale:fc,RadialLinearScale:wc,TimeScale:Cc,TimeSeriesScale:Dc})],Oc=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],Rc="label";function Mc(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Lc(e,t){e.labels=t}function Fc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rc,r=[];e.datasets=t.map((function(t){var i=e.datasets.find((function(e){return e[n]===t[n]}));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):Pe({},t)}))}function Vc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rc,n={labels:[],datasets:[]};return Lc(n,e.labels),Fc(n,e.datasets,t),n}function jc(e,n){var r=e.height,i=void 0===r?150:r,a=e.width,o=void 0===a?300:a,s=e.redraw,u=void 0!==s&&s,c=e.datasetIdKey,l=e.type,h=e.data,f=e.options,d=e.plugins,p=void 0===d?[]:d,v=e.fallbackContent,g=e.updateMode,y=Rt(e,Oc),m=(0,t.useRef)(null),b=(0,t.useRef)(),k=function(){m.current&&(b.current=new Ds(m.current,{type:l,data:Vc(h,c),options:f&&Pe({},f),plugins:p}),Mc(n,b.current))},w=function(){Mc(n,null),b.current&&(b.current.destroy(),b.current=null)};return(0,t.useEffect)((function(){!u&&b.current&&f&&function(e,t){var n=e.options;n&&t&&Object.assign(n,t)}(b.current,f)}),[u,f]),(0,t.useEffect)((function(){!u&&b.current&&Lc(b.current.config.data,h.labels)}),[u,h.labels]),(0,t.useEffect)((function(){!u&&b.current&&h.datasets&&Fc(b.current.config.data,h.datasets,c)}),[u,h.datasets]),(0,t.useEffect)((function(){b.current&&(u?(w(),setTimeout(k)):b.current.update(g))}),[u,f,h.labels,h.datasets,g]),(0,t.useEffect)((function(){b.current&&(w(),setTimeout(k))}),[l]),(0,t.useEffect)((function(){return k(),function(){return w()}}),[]),t.createElement("canvas",Object.assign({ref:m,role:"img",height:i,width:o},y),v)}var Uc=(0,t.forwardRef)(jc);function zc(e,n){return Ds.register(n),(0,t.forwardRef)((function(n,r){return t.createElement(Uc,Object.assign({},n,{ref:r,type:e}))}))}var Bc=zc("line",Za),qc=zc("pie",to);Ds.register.apply(Ds,Yt(Nc));var Wc={labels:["Week 1","Week 2","Week 3","Week 4","Week 5","Week 6"],datasets:[{label:"User",data:[120,290,350,150,20,390],backgroundColor:"#9BDD7C",borderColor:"#9BDD7C",borderWidth:1,lineTension:.4,pointRadius:0},{label:"Guest",data:[500,160,80,120,360,490],backgroundColor:"#E9A0A0",borderColor:"#E9A0A0",borderWidth:1,lineTension:.4,pointRadius:0,pointStyle:"circle"}]},Hc={scales:{x:{},y:{type:"linear",beginAtZero:!0,ticks:{stepSize:100,callback:function(e){return"".concat(e)}}}}},Kc=function(){return(0,Et.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,Et.jsx)(Bc,{data:Wc,options:Hc})})},Gc={labels:["Basic Tees","Custom Short Pants","Super Hoodies"],datasets:[{data:[55,31,14],backgroundColor:["#98D89E","#F7DC7D","#EE8484"]}]},Qc={responsive:!0,plugins:{legend:{position:"right",labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(e,n){var r=t.datasets[0],i=(r.data[n]/r.data.reduce((function(e,t){return e+t}))*100).toFixed(2);return{text:"".concat(e," (").concat(i,"%)"),fillStyle:r.backgroundColor[n]}})):[]}}}}},Yc=function(){return(0,Et.jsx)("div",{style:{position:"relative",bottom:"70px"},children:(0,Et.jsx)(qc,{data:Gc,options:Qc})})};var Xc=function(){var e=[{image:Ct,title:"Total Revenues",number:"$2,129,430",background:"#DDEFE0"},{image:Dt,title:"Total Transactions",number:"1,520",background:"#F4ECDD"},{image:Nt,title:"Total Likes",number:"9,721",background:"#EFDADA"},{image:Ot,title:"Total Users",number:"892",background:"#DEE0EF"}];return(0,Et.jsxs)("div",{className:"dashboard",children:[(0,Et.jsx)("div",{className:"left-side",children:(0,Et.jsx)(It,{})}),(0,Et.jsxs)("div",{className:"right-side",children:[(0,Et.jsx)(At,{}),(0,Et.jsx)("div",{className:"card-section",children:e.map((function(e,t){return(0,Et.jsx)(Pt,{cardImage:e.image,title:e.title,number:e.number,background:e.background},t)}))}),(0,Et.jsxs)("div",{className:"line-chart-conatiner",children:[(0,Et.jsx)("h2",{className:"line-chart-header",children:"Activities"}),(0,Et.jsx)(Kc,{})]}),(0,Et.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Et.jsxs)("div",{className:"pie-chart-conatiner",children:[(0,Et.jsx)("h2",{className:"pie-chart-header",children:"Top products"}),(0,Et.jsx)(Yc,{})]}),(0,Et.jsxs)("div",{className:"pie-chart-conatiner",children:[(0,Et.jsx)("h2",{className:"pie-chart-header",style:{marginBottom:"25px"},children:"Today\u2019s schedule"}),(0,Et.jsxs)("div",{className:"schedule-cards",children:[(0,Et.jsxs)("div",{className:"schedule-card",children:[(0,Et.jsx)("h3",{className:"schedule-card-header",children:"Meeting with suppliers from Kuta Bali"}),(0,Et.jsx)("p",{className:"schedule-card-time",children:"14.00-15.00"}),(0,Et.jsxs)("p",{className:"schedule-card-venue",children:["at Sunset Road, Kuta, Bali"," "]})]}),(0,Et.jsxs)("div",{className:"schedule-card card-2",children:[(0,Et.jsx)("h3",{className:"schedule-card-header",children:"Check operation at Giga Factory 1"}),(0,Et.jsx)("p",{className:"schedule-card-time",children:"18.00-20.00"}),(0,Et.jsx)("p",{className:"schedule-card-venue",children:"at Central Jakarta"})]})]})]})]})]})]})};function $c(e,t,n){return $c=Ut()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Vt(i,n.prototype),i},$c.apply(null,arguments)}function Jc(e){var t="function"===typeof Map?new Map:void 0;return Jc=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return $c(e,arguments,Lt(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Vt(n,e)},Jc(e)}var Zc=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},el={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zc(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new tl;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},tl=function(e){jt(n,e);var t=zt(n);function n(){var e;return Xt(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Jt(n)}(Jc(Error)),nl=function(e){return function(e){var t=Zc(e);return el.encodeByteArray(t,!0)}(e).replace(/\./g,"")},rl=function(e){try{return el.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function il(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=il(e[n],t[n]));return e}var al=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ol=function(){try{return al()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/Board",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&rl(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},sl=function(){var e;return null===(e=ol())||void 0===e?void 0:e.config},ul=function(){function e(){var t=this;Xt(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Jt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function cl(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ll(){var e,t=null===(e=ol())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function hl(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function fl(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function dl(){var e=cl();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pl(){try{return"object"===typeof indexedDB}catch(e){return!1}}var vl=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Mt(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Mt(a),gl.prototype.create),a}return Jt(n)}(Jc(Error)),gl=function(){function e(t,n,r){Xt(this,e),this.service=t,this.serviceName=n,this.errors=r}return Jt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(yl,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new vl(n,a,t)}}]),e}();var yl=/\{\$([^}]+)}/g;function ml(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function kl(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(wl(s)&&wl(u)){if(!kl(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function wl(e){return null!==e&&"object"===typeof e}function xl(e){for(var t=[],n=function(){var e=Kt(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function _l(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Kt(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Sl(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function El(e,t){var n=new Il(e,t);return n.subscribe.bind(n)}var Il=function(){function e(t,n){var r=this;Xt(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Jt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Gt(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Tl),void 0===r.error&&(r.error=Tl),void 0===r.complete&&(r.complete=Tl);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Tl(){}function Al(e){return e&&e._delegate?e._delegate:e}function Cl(){Cl=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),s=new E(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var h={};function f(){}function d(){}function p(){}var v={};u(v,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(I([])));y&&y!==t&&n.call(y,a)&&(v=y);var m=p.prototype=f.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==Ie(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=p,r(m,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,s,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},b(k.prototype),u(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(m),u(m,s,"Generator"),u(m,a,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Pl(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Dl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Pl(a,r,i,o,s,"next",e)}function s(e){Pl(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Nl=function(){function e(t,n,r){Xt(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Jt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ol="[DEFAULT]",Rl=function(){function e(t,n){Xt(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Jt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ul;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ol})}catch(u){}var t,n=Gt(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Kt(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ol;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Yt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Yt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ol;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ol;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Gt(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=Kt(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(lR){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ol?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(lR){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ol;return this.component?this.component.multipleInstances?e:Ol:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ml,Ll,Fl=function(){function e(t){Xt(this,e),this.name=t,this.providers=new Map}return Jt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Rl(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Vl=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ll||(Ll={}));var jl={debug:Ll.DEBUG,verbose:Ll.VERBOSE,info:Ll.INFO,warn:Ll.WARN,error:Ll.ERROR,silent:Ll.SILENT},Ul=Ll.INFO,zl=(Ae(Ml={},Ll.DEBUG,"log"),Ae(Ml,Ll.VERBOSE,"log"),Ae(Ml,Ll.INFO,"info"),Ae(Ml,Ll.WARN,"warn"),Ae(Ml,Ll.ERROR,"error"),Ml),Bl=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=zl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ql=function(){function e(t){Xt(this,e),this.name=t,this._logLevel=Ul,this._logHandler=Bl,this._userLogHandler=null,Vl.push(this)}return Jt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ll))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?jl[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ll.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ll.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ll.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ll.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ll.INFO].concat(t)),this._logHandler.apply(this,[this,Ll.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ll.WARN].concat(t)),this._logHandler.apply(this,[this,Ll.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ll.ERROR].concat(t)),this._logHandler.apply(this,[this,Ll.ERROR].concat(t))}}]),e}();var Wl,Hl,Kl=function(e,t){return t.some((function(t){return e instanceof t}))};var Gl=new WeakMap,Ql=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,$l=new WeakMap;var Jl={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ql.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Yl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return th(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Zl(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Hl||(Hl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(nh(this),n),th(Gl.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return th(e.apply(nh(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[nh(this),t].concat(r));return Yl.set(a,t.sort?t.sort():[t]),th(a)}}function eh(e){return"function"===typeof e?Zl(e):(e instanceof IDBTransaction&&function(e){if(!Ql.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ql.set(e,t)}}(e),Kl(e,Wl||(Wl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Jl):e)}function th(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(th(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Gl.set(t,e)})).catch((function(){})),$l.set(t,e),t}(e);if(Xl.has(e))return Xl.get(e);var t=eh(e);return t!==e&&(Xl.set(e,t),$l.set(t,e)),t}var nh=function(e){return $l.get(e)};var rh,ih,ah=["get","getKey","getAll","getAllKeys","count"],oh=["put","add","delete","clear"],sh=new Map;function uh(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(sh.get(t))return sh.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=oh.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ah.includes(n))){var a=function(){var e=Dl(Cl().mark((function e(t){var a,o,s,u,c,l,h=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=h.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=h[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return sh.set(t,a),a}}}!function(e){Jl=e(Jl)}((function(e){return Pe(Pe({},e),{},{get:function(t,n,r){return uh(t,n)||e.get(t,n,r)},has:function(t,n){return!!uh(t,n)||e.has(t,n)}})}));var ch=function(){function e(t){Xt(this,e),this.container=t}return Jt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var lh="@firebase/app",hh="0.9.9",fh=new ql("@firebase/app"),dh="[DEFAULT]",ph=(Ae(rh={},lh,"fire-core"),Ae(rh,"@firebase/app-compat","fire-core-compat"),Ae(rh,"@firebase/analytics","fire-analytics"),Ae(rh,"@firebase/analytics-compat","fire-analytics-compat"),Ae(rh,"@firebase/app-check","fire-app-check"),Ae(rh,"@firebase/app-check-compat","fire-app-check-compat"),Ae(rh,"@firebase/auth","fire-auth"),Ae(rh,"@firebase/auth-compat","fire-auth-compat"),Ae(rh,"@firebase/database","fire-rtdb"),Ae(rh,"@firebase/database-compat","fire-rtdb-compat"),Ae(rh,"@firebase/functions","fire-fn"),Ae(rh,"@firebase/functions-compat","fire-fn-compat"),Ae(rh,"@firebase/installations","fire-iid"),Ae(rh,"@firebase/installations-compat","fire-iid-compat"),Ae(rh,"@firebase/messaging","fire-fcm"),Ae(rh,"@firebase/messaging-compat","fire-fcm-compat"),Ae(rh,"@firebase/performance","fire-perf"),Ae(rh,"@firebase/performance-compat","fire-perf-compat"),Ae(rh,"@firebase/remote-config","fire-rc"),Ae(rh,"@firebase/remote-config-compat","fire-rc-compat"),Ae(rh,"@firebase/storage","fire-gcs"),Ae(rh,"@firebase/storage-compat","fire-gcs-compat"),Ae(rh,"@firebase/firestore","fire-fst"),Ae(rh,"@firebase/firestore-compat","fire-fst-compat"),Ae(rh,"fire-js","fire-js"),Ae(rh,"firebase","fire-js-all"),rh),vh=new Map,gh=new Map;function yh(e,t){try{e.container.addComponent(t)}catch(n){fh.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function mh(e,t){e.container.addOrOverwriteComponent(t)}function bh(e){var t=e.name;if(gh.has(t))return fh.debug("There were multiple attempts to register component ".concat(t,".")),!1;gh.set(t,e);var n,r=Gt(vh.values());try{for(r.s();!(n=r.n()).done;){yh(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function kh(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dh;kh(e,t).clearInstance(n)}function xh(){gh.clear()}var _h=(Ae(ih={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ae(ih,"bad-app-name","Illegal App name: '{$appName}"),Ae(ih,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ae(ih,"app-deleted","Firebase App named '{$appName}' already deleted"),Ae(ih,"no-options","Need to provide options, when not being deployed to hosting via source."),Ae(ih,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ae(ih,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ae(ih,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ae(ih,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ae(ih,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ae(ih,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ih),Sh=new gl("app","Firebase",_h),Eh=function(){function e(t,n,r){var i=this;Xt(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nl("app",(function(){return i}),"PUBLIC"))}return Jt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Sh.create("app-deleted",{appName:this._name})}}]),e}(),Ih="9.21.0";function Th(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:dh,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Sh.create("bad-app-name",{appName:String(i)});if(n||(n=sl()),!n)throw Sh.create("no-options");var a=vh.get(i);if(a){if(kl(n,a.options)&&kl(r,a.config))return a;throw Sh.create("duplicate-app",{appName:i})}var o,s=new Fl(i),u=Gt(gh.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new Eh(n,r,s);return vh.set(i,l),l}function Ah(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dh,t=vh.get(e);if(!t&&e===dh)return Th();if(!t)throw Sh.create("no-app",{appName:e});return t}function Ch(){return Array.from(vh.values())}function Ph(e){return Dh.apply(this,arguments)}function Dh(){return(Dh=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!vh.has(n)){e.next=6;break}return vh.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nh(e,t,n){var r,i=null!==(r=ph[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fh.warn(s.join(" "))}bh(new Nl("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Oh(e,t){if(null!==e&&"function"!==typeof e)throw Sh.create("invalid-log-argument");!function(e,t){var n,r=Gt(Vl);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=jl[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ll[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Rh(e){var t;t=e,Vl.forEach((function(e){e.setLogLevel(t)}))}var Mh="firebase-heartbeat-database",Lh=1,Fh="firebase-heartbeat-store",Vh=null;function jh(){return Vh||(Vh=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=th(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(th(s.result),e.oldVersion,e.newVersion,th(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Mh,Lh,{upgrade:function(e,t){if(0===t)e.createObjectStore(Fh)}}).catch((function(e){throw Sh.create("idb-open",{originalErrorMessage:e.message})}))),Vh}function Uh(e){return zh.apply(this,arguments)}function zh(){return zh=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jh();case 3:return n=e.sent,e.abrupt("return",n.transaction(Fh).objectStore(Fh).get(Wh(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof vl?fh.warn(e.t0.message):(r=Sh.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fh.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),zh.apply(this,arguments)}function Bh(e,t){return qh.apply(this,arguments)}function qh(){return qh=Dl(Cl().mark((function e(t,n){var r,i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jh();case 3:return r=e.sent,i=r.transaction(Fh,"readwrite"),a=i.objectStore(Fh),e.next=8,a.put(n,Wh(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof vl?fh.warn(e.t0.message):(o=Sh.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fh.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),qh.apply(this,arguments)}function Wh(e){return"".concat(e.name,"!").concat(e.options.appId)}var Hh=function(){function e(t){var n=this;Xt(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Xh(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Jt(e,[{key:"triggerHeartbeat",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Kh(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Kh(),n=Gh(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=nl(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Kh(){return(new Date).toISOString().substring(0,10)}function Gh(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Gt(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),$h(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),$h(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Qh,Yh,Xh=function(){function e(t){Xt(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Jt(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pl()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Uh(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Bh(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Yt(r.heartbeats),Yt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $h(e){return nl(JSON.stringify({version:2,heartbeats:e})).length}Qh="",bh(new Nl("platform-logger",(function(e){return new ch(e)}),"PRIVATE")),bh(new Nl("heartbeat",(function(e){return new Hh(e)}),"PRIVATE")),Nh(lh,hh,Qh),Nh(lh,hh,"esm2017"),Nh("fire-js","");var Jh=function(){function e(t,n){var r=this;Xt(this,e),this._delegate=t,this.firebase=n,yh(t,new Nl("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Jt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ph(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dh;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dh;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){yh(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){mh(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Zh=(Ae(Yh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ae(Yh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Yh),ef=new gl("app-compat","Firebase",Zh);var tf=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Th(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ml(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Nh,setLogLevel:Rh,onLog:Oh,apps:null,SDK_VERSION:Ih,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(bh(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ef.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&il(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ml(n,e=e||dh))throw ef.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Jh);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){il(n,e)},createSubscribe:El,ErrorFactory:gl,deepExtend:il}),n}(),nf=new ql("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){nf.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var rf=self.firebase.SDK_VERSION;rf&&rf.indexOf("LITE")>=0&&nf.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var af=tf;!function(e){Nh("@firebase/app-compat","0.2.9",e)}();function of(e){return Bt(e)||Qt(e)||Wt(e)||Ht()}af.registerVersion("firebase","9.21.0","app-compat");function sf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var uf;Object.create;var cf={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},lf="EMAIL_SIGNIN",hf="PASSWORD_RESET",ff="RECOVER_EMAIL",df="REVERT_SECOND_FACTOR_ADDITION",pf="VERIFY_AND_CHANGE_EMAIL",vf="VERIFY_EMAIL";function gf(){return Ae({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var yf=function(){var e;return Ae(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ae(e,"argument-error",""),Ae(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ae(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ae(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ae(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ae(e,"cordova-not-ready","Cordova framework is not ready."),Ae(e,"cors-unsupported","This browser is not supported."),Ae(e,"credential-already-in-use","This credential is already associated with a different user account."),Ae(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ae(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ae(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ae(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ae(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ae(e,"email-already-in-use","The email address is already in use by another account."),Ae(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ae(e,"expired-action-code","The action code has expired."),Ae(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ae(e,"internal-error","An internal AuthError has occurred."),Ae(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ae(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ae(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ae(e,"invalid-auth-event","An internal AuthError has occurred."),Ae(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ae(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ae(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ae(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ae(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ae(e,"invalid-email","The email address is badly formatted."),Ae(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ae(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ae(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ae(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ae(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ae(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ae(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ae(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ae(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ae(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ae(e,"wrong-password","The password is invalid or the user does not have a password."),Ae(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ae(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ae(e,"invalid-provider-id","The specified provider ID is invalid."),Ae(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ae(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ae(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ae(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ae(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ae(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ae(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ae(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ae(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ae(e,"missing-continue-uri","A continue URL must be provided in the request."),Ae(e,"missing-iframe-start","An internal AuthError has occurred."),Ae(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ae(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ae(e,"missing-password","A non-empty password must be provided"),Ae(e,"missing-multi-factor-info","No second factor identifier is provided."),Ae(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ae(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ae(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ae(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ae(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ae(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ae(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ae(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ae(e,"no-auth-event","An internal AuthError has occurred."),Ae(e,"no-such-provider","User was not linked to an account with the given provider."),Ae(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ae(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ae(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ae(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ae(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ae(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ae(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ae(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ae(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ae(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ae(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ae(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ae(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ae(e,"timeout","The operation has timed out."),Ae(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ae(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ae(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ae(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ae(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ae(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ae(e,"unverified-email","The operation requires a verified email."),Ae(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ae(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ae(e,"user-disabled","The user account has been disabled by an administrator."),Ae(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ae(e,"user-signed-out",""),Ae(e,"weak-password","The password must be 6 characters long or more."),Ae(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ae(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Ae(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Ae(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Ae(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Ae(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Ae(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Ae(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Ae(e,"invalid-req-type","Invalid request parameters."),Ae(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},mf=gf,bf=new gl("auth","Firebase",gf()),kf=new ql("@firebase/auth");function wf(e){if(kf.logLevel<=Ll.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kf.warn.apply(kf,["Auth (".concat(Ih,"): ").concat(e)].concat(n))}}function xf(e){if(kf.logLevel<=Ll.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kf.error.apply(kf,["Auth (".concat(Ih,"): ").concat(e)].concat(n))}}function _f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Tf.apply(void 0,[e].concat(n))}function Sf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tf.apply(void 0,[e].concat(n))}function Ef(e,t,n){var r=Object.assign(Object.assign({},mf()),Ae({},t,n));return new gl("auth","Firebase",r).create(t,{appName:e.name})}function If(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&_f(e,"argument-error"),Ef(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Tf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Yt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Yt(o)))}return bf.create.apply(bf,[e].concat(n))}function Af(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Tf.apply(void 0,[t].concat(r))}}function Cf(e){var t="INTERNAL ASSERTION FAILED: "+e;throw xf(t),new Error(t)}function Pf(e,t){e||Cf(t)}function Df(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nf(){return"http:"===Of()||"https:"===Of()}function Of(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Rf=function(){function e(t,n){Xt(this,e),this.shortDelay=t,this.longDelay=n,Pf(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cl())||fl()}return Jt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Nf()||hl()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Mf(e,t){Pf(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Lf=function(){function e(){Xt(this,e)}return Jt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Cf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Cf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Cf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ff=(Ae(uf={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ae(uf,"MISSING_CUSTOM_TOKEN","internal-error"),Ae(uf,"INVALID_IDENTIFIER","invalid-email"),Ae(uf,"MISSING_CONTINUE_URI","internal-error"),Ae(uf,"INVALID_PASSWORD","wrong-password"),Ae(uf,"MISSING_PASSWORD","missing-password"),Ae(uf,"EMAIL_EXISTS","email-already-in-use"),Ae(uf,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ae(uf,"INVALID_IDP_RESPONSE","invalid-credential"),Ae(uf,"INVALID_PENDING_TOKEN","invalid-credential"),Ae(uf,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ae(uf,"MISSING_REQ_TYPE","internal-error"),Ae(uf,"EMAIL_NOT_FOUND","user-not-found"),Ae(uf,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ae(uf,"EXPIRED_OOB_CODE","expired-action-code"),Ae(uf,"INVALID_OOB_CODE","invalid-action-code"),Ae(uf,"MISSING_OOB_CODE","internal-error"),Ae(uf,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ae(uf,"INVALID_ID_TOKEN","invalid-user-token"),Ae(uf,"TOKEN_EXPIRED","user-token-expired"),Ae(uf,"USER_NOT_FOUND","user-token-expired"),Ae(uf,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ae(uf,"INVALID_CODE","invalid-verification-code"),Ae(uf,"INVALID_SESSION_INFO","invalid-verification-id"),Ae(uf,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ae(uf,"MISSING_SESSION_INFO","missing-verification-id"),Ae(uf,"SESSION_EXPIRED","code-expired"),Ae(uf,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ae(uf,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ae(uf,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ae(uf,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ae(uf,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ae(uf,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ae(uf,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ae(uf,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ae(uf,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ae(uf,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ae(uf,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ae(uf,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Ae(uf,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Ae(uf,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Ae(uf,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Ae(uf,"MISSING_CLIENT_TYPE","missing-client-type"),Ae(uf,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Ae(uf,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Ae(uf,"INVALID_REQ_TYPE","invalid-req-type"),uf),Vf=new Rf(3e4,6e4);function jf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Uf(e,t,n,r){return zf.apply(this,arguments)}function zf(){return zf=Dl(Cl().mark((function e(t,n,r,i){var a,o=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Bf(t,a,Dl(Cl().mark((function e(){var a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=xl(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Lf.fetch()(Kf(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function Bf(e,t,n){return qf.apply(this,arguments)}function qf(){return qf=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ff),n),e.prev=2,a=new Gf(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Qf(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=Kt(c,2),h=l[0],f=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Qf(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Qf(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Qf(t,"user-disabled",s);case 29:if(d=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!f){e.next=34;break}throw Ef(t,d,f);case 34:_f(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof vl)){e.next=41;break}throw e.t0;case 41:_f(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),qf.apply(this,arguments)}function Wf(e,t,n,r){return Hf.apply(this,arguments)}function Hf(){return Hf=Dl(Cl().mark((function e(t,n,r,i){var a,o,s=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Uf(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&_f(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Kf(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Mf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Gf=function(){function e(t){var n=this;Xt(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Sf(n.auth,"network-request-failed"))}),Vf.get())}))}return Jt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Qf(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Sf(e,t,r);return i.customData._tokenResponse=n,i}function Yf(e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}function $f(e,t){return Jf.apply(this,arguments)}function Jf(){return Jf=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Jf.apply(this,arguments)}function Zf(e,t){return ed.apply(this,arguments)}function ed(){return ed=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ed.apply(this,arguments)}function td(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function nd(){return nd=Dl(Cl().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Al(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Af((a=id(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:td(rd(a.auth_time)),issuedAtTime:td(rd(a.iat)),expirationTime:td(rd(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),nd.apply(this,arguments)}function rd(e){return 1e3*Number(e)}function id(e){var t=Kt(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return xf("JWT malformed, contained fewer than 3 sections"),null;try{var a=rl(r);return a?JSON.parse(a):(xf("Failed to decode base64 JWT payload"),null)}catch(o){return xf("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function ad(e,t){return od.apply(this,arguments)}function od(){return od=Dl(Cl().mark((function e(t,n){var r=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof vl&&sd(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),od.apply(this,arguments)}function sd(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ud=function(){function e(t){Xt(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Jt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Dl(Cl().mark((function t(){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),cd=function(){function e(t,n){Xt(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Jt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=td(this.lastLoginAt),this.creationTime=td(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ld(e){return hd.apply(this,arguments)}function hd(){return hd=Dl(Cl().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ad(t,Zf(r,{idToken:i}));case 6:Af(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=sf(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=dd(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new cd(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),hd.apply(this,arguments)}function fd(){return(fd=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Al(t),e.next=3,ld(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Yt(n),Yt(t))}function pd(e,t){return vd.apply(this,arguments)}function vd(){return vd=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bf(t,{},Dl(Cl().mark((function e(){var r,i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xl({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Kf(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Lf.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),vd.apply(this,arguments)}var gd=function(){function e(){Xt(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Jt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Af(e.idToken,"internal-error"),Af("undefined"!==typeof e.idToken,"internal-error"),Af("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=id(e);return Af(t,"internal-error"),Af("undefined"!==typeof t.exp,"internal-error"),Af("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Dl(Cl().mark((function e(t){var n,r=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Af(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Dl(Cl().mark((function e(t,n){var r,i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Cf("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Af("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Af("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Af("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function yd(e,t){Af("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var md=function(){function e(t){Xt(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=sf(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ud(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Yt(a.providerData):[],this.metadata=new cd(a.createdAt||void 0,a.lastLoginAt||void 0)}return Jt(e,[{key:"getIdToken",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ad(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Af(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return nd.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return fd.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Af(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Af(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Dl(Cl().mark((function e(t){var n,r,i=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ld(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ad(this,Yf(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,g=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,m=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Af(b&&_,t,"internal-error");var S=gd.fromJSON(this.name,_);Af("string"===typeof b,t,"internal-error"),yd(h,t.name),yd(f,t.name),Af("boolean"===typeof k,t,"internal-error"),Af("boolean"===typeof w,t,"internal-error"),yd(d,t.name),yd(p,t.name),yd(v,t.name),yd(g,t.name),yd(y,t.name),yd(m,t.name);var E=new e({uid:b,auth:t,email:f,emailVerified:k,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:m});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),g&&(E._redirectEventId=g),E}},{key:"_fromIdTokenResponse",value:function(){var t=Dl(Cl().mark((function t(n,r){var i,a,o,s=arguments;return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new gd).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ld(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),bd=new Map;function kd(e){Pf(e instanceof Function,"Expected a class definition");var t=bd.get(e);return t?(Pf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,bd.set(e,t),t)}var wd=function(){function e(){Xt(this,e),this.type="NONE",this.storage={}}return Jt(e,[{key:"_isAvailable",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();wd.type="NONE";var xd=wd;function _d(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Sd=function(){function e(t,n,r){Xt(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=_d(this.userKey,a.apiKey,o),this.fullPersistenceKey=_d("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Jt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?md._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Dl(Cl().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(kd(xd),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||kd(xd),s=_d(i,n.config.apiKey,n.name),u=null,c=Gt(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=md._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ed(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Cd(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Id(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Dd(t))return"Blackberry";if(Nd(t))return"Webos";if(Td(t))return"Safari";if((t.includes("chrome/")||Ad(t))&&!t.includes("edge/"))return"Chrome";if(Pd(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Id(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return/firefox\//i.test(e)}function Td(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ad(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return/crios\//i.test(e)}function Cd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return/iemobile/i.test(e)}function Pd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return/android/i.test(e)}function Dd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return/blackberry/i.test(e)}function Nd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return/webos/i.test(e)}function Od(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Rd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return Od(e)||Pd(e)||Nd(e)||Dd(e)||/windows phone/i.test(e)||Cd(e)}function Md(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ed(cl());break;case"Worker":t="".concat(Ed(cl()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ih,"/").concat(r)}function Ld(e){return Fd.apply(this,arguments)}function Fd(){return Fd=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uf(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Fd.apply(this,arguments)}function Vd(e,t){return jd.apply(this,arguments)}function jd(){return jd=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"GET","/v2/recaptchaConfig",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),jd.apply(this,arguments)}function Ud(e){return void 0!==e&&void 0!==e.getResponse}function zd(e){return void 0!==e&&void 0!==e.enterprise}var Bd=Jt((function e(t){if(Xt(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function qd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Sf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Wd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Hd=function(){function e(t){Xt(this,e),this.type="recaptcha-enterprise",this.auth=Xd(t)}return Jt(e,[{key:"verify",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;zd(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Dl(Cl().mark((function e(n,r){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Vd(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Bd(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&zd(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));qd("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Kd(e,t,n){return Gd.apply(this,arguments)}function Gd(){return Gd=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Hd(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Gd.apply(this,arguments)}var Qd=function(){function e(t){Xt(this,e),this.auth=t,this.queue=[]}return Jt(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Dl(Cl().mark((function e(t){var n,r,i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Gt(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Gt(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(q){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Yd=function(){function e(t,n,r,i){Xt(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $d(this),this.idTokenSubscription=new $d(this),this.beforeStateQueue=new Qd(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return Jt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=kd(t)),this._initializationPromise=this.queue(Dl(Cl().mark((function r(){var i,a;return Cl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Sd.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Dl(Cl().mark((function e(t){var n,r,i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Af(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ld(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Al(t):null)&&Af(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Dl(Cl().mark((function e(t){var n,r=this,i=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Af(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Dl(Cl().mark((function n(){return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(kd(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Dl(Cl().mark((function e(){var t,n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vd(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Bd(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Hd(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new gl("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Af(n=t&&kd(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Sd.create(this,[kd(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Dl(Cl().mark((function e(t){var n=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Af(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Af(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Md(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ae({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Dl(Cl().mark((function e(){var t,n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&wf("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xd(e){return Al(e)}var $d=function(){function e(t){var n=this;Xt(this,e),this.auth=t,this.observer=null,this.addObserver=El((function(e){return n.observer=e}))}return Jt(e,[{key:"next",get:function(){return Af(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Jd(e,t,n){var r=Xd(e);Af(r._canInitEmulator,r,"emulator-config-failed"),Af(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Zd(t),o=function(e){var t=Zd(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ep(r.substr(a.length+1))}}var o=Kt(r.split(":"),2);return{host:o[0],port:ep(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Zd(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ep(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var tp=function(){function e(t,n){Xt(this,e),this.providerId=t,this.signInMethod=n}return Jt(e,[{key:"toJSON",value:function(){return Cf("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Cf("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Cf("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Cf("not implemented")}}]),e}();function np(e,t){return rp.apply(this,arguments)}function rp(){return rp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:resetPassword",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),rp.apply(this,arguments)}function ip(e,t){return ap.apply(this,arguments)}function ap(){return ap=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ap.apply(this,arguments)}function op(e,t){return sp.apply(this,arguments)}function sp(){return sp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:update",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),sp.apply(this,arguments)}function up(e,t){return cp.apply(this,arguments)}function cp(){return cp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(t,"POST","/v1/accounts:signInWithPassword",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(e,t){return hp.apply(this,arguments)}function hp(){return hp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:sendOobCode",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),hp.apply(this,arguments)}function fp(e,t){return dp.apply(this,arguments)}function dp(){return dp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lp(t,n));case 1:case"end":return e.stop()}}),e)}))),dp.apply(this,arguments)}function pp(e,t){return vp.apply(this,arguments)}function vp(){return vp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lp(t,n));case 1:case"end":return e.stop()}}),e)}))),vp.apply(this,arguments)}function gp(e,t){return yp.apply(this,arguments)}function yp(){return yp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lp(t,n));case 1:case"end":return e.stop()}}),e)}))),yp.apply(this,arguments)}function mp(e,t){return bp.apply(this,arguments)}function bp(){return bp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lp(t,n));case 1:case"end":return e.stop()}}),e)}))),bp.apply(this,arguments)}function kp(e,t){return wp.apply(this,arguments)}function wp(){return wp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(t,"POST","/v1/accounts:signInWithEmailLink",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function xp(e,t){return _p.apply(this,arguments)}function _p(){return _p=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(t,"POST","/v1/accounts:signInWithEmailLink",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),_p.apply(this,arguments)}var Sp=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Xt(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Jt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Dl(Cl().mark((function e(t){var n,r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Kd(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",up(t,i));case 11:return e.abrupt("return",up(t,r).catch(function(){var e=Dl(Cl().mark((function e(n){var i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Kd(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",up(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",kp(t,{email:this._email,oobCode:this._password}));case 13:_f(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ip(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xp(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:_f(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(tp);function Ep(e,t){return Ip.apply(this,arguments)}function Ip(){return Ip=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(t,"POST","/v1/accounts:signInWithIdp",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ip.apply(this,arguments)}var Tp=function(e){jt(n,e);var t=zt(n);function n(){var e;return Xt(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Jt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ep(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ep(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ep(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xl(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_f("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=sf(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(tp);function Ap(e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:sendVerificationCode",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Pp(){return Pp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(t,"POST","/v1/accounts:signInWithPhoneNumber",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pp.apply(this,arguments)}function Dp(){return Dp=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wf(t,"POST","/v1/accounts:signInWithPhoneNumber",jf(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Qf(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Dp.apply(this,arguments)}var Np=Ae({},"USER_NOT_FOUND","user-not-found");function Op(){return Op=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Wf(t,"POST","/v1/accounts:signInWithPhoneNumber",jf(t,r),Np));case 2:case"end":return e.stop()}}),e)}))),Op.apply(this,arguments)}var Rp=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Jt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Pp.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Dp.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Op.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(tp);var Mp=function(){function e(t){var n,r,i,a,o,s;Xt(this,e);var u=_l(Sl(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Af(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Jt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=_l(Sl(e)).link,n=t?_l(Sl(t)).deep_link_id:null,r=_l(Sl(e)).deep_link_id;return(r?_l(Sl(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(lR){return null}}}]),e}();var Lp=function(){function e(){Xt(this,e),this.providerId=e.PROVIDER_ID}return Jt(e,null,[{key:"credential",value:function(e,t){return Sp._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Mp.parseLink(t);return Af(n,"argument-error"),Sp._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Lp.PROVIDER_ID="password",Lp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Lp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Fp=function(){function e(t){Xt(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Jt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Vp=function(e){jt(n,e);var t=zt(n);function n(){var e;return Xt(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Jt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Yt(this.scopes)}}]),n}(Fp),jp=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Af(e.idToken||e.accessToken,"argument-error"),Tp._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Af("providerId"in t&&"signInMethod"in t,"argument-error"),Tp._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Vp),Up=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.call(this,"facebook.com")}return Jt(n,null,[{key:"credential",value:function(e){return Tp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(lR){return null}}}]),n}(Vp);Up.FACEBOOK_SIGN_IN_METHOD="facebook.com",Up.PROVIDER_ID="facebook.com";var zp=function(e){jt(n,e);var t=zt(n);function n(){var e;return Xt(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Jt(n,null,[{key:"credential",value:function(e,t){return Tp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(lR){return null}}}]),n}(Vp);zp.GOOGLE_SIGN_IN_METHOD="google.com",zp.PROVIDER_ID="google.com";var Bp=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.call(this,"github.com")}return Jt(n,null,[{key:"credential",value:function(e){return Tp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(lR){return null}}}]),n}(Vp);Bp.GITHUB_SIGN_IN_METHOD="github.com",Bp.PROVIDER_ID="github.com";var qp=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Jt(n,[{key:"_getIdTokenResponse",value:function(e){return Ep(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ep(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ep(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(tp),Wp=function(e){jt(n,e);var t=zt(n);function n(e){return Xt(this,n),Af(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Jt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=qp.fromJSON(e);return Af(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return qp._create(r,n)}catch(i){return null}}}]),n}(Fp),Hp=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.call(this,"twitter.com")}return Jt(n,null,[{key:"credential",value:function(e,t){return Tp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(lR){return null}}}]),n}(Vp);function Kp(e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(t,"POST","/v1/accounts:signUp",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}Hp.TWITTER_SIGN_IN_METHOD="twitter.com",Hp.PROVIDER_ID="twitter.com";var Qp=function(){function e(t){Xt(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Jt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Dl(Cl().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,md._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Yp(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Dl(Cl().mark((function t(n,r,i){var a;return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Yp(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Yp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Xp(){return Xp=Dl(Cl().mark((function e(t){var n,r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xd(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Qp({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Kp(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Qp._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Xp.apply(this,arguments)}var $p=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a){var o,s;return Xt(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Mt(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Jt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(vl);function Jp(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw $p._fromErrorAndOperation(e,n,t,r);throw n}))}function Zp(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ev(e,t){return tv.apply(this,arguments)}function tv(){return tv=Dl(Cl().mark((function e(t,n){var r,i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Al(t),e.next=3,iv(!0,r,n);case 3:return e.t0=$f,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Zp(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=Dl(Cl().mark((function e(t,n){var r,i,a=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ad,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Qp._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e,t,n){return av.apply(this,arguments)}function av(){return(av=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ld(n);case 2:i=Zp(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Af(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ov(e,t){return sv.apply(this,arguments)}function sv(){return sv=Dl(Cl().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ad(t,Jp(i,a,n,t),r);case 6:return Af((o=e.sent).idToken,i,"internal-error"),Af(s=id(o.idToken),i,"internal-error"),u=s.sub,Af(t.uid===u,i,"user-mismatch"),e.abrupt("return",Qp._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&_f(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),sv.apply(this,arguments)}function uv(e,t){return cv.apply(this,arguments)}function cv(){return cv=Dl(Cl().mark((function e(t,n){var r,i,a,o,s=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Jp(t,i,n);case 4:return a=e.sent,e.next=7,Qp._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),cv.apply(this,arguments)}function lv(e,t){return hv.apply(this,arguments)}function hv(){return hv=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uv(Xd(t),n));case 1:case"end":return e.stop()}}),e)}))),hv.apply(this,arguments)}function fv(e,t){return dv.apply(this,arguments)}function dv(){return(dv=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Al(t),e.next=3,iv(!1,r,n.providerId);case 3:return e.abrupt("return",nv(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pv(e,t){return vv.apply(this,arguments)}function vv(){return(vv=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ov(Al(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gv(e,t){return yv.apply(this,arguments)}function yv(){return yv=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(t,"POST","/v1/accounts:signInWithCustomToken",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}function mv(){return mv=Dl(Cl().mark((function e(t,n){var r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xd(t),e.next=3,gv(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Qp._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),mv.apply(this,arguments)}var bv=function(){function e(t,n){Xt(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Jt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?kv._fromServerResponse(e,t):"totpInfo"in t?wv._fromServerResponse(e,t):_f(e,"internal-error")}}]),e}(),kv=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Jt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(bv),wv=function(e){jt(n,e);var t=zt(n);function n(e){return Xt(this,n),t.call(this,"totp",e)}return Jt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(bv);function xv(e,t,n){var r;Af((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Af("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Af(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Af(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function _v(){return _v=Dl(Cl().mark((function e(t,n,r){var i,a,o,s;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Xd(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Kd(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&xv(a,s,r),e.next=9,pp(a,s);case 9:e.next=14;break;case 11:return r&&xv(a,o,r),e.next=14,pp(a,o).catch(function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Kd(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&xv(a,n,r),e.next=8,pp(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),_v.apply(this,arguments)}function Sv(){return Sv=Dl(Cl().mark((function e(t,n,r){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,np(Al(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Ev(){return Ev=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,op(Al(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function Iv(e,t){return Tv.apply(this,arguments)}function Tv(){return Tv=Dl(Cl().mark((function e(t,n){var r,i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Al(t),e.next=3,np(r,{oobCode:n});case 3:i=e.sent,Af(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Af(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Af(i.mfaInfo,r,"internal-error");case 13:Af(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=bv._fromServerResponse(Xd(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Av(){return Av=Dl(Cl().mark((function e(t,n){var r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Iv(Al(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Av.apply(this,arguments)}function Cv(e,t,n){return Pv.apply(this,arguments)}function Pv(){return Pv=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Xd(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Kd(a,o,"signUpPassword");case 5:u=e.sent,s=Kp(a,u),e.next=10;break;case 9:s=Kp(a,o).catch(function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Kd(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Kp(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Qp._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Dv(){return Dv=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Af(t.handleCodeInApp,a,"argument-error"),t&&xv(a,e,t)},a=Xd(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Kd(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,gp(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,gp(a,o).catch(function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Kd(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,gp(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}function Nv(){return Nv=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Al(t),Af((a=Lp.credentialWithLink(n,r||Df()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",lv(i,a));case 4:case"end":return e.stop()}}),e)}))),Nv.apply(this,arguments)}function Ov(e,t){return Rv.apply(this,arguments)}function Rv(){return Rv=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:createAuthUri",jf(t,n)));case 1:case"end":return e.stop()}}),e)}))),Rv.apply(this,arguments)}function Mv(){return Mv=Dl(Cl().mark((function e(t,n){var r,i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nf()?Df():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ov(Al(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Mv.apply(this,arguments)}function Lv(){return(Lv=Dl(Cl().mark((function e(t,n){var r,i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Al(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&xv(r.auth,a,n),e.next=8,fp(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fv(){return(Fv=Dl(Cl().mark((function e(t,n,r){var i,a,o,s;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Al(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&xv(i.auth,o,r),e.next=8,mp(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vv(e,t){return jv.apply(this,arguments)}function jv(){return jv=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uf(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Uv(){return(Uv=Dl(Cl().mark((function e(t,n){var r,i,a,o,s,u,c;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Al(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ad(a,Vv(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zv(e,t,n){return Bv.apply(this,arguments)}function Bv(){return Bv=Dl(Cl().mark((function e(t,n,r){var i,a,o,s;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ad(t,ip(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Bv.apply(this,arguments)}var qv=Jt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xt(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Wv=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a){var o;return Xt(this,n),(o=t.call(this,e,r,i)).username=a,o}return Jt(n)}(qv),Hv=function(e){jt(n,e);var t=zt(n);function n(e,r){return Xt(this,n),t.call(this,e,"facebook.com",r)}return Jt(n)}(qv),Kv=function(e){jt(n,e);var t=zt(n);function n(e,r){return Xt(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Jt(n)}(Wv),Gv=function(e){jt(n,e);var t=zt(n);function n(e,r){return Xt(this,n),t.call(this,e,"google.com",r)}return Jt(n)}(qv),Qv=function(e){jt(n,e);var t=zt(n);function n(e,r,i){return Xt(this,n),t.call(this,e,"twitter.com",r,i)}return Jt(n)}(Wv);function Yv(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=id(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new qv(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Hv(a,i);case"github.com":return new Kv(a,i);case"google.com":return new Gv(a,i);case"twitter.com":return new Qv(a,i,e.screenName||null);case"custom":case"anonymous":return new qv(a,null);default:return new qv(a,r,i)}}(n)}var Xv=function(){function e(t,n,r){Xt(this,e),this.type=t,this.credential=n,this.auth=r}return Jt(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ae({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),$v=function(){function e(t,n,r){Xt(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Jt(e,[{key:"resolveSignIn",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Xd(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return bv._fromServerResponse(r,e)}));Af(i.mfaPendingCredential,r,"internal-error");var o=Xv._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Dl(Cl().mark((function e(t){var a,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Qp._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Af(n.user,r,"internal-error"),e.abrupt("return",Qp._forOperation(n.user,n.operationType,s));case 17:_f(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Jv(e,t){return Uf(e,"POST","/v2/accounts/mfaEnrollment:start",jf(e,t))}function Zv(e,t){return Uf(e,"POST","/v2/accounts/mfaEnrollment:start",jf(e,t))}function eg(e,t){return Uf(e,"POST","/v2/accounts/mfaEnrollment:finalize",jf(e,t))}function tg(e,t){return Uf(e,"POST","/v2/accounts/mfaEnrollment:withdraw",jf(e,t))}var ng=function(){function e(t){var n=this;Xt(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return bv._fromServerResponse(t.auth,e)})))}))}return Jt(e,[{key:"getSession",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Xv,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Dl(Cl().mark((function e(t,n){var r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ad(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Dl(Cl().mark((function e(t){var n,r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,ad(this.user,tg(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),rg=new WeakMap;var ig="__sak",ag=function(){function e(t,n){Xt(this,e),this.storageRetriever=t,this.type=n}return Jt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ig,"1"),this.storage.removeItem(ig),Promise.resolve(!0)):Promise.resolve(!1)}catch(lR){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var og=function(e){jt(n,e);var t=zt(n);function n(){var e;return Xt(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=cl();return Td(e)||Od(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Rd(),e._shouldAllowMigration=!0,e}return Jt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);dl()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Dl(Cl().mark((function e(t,r){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(Lt(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Dl(Cl().mark((function e(t){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(Lt(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(Lt(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ag);og.type="LOCAL";var sg=og,ug=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Jt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ag);ug.type="SESSION";var cg=ug;function lg(e){return Promise.all(e.map(function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var hg=function(){function e(t){Xt(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Jt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Dl(Cl().mark((function e(t){var n,r,i,a,o,s,u,c;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,lg(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function fg(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}hg.receivers=[];var dg=function(){function e(t){Xt(this,e),this.target=t,this.handlers=new Set}return Jt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Dl(Cl().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=fg("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function pg(){return window}function vg(e){pg().location.href=e}function gg(){return"undefined"!==typeof pg().WorkerGlobalScope&&"function"===typeof pg().importScripts}function yg(){return mg.apply(this,arguments)}function mg(){return(mg=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function bg(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var kg="firebaseLocalStorageDb",wg="firebaseLocalStorage",xg="fbase_key",_g=function(){function e(t){Xt(this,e),this.request=t}return Jt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Sg(e,t){return e.transaction([wg],t?"readwrite":"readonly").objectStore(wg)}function Eg(){var e=indexedDB.deleteDatabase(kg);return new _g(e).toPromise()}function Ig(){var e=indexedDB.open(kg,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(wg,{keyPath:xg})}catch(r){n(r)}})),e.addEventListener("success",Dl(Cl().mark((function n(){var r;return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(wg)){n.next=12;break}return r.close(),n.next=5,Eg();case 5:return n.t0=t,n.next=8,Ig();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Tg(e,t,n){return Ag.apply(this,arguments)}function Ag(){return Ag=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Sg(t,!0).put((Ae(i={},xg,n),Ae(i,"value",r),i)),e.abrupt("return",new _g(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ag.apply(this,arguments)}function Cg(e,t){return Pg.apply(this,arguments)}function Pg(){return Pg=Dl(Cl().mark((function e(t,n){var r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sg(t,!1).get(n),e.next=3,new _g(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Pg.apply(this,arguments)}function Dg(e,t){var n=Sg(e,!0).delete(t);return new _g(n).toPromise()}var Ng=function(){function e(){Xt(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Jt(e,[{key:"_openDb",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ig();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gg()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Dl(Cl().mark((function e(){var t=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=hg._getInstance(gg()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Dl(Cl().mark((function e(n,r){var i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yg();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new dg(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&bg()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ig();case 5:return t=e.sent,e.next=8,Tg(t,ig,"1");case 8:return e.next=10,Dg(t,ig);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Dl(Cl().mark((function e(t,n){var r=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Tg(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Cg(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Dl(Cl().mark((function e(t){var n=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Dg(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Sg(e,!1).getAll();return new _g(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Gt(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Dl(Cl().mark((function t(){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ng.type="LOCAL";var Og=Ng;function Rg(e,t){return Uf(e,"POST","/v2/accounts/mfaSignIn:start",jf(e,t))}function Mg(e,t){return Uf(e,"POST","/v2/accounts/mfaSignIn:finalize",jf(e,t))}var Lg=1e12,Fg=function(){function e(t){Xt(this,e),this.auth=t,this.counter=Lg,this._widgets=new Map}return Jt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Vg(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Lg;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Lg;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Lg,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Vg=function(){function e(t,n,r){var i=this;Xt(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Af(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Jt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var jg=Wd("rcb"),Ug=new Rf(3e4,6e4),zg=function(){function e(){var t;Xt(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=pg().grecaptcha)||void 0===t?void 0:t.render)}return Jt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Af(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Ud(pg().grecaptcha)?Promise.resolve(pg().grecaptcha):new Promise((function(r,i){var a=pg().setTimeout((function(){i(Sf(e,"network-request-failed"))}),Ug.get());pg()[jg]=function(){pg().clearTimeout(a),delete pg()[jg];var o=pg().grecaptcha;if(o&&Ud(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Sf(e,"internal-error"))},qd("".concat("https://www.google.com/recaptcha/api.js?","?").concat(xl({onload:jg,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Sf(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=pg().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Bg=function(){function e(){Xt(this,e)}return Jt(e,[{key:"load",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Fg(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),qg="recaptcha",Wg={theme:"light",type:"image"},Hg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Wg),r=arguments.length>2?arguments[2]:void 0;Xt(this,e),this.parameters=n,this.type=qg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xd(r),this.isInvisible="invisible"===this.parameters.size,Af("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Af(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bg:new zg,this.validateStartingState()}return Jt(e,[{key:"verify",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r,i=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Af(!this.parameters.sitekey,this.auth,"argument-error"),Af(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Af("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=pg()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Af(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Dl(Cl().mark((function e(){var t,n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Af(Nf()&&!gg(),this.auth,"internal-error"),e.next=3,Kg();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ld(this.auth);case 8:Af(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Af(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Kg(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Gg=function(){function e(t,n){Xt(this,e),this.verificationId=t,this.onConfirmation=n}return Jt(e,[{key:"confirm",value:function(e){var t=Rp._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Qg(){return Qg=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xd(t),e.next=3,Jg(i,n,Al(r));case 3:return a=e.sent,e.abrupt("return",new Gg(a,(function(e){return lv(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Qg.apply(this,arguments)}function Yg(e,t,n){return Xg.apply(this,arguments)}function Xg(){return(Xg=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Al(t),e.next=3,iv(!1,i,"phone");case 3:return e.next=5,Jg(i.auth,n,Al(r));case 5:return a=e.sent,e.abrupt("return",new Gg(a,(function(e){return fv(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $g(){return($g=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Al(t),e.next=3,Jg(i.auth,n,Al(r));case 3:return a=e.sent,e.abrupt("return",new Gg(a,(function(e){return pv(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jg(e,t,n){return Zg.apply(this,arguments)}function Zg(){return Zg=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Af("string"===typeof a,t,"argument-error"),Af(r.type===qg,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Af("enroll"===s.type,t,"internal-error"),e.next=13,Jv(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Af("signin"===s.type,t,"internal-error"),Af(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Rg(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ap(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Zg.apply(this,arguments)}function ey(){return(ey=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nv(Al(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ty=function(){function e(t){Xt(this,e),this.providerId=e.PROVIDER_ID,this.auth=Xd(t)}return Jt(e,[{key:"verifyPhoneNumber",value:function(e,t){return Jg(this.auth,e,Al(t))}}],[{key:"credential",value:function(e,t){return Rp._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Rp._fromTokenResponse(n,r):null}}]),e}();function ny(e,t){return t?kd(t):(Af(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ty.PROVIDER_ID="phone",ty.PHONE_SIGN_IN_METHOD="phone";var ry=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Jt(n,[{key:"_getIdTokenResponse",value:function(e){return Ep(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ep(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ep(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(tp);function iy(e){return uv(e.auth,new ry(e),e.bypassAuthState)}function ay(e){var t=e.auth,n=e.user;return Af(n,t,"internal-error"),ov(n,new ry(e),e.bypassAuthState)}function oy(e){return sy.apply(this,arguments)}function sy(){return sy=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Af(r=t.user,n,"internal-error"),e.abrupt("return",nv(r,new ry(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),sy.apply(this,arguments)}var uy=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Xt(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Jt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Dl(Cl().mark((function t(n,r){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Dl(Cl().mark((function e(t){var n,r,i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iy;case"linkViaPopup":case"linkViaRedirect":return oy;case"reauthViaPopup":case"reauthViaRedirect":return ay;default:_f(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Pf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Pf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),cy=new Rf(2e3,1e4);function ly(e,t,n){return hy.apply(this,arguments)}function hy(){return hy=Dl(Cl().mark((function e(t,n,r){var i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xd(t),If(t,n,Fp),a=ny(i,r),o=new vy(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}function fy(){return(fy=Dl(Cl().mark((function e(t,n,r){var i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return If((i=Al(t)).auth,n,Fp),a=ny(i.auth,r),o=new vy(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dy(e,t,n){return py.apply(this,arguments)}function py(){return(py=Dl(Cl().mark((function e(t,n,r){var i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return If((i=Al(t)).auth,n,Fp),a=ny(i.auth,r),o=new vy(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vy=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a,o){var s;return Xt(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Mt(s),s}return Jt(n,[{key:"executeNotNull",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Af(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Dl(Cl().mark((function e(){var t,n=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pf(1===this.filter.length,"Popup operations only handle one event"),t=fg(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Sf(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Sf(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Sf(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,cy.get())}()}}]),n}(uy);vy.currentPopupAction=null;var gy="pendingRedirect",yy=new Map,my=function(e){jt(n,e);var t=zt(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Xt(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Jt(n,[{key:"execute",value:function(){var e=Dl(Cl().mark((function e(){var t,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=yy.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,by(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ft(Lt(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:yy.set(this.auth._key(),t);case 21:return this.bypassAuthState||yy.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Dl(Cl().mark((function e(t){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ft(Lt(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ft(Lt(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(uy);function by(e,t){return ky.apply(this,arguments)}function ky(){return ky=Dl(Cl().mark((function e(t,n){var r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ey(n),i=Sy(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ky.apply(this,arguments)}function wy(e,t){return xy.apply(this,arguments)}function xy(){return xy=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sy(t)._set(Ey(n),"true"));case 1:case"end":return e.stop()}}),e)}))),xy.apply(this,arguments)}function _y(e,t){yy.set(e._key(),t)}function Sy(e){return kd(e._redirectPersistence)}function Ey(e){return _d(gy,e.config.apiKey,e.name)}function Iy(e,t,n){return function(e,t,n){return Ty.apply(this,arguments)}(e,t,n)}function Ty(){return Ty=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xd(t),If(t,n,Fp),e.next=4,i._initializationPromise;case 4:return a=ny(i,r),e.next=7,wy(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Ay(e,t,n){return function(e,t,n){return Cy.apply(this,arguments)}(e,t,n)}function Cy(){return(Cy=Dl(Cl().mark((function e(t,n,r){var i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return If((i=Al(t)).auth,n,Fp),e.next=4,i.auth._initializationPromise;case 4:return a=ny(i.auth,r),e.next=7,wy(a,i.auth);case 7:return e.next=9,Ly(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Py(e,t,n){return function(e,t,n){return Dy.apply(this,arguments)}(e,t,n)}function Dy(){return(Dy=Dl(Cl().mark((function e(t,n,r){var i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return If((i=Al(t)).auth,n,Fp),e.next=4,i.auth._initializationPromise;case 4:return a=ny(i.auth,r),e.next=7,iv(!1,i,n.providerId);case 7:return e.next=9,wy(a,i.auth);case 9:return e.next=11,Ly(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ny(e,t){return Oy.apply(this,arguments)}function Oy(){return Oy=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xd(t)._initializationPromise;case 2:return e.abrupt("return",Ry(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Ry(e,t){return My.apply(this,arguments)}function My(){return My=Dl(Cl().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Xd(t),a=ny(i,n),o=new my(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Ly(e){return Fy.apply(this,arguments)}function Fy(){return(Fy=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fg("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vy=function(){function e(t){Xt(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Jt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uy(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Uy(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Sf(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jy(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(jy(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function jy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Uy(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function zy(e){return By.apply(this,arguments)}function By(){return By=Dl(Cl().mark((function e(t){var n,r=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Uf(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}var qy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wy=/^https?/;function Hy(){return Hy=Dl(Cl().mark((function e(t){var n,r,i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,zy(t);case 4:n=e.sent,r=n.authorizedDomains,i=Gt(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Ky(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:_f(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Hy.apply(this,arguments)}function Ky(e){var t=Df(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Wy.test(r))return!1;if(qy.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Gy=new Rf(3e4,6e4);function Qy(){var e=pg().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Yt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Yy=null;function Xy(e){return Yy=Yy||function(e){return new Promise((function(t,n){var r,i,a;function o(){Qy(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Qy(),n(Sf(e,"network-request-failed"))},timeout:Gy.get()})}if(null===(i=null===(r=pg().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=pg().gapi)||void 0===a?void 0:a.load)){var s=Wd("iframefcb");return pg()[s]=function(){gapi.load?o():n(Sf(e,"network-request-failed"))},qd("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Yy=null,e}))}(e),Yy}var $y=new Rf(5e3,15e3),Jy="__/auth/iframe",Zy="emulator/auth/iframe",em={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nm(e){var t=e.config;Af(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Mf(t,Zy):"https://".concat(e.config.authDomain,"/").concat(Jy),r={apiKey:t.apiKey,appName:e.name,v:Ih},i=tm.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(xl(r).slice(1))}function rm(e){return im.apply(this,arguments)}function im(){return im=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xy(t);case 2:return n=e.sent,Af(r=pg().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:nm(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:em,dontclear:!0},(function(e){return new Promise(function(){var n=Dl(Cl().mark((function n(r,i){var a,o,s;return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){pg().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Sf(t,"network-request-failed"),o=pg().setTimeout((function(){i(a)}),$y.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}var am={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},om=function(){function e(t){Xt(this,e),this.window=t,this.associatedEvent=null}return Jt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function sm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},am),{width:r.toString(),height:i.toString(),top:a,left:o}),c=cl().toLowerCase();n&&(s=Ad(c)?"_blank":n),Id(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=Kt(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Od(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new om(null);var h=window.open(t||"",s,l);Af(h,e,"popup-blocked");try{h.focus()}catch(f){}return new om(h)}var um="__/auth/handler",cm="emulator/auth/handler",lm=encodeURIComponent("fac");function hm(e,t,n,r,i,a){return fm.apply(this,arguments)}function fm(){return fm=Dl(Cl().mark((function e(t,n,r,i,a,o){var s,u,c,l,h,f,d,p,v,g,y,m,b;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Af(t.config.authDomain,t,"auth-domain-config-required"),Af(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Ih,eventId:a},n instanceof Fp)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",bl(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,c=Object.entries(o||{});u<c.length;u++)l=Kt(c[u],2),h=l[0],f=l[1],s[h]=f;for(n instanceof Vp&&(d=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=d.join(",")),t.tenantId&&(s.tid=t.tenantId),p=s,v=0,g=Object.keys(p);v<g.length;v++)y=g[v],void 0===p[y]&&delete p[y];return e.next=10,t._getAppCheckToken();case 10:return m=e.sent,b=m?"#".concat(lm,"=").concat(encodeURIComponent(m)):"",e.abrupt("return","".concat(dm(t),"?").concat(xl(p).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function dm(e){var t=e.config;return t.emulator?Mf(t,cm):"https://".concat(t.authDomain,"/").concat(um)}var pm="webStorageSupport",vm=function(){function e(){Xt(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cg,this._completeRedirectFn=Ry,this._overrideRedirectResult=_y}return Jt(e,[{key:"_openPopup",value:function(){var e=Dl(Cl().mark((function e(t,n,r,i){var a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pf(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,hm(t,n,r,Df(),i);case 3:return o=e.sent,e.abrupt("return",sm(t,o,fg()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Dl(Cl().mark((function e(t,n,r,i){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,hm(t,n,r,Df(),i);case 4:return vg(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Pf(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rm(t);case 2:return n=e.sent,r=new Vy(t),n.register("authEvent",(function(e){return Af(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(pm,{type:pm},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[pm];void 0!==i&&t(!!i),_f(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Hy.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Rd()||Td()||Od()}}]),e}(),gm=vm,ym=function(){function e(t){Xt(this,e),this.factorId=t}return Jt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Cf("unexpected MultiFactorSessionType")}}}]),e}(),mm=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,"phone")).credential=e,r}return Jt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Uf(e,"POST","/v2/accounts/mfaEnrollment:finalize",jf(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Uf(e,"POST","/v2/accounts/mfaSignIn:finalize",jf(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ym),bm=function(){function e(){Xt(this,e)}return Jt(e,null,[{key:"assertion",value:function(e){return mm._fromCredential(e)}}]),e}();bm.FACTOR_ID="phone";var km=function(){function e(){Xt(this,e)}return Jt(e,null,[{key:"assertionForEnrollment",value:function(e,t){return wm._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return wm._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Af("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Zv(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",xm._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();km.FACTOR_ID="totp";var wm=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return Jt(n,[{key:"_finalizeEnroll",value:function(){var e=Dl(Cl().mark((function e(t,n,r){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Af("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",eg(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Af(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Mg(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(ym),xm=function(){function e(t,n,r,i,a,o,s){Xt(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return Jt(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(_m(e)||_m(t))&&(r=!0),r&&(_m(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),_m(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function _m(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Sm="@firebase/auth",Em="0.23.1",Im=function(){function e(t){Xt(this,e),this.auth=t,this.internalListeners=new Map}return Jt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Af(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Tm;!function(e){var t;null===(t=ol())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Am(){return window}Tm="Browser",bh(new Nl("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Af(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),Af(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Tm,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Md(Tm)},l=new Yd(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kd);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),bh(new Nl("auth-internal",(function(e){return function(e){return new Im(e)}(Xd(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Nh(Sm,Em,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Tm)),Nh(Sm,Em,"esm2017");var Cm=2e3;function Pm(e,t,n){return Dm.apply(this,arguments)}function Dm(){return Dm=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Am(),o=a.BuildInfo,Pf(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Fm(n.sessionId);case 4:return s=e.sent,u={},Od()?u.ibi=o.packageName:Pd()?u.apn=o.packageName:_f(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",hm(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Dm.apply(this,arguments)}function Nm(){return Nm=Dl(Cl().mark((function e(t){var n,r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Am(),r=n.BuildInfo,i={},Od()?i.iosBundleId=r.packageName:Pd()?i.androidPackageName=r.packageName:_f(t,"operation-not-supported-in-this-environment"),e.next=5,zy(t,i);case 5:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Om(e){var t=Am().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Rm(e,t,n){return Mm.apply(this,arguments)}function Mm(){return Mm=Dl(Cl().mark((function e(t,n,r){var i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Am(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Sf(t,"redirect-cancelled-by-user"))}),Cm))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Pd()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Mm.apply(this,arguments)}function Lm(e){var t,n,r,i,a,o,s,u,c,l,h=Am();Af("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Af("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Af("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Af("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Af("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Fm(e){return Vm.apply(this,arguments)}function Vm(){return(Vm=Dl(Cl().mark((function e(t){var n,r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jm(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jm(e){if(Pf(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Um=20,zm=function(e){jt(n,e);var t=zt(n);function n(){var e;return Xt(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Jt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ft(Lt(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Vy);function Bm(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Gm(),postBody:null,tenantId:e.tenantId,error:Sf(e,"no-auth-event")}}function qm(e,t){return Qm()._set(Ym(e),t)}function Wm(e){return Hm.apply(this,arguments)}function Hm(){return Hm=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qm()._get(Ym(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Qm()._remove(Ym(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Km(e,t){var n,r,i=function(e){var t=Xm(e),n=t.link?decodeURIComponent(t.link):void 0,r=Xm(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Xm(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Xm(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Sf(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Gm(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Um;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Qm(){return kd(sg)}function Ym(e){return _d("authEvent",e.config.apiKey,e.name)}function Xm(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=of(e.split("?"));t[0];return _l(t.slice(1).join("?"))}var $m=function(){function e(){Xt(this,e),this._redirectPersistence=cg,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ry,this._overrideRedirectResult=_y}return Jt(e,[{key:"_initialize",value:function(){var e=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new zm(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){_f(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Dl(Cl().mark((function e(t,n,r,i){var a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lm(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),yy.clear(),e.next=10,this._originValidation(t);case 10:return o=Bm(t,r,i),e.next=13,qm(t,o);case 13:return e.next=15,Pm(t,o,n);case 15:return s=e.sent,e.next=18,Om(s);case 18:return u=e.sent,e.abrupt("return",Rm(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Nm.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Am(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Dl(Cl().mark((function n(){return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Wm(e);case 2:t.onEvent(Zm());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Dl(Cl().mark((function n(r){var i,a;return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Wm(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Km(i,r.url)),t.onEvent(a||Zm());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Am().handleOpenURL=function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Jm=$m;function Zm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Sf("no-auth-event")}}var eb=1e3;function tb(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function nb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return!("file:"!==tb()&&"ionic:"!==tb()&&"capacitor:"!==tb()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function rb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return dl()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl();return/Edge\/\d+/.test(e)}(e)}function ib(){try{var e=self.localStorage,t=fg();if(e)return e.setItem(t,"1"),e.removeItem(t),!rb()||pl()}catch(n){return ab()&&pl()}return!1}function ab(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function ob(){return("http:"===tb()||"https:"===tb()||hl()||nb())&&!(fl()||ll())&&ib()&&!ab()}function sb(){return nb()&&"undefined"!==typeof document}function ub(){return cb.apply(this,arguments)}function cb(){return cb=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sb()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),eb);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)}))),cb.apply(this,arguments)}var lb={LOCAL:"local",NONE:"none",SESSION:"session"},hb=Af,fb="persistence";function db(e,t){hb(Object.values(lb).includes(t),e,"invalid-persistence-type"),fl()?hb(t!==lb.SESSION,e,"unsupported-persistence-type"):ll()?hb(t===lb.NONE,e,"unsupported-persistence-type"):ab()?hb(t===lb.NONE||t===lb.LOCAL&&pl(),e,"unsupported-persistence-type"):hb(t===lb.NONE||ib(),e,"unsupported-persistence-type")}function pb(e){return vb.apply(this,arguments)}function vb(){return vb=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=gb(),r=_d(fb,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),vb.apply(this,arguments)}function gb(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var yb=Af,mb=function(){function e(){Xt(this,e),this.browserResolver=kd(gm),this.cordovaResolver=kd(Jm),this.underlyingResolver=null,this._redirectPersistence=cg,this._completeRedirectFn=Ry,this._overrideRedirectResult=_y}return Jt(e,[{key:"_initialize",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Dl(Cl().mark((function e(t,n,r,i){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Dl(Cl().mark((function e(t,n,r,i){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return sb()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return yb(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ub();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bb(e){return e.unwrap()}function kb(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Eb(e,function(e,t){var n,r=Al(e),i=t;return Af(t.customData.operationType,r,"argument-error"),Af(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),$v._fromError(r,i)}(e,t));else if(r){var i=wb(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function wb(e){var t=(e instanceof vl?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof vl)&&"temporaryProof"in t&&"phoneNumber"in t)return ty.credentialFromResult(e);var n,r=t.providerId;if(!r||r===cf.PASSWORD)return null;switch(r){case cf.GOOGLE:n=zp;break;case cf.FACEBOOK:n=Up;break;case cf.GITHUB:n=Bp;break;case cf.TWITTER:n=Hp;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?qp._create(r,s):Tp._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new jp(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof vl?n.credentialFromError(e):n.credentialFromResult(e)}function xb(e,t){return t.catch((function(t){throw t instanceof vl&&kb(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,wb(t)),additionalUserInfo:Yv(e),user:Ib.getOrCreate(r)}}))}function _b(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return xb(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}var Eb=function(){function e(t,n){Xt(this,e),this.resolver=n,this.auth=t.wrapped()}return Jt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return xb(bb(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Ib=function(){function e(t){Xt(this,e),this._delegate=t,this.multiFactor=function(e){var t=Al(e);return rg.has(t)||rg.set(t,ng._fromUser(t)),rg.get(t)}(t)}return Jt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xb(this.auth,fv(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_b(this.auth,Yg(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xb(this.auth,dy(this._delegate,t,mb)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pb(Xd(this.auth));case 2:return e.abrupt("return",Py(this._delegate,t,mb));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xb(this.auth,pv(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return _b(this.auth,function(e,t,n){return $g.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return xb(this.auth,function(e,t,n){return fy.apply(this,arguments)}(this._delegate,e,mb))}},{key:"reauthenticateWithRedirect",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pb(Xd(this.auth));case 2:return e.abrupt("return",Ay(this._delegate,t,mb));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Lv.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ev(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return zv(Al(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return zv(Al(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ey.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Uv.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Fv.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Ib.USER_MAP=new WeakMap;var Tb=Af,Ab=function(){function e(t,n){if(Xt(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Tb(r,"invalid-api-key",{appName:t.name}),Tb(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?mb:void 0;this._delegate=n.initialize({options:{persistence:Pb(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(yf),this.linkUnderlyingAuth()}return Jt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Ib.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Jd(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Ev.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Iv(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Sv.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xb(this._delegate,Cv(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Mv.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Mp.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tb(ob(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ny(this._delegate,mb);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",xb(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Xd(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Cb(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Cb(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Dv.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return _v.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:db(this._delegate,t),e.t0=t,e.next=e.t0===lb.SESSION?4:e.t0===lb.LOCAL?6:e.t0===lb.NONE?11:13;break;case 4:return n=cg,e.abrupt("break",14);case 6:return e.next=8,kd(Og)._isAvailable();case 8:return r=e.sent,n=r?Og:sg,e.abrupt("break",14);case 11:return n=xd,e.abrupt("break",14);case 13:return e.abrupt("return",_f("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return xb(this._delegate,function(e){return Xp.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return xb(this._delegate,lv(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return xb(this._delegate,function(e,t){return mv.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return xb(this._delegate,function(e,t,n){return lv(Al(e),Lp.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return xb(this._delegate,function(e,t,n){return Nv.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return _b(this._delegate,function(e,t,n){return Qg.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tb(ob(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",xb(this._delegate,ly(this._delegate,t,mb)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Tb(ob(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,pb(this._delegate);case 3:return e.abrupt("return",Iy(this._delegate,t,mb));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Av.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Cb(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Ib.getOrCreate(e))},error:t,complete:n}}function Pb(e,t){var n=function(e,t){var n=gb();if(!n)return[];var r=_d(fb,e,t);switch(n.getItem(r)){case lb.NONE:return[xd];case lb.LOCAL:return[Og,cg];case lb.SESSION:return[cg];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Og)||n.push(Og),"undefined"!==typeof window)for(var r=0,i=[sg,cg];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(xd)||n.push(xd),n}Ab.Persistence=lb;var Db=function(){function e(){Xt(this,e),this.providerId="phone",this._delegate=new ty(bb(af.auth()))}return Jt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return ty.credential(e,t)}}]),e}();Db.PHONE_SIGN_IN_METHOD=ty.PHONE_SIGN_IN_METHOD,Db.PROVIDER_ID=ty.PROVIDER_ID;var Nb,Ob=Af,Rb=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:af.app();Xt(this,e),Ob(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Hg(t,n,i.auth()),this.type=this._delegate.type}return Jt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Nb=af).INTERNAL.registerComponent(new Nl("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ab(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:lf,PASSWORD_RESET:hf,RECOVER_EMAIL:ff,REVERT_SECOND_FACTOR_ADDITION:df,VERIFY_AND_CHANGE_EMAIL:pf,VERIFY_EMAIL:vf}},EmailAuthProvider:Lp,FacebookAuthProvider:Up,GithubAuthProvider:Bp,GoogleAuthProvider:zp,OAuthProvider:jp,SAMLAuthProvider:Wp,PhoneAuthProvider:Db,PhoneMultiFactorGenerator:bm,RecaptchaVerifier:Rb,TwitterAuthProvider:Hp,Auth:Ab,AuthCredential:tp,Error:vl}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Nb.registerVersion("@firebase/auth-compat","0.4.1");var Mb,Lb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fb={},Vb=Vb||{},jb=Lb||self;function Ub(){}function zb(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Bb(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qb="closure_uid_"+(1e9*Math.random()>>>0),Wb=0;function Hb(e,t,n){return e.call.apply(e.bind,arguments)}function Kb(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gb(e,t,n){return(Gb=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hb:Kb).apply(null,arguments)}function Qb(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Yb(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Xb(){this.s=this.s,this.o=this.o}Xb.prototype.s=!1,Xb.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,qb)&&e[qb]||(e[qb]=++Wb)}(this)},Xb.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $b=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Jb(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zb(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(zb(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function ek(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ek.prototype.h=function(){this.defaultPrevented=!0};var tk=function(){if(!jb.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jb.addEventListener("test",Ub,t),jb.removeEventListener("test",Ub,t)}catch(O){}return e}();function nk(e){return/^[\s\xa0]*$/.test(e)}var rk=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ik(e,t){return e<t?-1:e>t?1:0}function ak(){var e=jb.navigator;return e&&(e=e.userAgent)?e:""}function ok(e){return-1!=ak().indexOf(e)}function sk(e){return sk[" "](e),e}function uk(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}sk[" "]=Ub;var ck,lk=ok("Opera"),hk=ok("Trident")||ok("MSIE"),fk=ok("Edge"),dk=fk||hk,pk=ok("Gecko")&&!(-1!=ak().toLowerCase().indexOf("webkit")&&!ok("Edge"))&&!(ok("Trident")||ok("MSIE"))&&!ok("Edge"),vk=-1!=ak().toLowerCase().indexOf("webkit")&&!ok("Edge");function gk(){var e=jb.document;return e?e.documentMode:void 0}e:{var yk="",mk=function(){var e=ak();return pk?/rv:([^\);]+)(\)|;)/.exec(e):fk?/Edge\/([\d\.]+)/.exec(e):hk?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vk?/WebKit\/(\S+)/.exec(e):lk?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(mk&&(yk=mk?mk[1]:""),hk){var bk=gk();if(null!=bk&&bk>parseFloat(yk)){ck=String(bk);break e}}ck=yk}var kk,wk={};if(jb.document&&hk){var xk=gk();kk=xk||(parseInt(ck,10)||void 0)}else kk=void 0;var _k=kk;function Sk(e,t){if(ek.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pk){e:{try{sk(t.nodeName);var i=!0;break e}catch(N){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ek[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sk.$.h.call(this)}}Yb(Sk,ek);var Ek={2:"touch",3:"pen",4:"mouse"};Sk.prototype.h=function(){Sk.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ik="closure_listenable_"+(1e6*Math.random()|0),Tk=0;function Ak(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Tk,this.fa=this.ia=!1}function Ck(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Pk(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Dk(e){var t={};for(var n in e)t[n]=e[n];return t}var Nk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ok(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Nk.length;a++)n=Nk[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Rk(e){this.src=e,this.g={},this.h=0}function Mk(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=$b(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Ck(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Lk(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Rk.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Lk(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Ak(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Fk="closure_lm_"+(1e6*Math.random()|0),Vk={};function jk(e,t,n,r,i){if(r&&r.once)return zk(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)jk(e,t[a],n,r,i);return null}return n=Qk(n),e&&e[Ik]?e.O(t,n,Bb(r)?!!r.capture:!!r,i):Uk(e,t,n,!1,r,i)}function Uk(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Bb(i)?!!i.capture:!!i,s=Kk(e);if(s||(e[Fk]=s=new Rk(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Hk;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tk||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wk(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function zk(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)zk(e,t[a],n,r,i);return null}return n=Qk(n),e&&e[Ik]?e.P(t,n,Bb(r)?!!r.capture:!!r,i):Uk(e,t,n,!0,r,i)}function Bk(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Bk(e,t[a],n,r,i);else r=Bb(r)?!!r.capture:!!r,n=Qk(n),e&&e[Ik]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Lk(a=e.g[t],n,r,i))&&(Ck(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Kk(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lk(t,n,r,i)),(n=-1<e?t[e]:null)&&qk(n))}function qk(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ik])Mk(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wk(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Kk(t))?(Mk(n,e),0==n.h&&(n.src=null,t[Fk]=null)):Ck(e)}}}function Wk(e){return e in Vk?Vk[e]:Vk[e]="on"+e}function Hk(e,t){if(e.fa)e=!0;else{t=new Sk(t,this);var n=e.listener,r=e.la||e.src;e.ia&&qk(e),e=n.call(r,t)}return e}function Kk(e){return(e=e[Fk])instanceof Rk?e:null}var Gk="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qk(e){return"function"===typeof e?e:(e[Gk]||(e[Gk]=function(t){return e.handleEvent(t)}),e[Gk])}function Yk(){Xb.call(this),this.i=new Rk(this),this.S=this,this.J=null}function Xk(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new ek(t,e);else if(t instanceof ek)t.target=t.target||e;else{var i=t;Ok(t=new ek(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=$k(o,r,!0,t)&&i}if(i=$k(o=t.g=e,r,!0,t)&&i,i=$k(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=$k(o=t.g=n[a],r,!1,t)&&i}function $k(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Mk(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Yb(Yk,Xb),Yk.prototype[Ik]=!0,Yk.prototype.removeEventListener=function(e,t,n,r){Bk(this,e,t,n,r)},Yk.prototype.N=function(){if(Yk.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ck(n[r]);delete t.g[e],t.h--}}this.J=null},Yk.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Yk.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Jk=jb.JSON.stringify;function Zk(){var e=sw,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ew,tw=function(){function e(){Xt(this,e),this.h=this.g=null}return Jt(e,[{key:"add",value:function(e,t){var n=nw.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),nw=new(function(){function e(t,n){Xt(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Jt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new rw}),(function(e){return e.reset()})),rw=function(){function e(){Xt(this,e),this.next=this.g=this.h=null}return Jt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function iw(e){jb.setTimeout((function(){throw e}),0)}function aw(e,t){ew||function(){var e=jb.Promise.resolve(void 0);ew=function(){e.then(uw)}}(),ow||(ew(),ow=!0),sw.add(e,t)}var ow=!1,sw=new tw;function uw(){for(var e;e=Zk();){try{e.h.call(e.g)}catch(O){iw(O)}var t=nw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ow=!1}function cw(e,t){Yk.call(this),this.h=e||1,this.g=t||jb,this.j=Gb(this.qb,this),this.l=Date.now()}function lw(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function hw(e,t,n){if("function"===typeof e)n&&(e=Gb(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gb(e.handleEvent,e)}return 2147483647<Number(t)?-1:jb.setTimeout(e,t||0)}function fw(e){e.g=hw((function(){e.g=null,e.i&&(e.i=!1,fw(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Yb(cw,Yk),(Mb=cw.prototype).ga=!1,Mb.T=null,Mb.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xk(this,"tick"),this.ga&&(lw(this),this.start()))}},Mb.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Mb.N=function(){cw.$.N.call(this),lw(this),delete this.g};var dw=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Jt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:fw(this)}},{key:"N",value:function(){Ft(Lt(n.prototype),"N",this).call(this),this.g&&(jb.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Xb);function pw(e){Xb.call(this),this.h=e,this.g={}}Yb(pw,Xb);var vw=[];function gw(e,t,n,r){Array.isArray(n)||(n&&(vw[0]=n.toString()),n=vw);for(var i=0;i<n.length;i++){var a=jk(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function yw(e){Pk(e.g,(function(e,t){this.g.hasOwnProperty(t)&&qk(e)}),e),e.g={}}function mw(){this.g=!0}function bw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Jk(n)}catch(B){return t}}(e,n)+(r?" "+r:"")}))}pw.prototype.N=function(){pw.$.N.call(this),yw(this)},pw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mw.prototype.Ea=function(){this.g=!1},mw.prototype.info=function(){};var kw={},ww=null;function xw(){return ww=ww||new Yk}function _w(e){ek.call(this,kw.Ta,e)}function Sw(e){var t=xw();Xk(t,new _w(t))}function Ew(e,t){ek.call(this,kw.STAT_EVENT,e),this.stat=t}function Iw(e){var t=xw();Xk(t,new Ew(t,e))}function Tw(e,t){ek.call(this,kw.Ua,e),this.size=t}function Aw(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jb.setTimeout((function(){e()}),t)}kw.Ta="serverreachability",Yb(_w,ek),kw.STAT_EVENT="statevent",Yb(Ew,ek),kw.Ua="timingevent",Yb(Tw,ek);var Cw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Dw(){}function Nw(e){return e.h||(e.h=e.i())}function Ow(){}Dw.prototype.h=null;var Rw,Mw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Lw(){ek.call(this,"d")}function Fw(){ek.call(this,"c")}function Vw(){}function jw(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new pw(this),this.P=zw,e=dk?125:void 0,this.V=new cw(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Uw}function Uw(){this.i=null,this.g="",this.h=!1}Yb(Lw,ek),Yb(Fw,ek),Yb(Vw,Dw),Vw.prototype.g=function(){return new XMLHttpRequest},Vw.prototype.i=function(){return{}},Rw=new Vw;var zw=45e3,Bw={},qw={};function Ww(e,t,n){e.L=1,e.v=cx(ix(t)),e.s=n,e.S=!0,Hw(e,null)}function Hw(e,t){e.G=Date.now(),Yw(e),e.A=ix(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),xx(n.i,"t",r),e.C=0,n=e.l.I,e.h=new Uw,e.g=x_(e.l,n?t:null,!e.s),0<e.O&&(e.M=new dw(Gb(e.Pa,e,e.g),e.O)),gw(e.U,e.g,"readystatechange",e.nb),t=e.I?Dk(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Sw(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Kw(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Gw(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Qw(e,n))==qw){4==t&&(e.o=4,Iw(14),i=!1),bw(e.j,e.m,null,"[Incomplete Response]");break}if(r==Bw){e.o=4,Iw(15),bw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}bw(e.j,e.m,r,null),ex(e,r)}Kw(e)&&r!=qw&&r!=Bw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Iw(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),p_(t),t.L=!0,Iw(11))):(bw(e.j,e.m,n,"[Invalid Chunked Response]"),Zw(e),Jw(e))}function Qw(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qw:(n=Number(t.substring(n,r)),isNaN(n)?Bw:(r+=1)+n>t.length?qw:(t=t.substr(r,n),e.C=r+n,t))}function Yw(e){e.Y=Date.now()+e.P,Xw(e,e.P)}function Xw(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Aw(Gb(e.lb,e),t)}function $w(e){e.B&&(jb.clearTimeout(e.B),e.B=null)}function Jw(e){0==e.l.H||e.J||y_(e.l,e)}function Zw(e){$w(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,lw(e.V),yw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function ex(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Cx(n.h,e)))if(!e.K&&Cx(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;g_(n),o_(n)}d_(n),Iw(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Aw(Gb(n.ib,n),6e3));if(1>=Ax(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else b_(n,11)}else if((e.K||n.g==e)&&g_(n),!nk(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.h;h.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(h.j=h.l,h.g=new Set,h.h&&(Px(h,h.h),h.h=null))}if(r.F){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.Da=f,ux(r.G,r.F,f))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=w_(r,r.I?r.oa:null,r.Y),d.K){Dx(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&($w(p),Yw(p)),r.g=d}else f_(r);0<n.i.length&&u_(n)}else"stop"!=a[0]&&"close"!=a[0]||b_(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?b_(n,7):a_(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}Sw()}catch(a){}}function tx(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zb(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zb(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Mb=jw.prototype).setTimeout=function(e){this.P=e},Mb.nb=function(e){e=e.target;var t=this.M;t&&3==Zx(e)?t.l():this.Pa(e)},Mb.Pa=function(e){try{if(e==this.g)e:{var t=Zx(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||dk||this.g&&(this.h.h||this.g.ja()||e_(this.g)))){this.J||4!=t||7==n||Sw(),$w(this);var r=this.g.da();this.aa=r;t:if(Kw(this)){var i=e_(this.g);e="";var a=i.length,o=4==Zx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Zw(this),Jw(this);var s="";break t}this.h.i=new jb.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nk(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Iw(12),Zw(this),Jw(this);break e}bw(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ex(this,r)}this.S?(Gw(this,t,s),dk&&this.i&&3==t&&(gw(this.U,this.V,"tick",this.mb),this.V.start())):(bw(this.j,this.m,s,null),ex(this,s)),4==t&&Zw(this),this.i&&!this.J&&(4==t?y_(this.l,this):(this.i=!1,Yw(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Iw(12)):(this.o=0,Iw(13)),Zw(this),Jw(this)}}}catch(t){}},Mb.mb=function(){if(this.g){var e=Zx(this.g),t=this.g.ja();this.C<t.length&&($w(this),Gw(this,e,t),this.i&&4!=e&&Yw(this))}},Mb.cancel=function(){this.J=!0,Zw(this)},Mb.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Sw(),Iw(17)),Zw(this),this.o=2,Jw(this)):Xw(this,this.Y-e)};var nx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rx(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof rx){this.h=void 0!==t?t:e.h,ax(this,e.j),this.s=e.s,this.g=e.g,ox(this,e.m),this.l=e.l,t=e.i;var n=new mx;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sx(this,n),this.o=e.o}else e&&(n=String(e).match(nx))?(this.h=!!t,ax(this,n[1]||"",!0),this.s=lx(n[2]||""),this.g=lx(n[3]||"",!0),ox(this,n[4]),this.l=lx(n[5]||"",!0),sx(this,n[6]||"",!0),this.o=lx(n[7]||"")):(this.h=!!t,this.i=new mx(null,this.h))}function ix(e){return new rx(e)}function ax(e,t,n){e.j=n?lx(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ox(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sx(e,t,n){t instanceof mx?(e.i=t,function(e,t){t&&!e.j&&(bx(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(kx(this,t),xx(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=hx(t,gx)),e.i=new mx(t,e.h))}function ux(e,t,n){e.i.set(t,n)}function cx(e){return ux(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function lx(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hx(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,fx),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function fx(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rx.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hx(t,dx,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hx(t,dx,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(hx(n,"/"==n.charAt(0)?vx:px,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hx(n,yx)),e.join("")};var dx=/[#\/\?@]/g,px=/[#\?:]/g,vx=/[#\?]/g,gx=/[#\?@]/g,yx=/#/g;function mx(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bx(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function kx(e,t){bx(e),t=_x(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wx(e,t){return bx(e),t=_x(e,t),e.g.has(t)}function xx(e,t,n){kx(e,t),0<n.length&&(e.i=null,e.g.set(_x(e,t),Jb(n)),e.h+=n.length)}function _x(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Mb=mx.prototype).add=function(e,t){bx(this),this.i=null,e=_x(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Mb.forEach=function(e,t){bx(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Mb.sa=function(){bx(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Mb.Z=function(e){bx(this);var t=[];if("string"===typeof e)wx(this,e)&&(t=t.concat(this.g.get(_x(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Mb.set=function(e,t){return bx(this),this.i=null,wx(this,e=_x(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Mb.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Mb.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Sx=Jt((function e(t,n){Xt(this,e),this.h=t,this.g=n}));function Ex(e){this.l=e||Ix,jb.PerformanceNavigationTiming?e=0<(e=jb.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jb.g&&jb.g.Ka&&jb.g.Ka()&&jb.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ix=10;function Tx(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ax(e){return e.h?1:e.g?e.g.size:0}function Cx(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Px(e,t){e.g?e.g.add(t):e.h=t}function Dx(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nx(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Gt(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Jb(e.i)}function Ox(){}function Rx(){this.g=new Ox}function Mx(e,t,n){var r=n||"";try{tx(e,(function(e,n){var i=e;Bb(e)&&(i=Jk(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Lx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(N){}}function Fx(e){this.l=e.fc||null,this.j=e.ob||!1}function Vx(e,t){Yk.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=jx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ex.prototype.cancel=function(){if(this.i=Nx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Gt(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Ox.prototype.stringify=function(e){return jb.JSON.stringify(e,void 0)},Ox.prototype.parse=function(e){return jb.JSON.parse(e,void 0)},Yb(Fx,Dw),Fx.prototype.g=function(){return new Vx(this.l,this.j)},Fx.prototype.i=function(e){return function(){return e}}({}),Yb(Vx,Yk);var jx=0;function Ux(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function zx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Bx(e)}function Bx(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Mb=Vx.prototype).open=function(e,t){if(this.readyState!=jx)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Bx(this)},Mb.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||jb).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Mb.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zx(this)),this.readyState=jx},Mb.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Bx(this)),this.g&&(this.readyState=3,Bx(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof jb.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ux(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Mb.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zx(this):Bx(this),3==this.readyState&&Ux(this)}},Mb.Za=function(e){this.g&&(this.response=this.responseText=e,zx(this))},Mb.Ya=function(e){this.g&&(this.response=e,zx(this))},Mb.ka=function(){this.g&&zx(this)},Mb.setRequestHeader=function(e,t){this.v.append(e,t)},Mb.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Mb.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vx.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var qx=jb.JSON.parse;function Wx(e){Yk.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hx,this.L=this.M=!1}Yb(Wx,Yk);var Hx="",Kx=/^https?$/i,Gx=["POST","PUT"];function Qx(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Yx(e),$x(e)}function Yx(e){e.F||(e.F=!0,Xk(e,"complete"),Xk(e,"error"))}function Xx(e){if(e.h&&"undefined"!=typeof Vb&&(!e.C[1]||4!=Zx(e)||2!=e.da()))if(e.v&&4==Zx(e))hw(e.La,0,e);else if(Xk(e,"readystatechange"),4==Zx(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(nx)[1]||null;if(!a&&jb.self&&jb.self.location){var o=jb.self.location.protocol;a=o.substr(0,o.length-1)}i=!Kx.test(a?a.toLowerCase():"")}t=i}if(t)Xk(e,"complete"),Xk(e,"success");else{e.m=6;try{var s=2<Zx(e)?e.g.statusText:""}catch(T){s=""}e.j=s+" ["+e.da()+"]",Yx(e)}}finally{$x(e)}}}function $x(e,t){if(e.g){Jx(e);var n=e.g,r=e.C[0]?Ub:null;e.g=null,e.C=null,t||Xk(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Jx(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(jb.clearTimeout(e.A),e.A=null)}function Zx(e){return e.g?e.g.readyState:0}function e_(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Hx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(z){return null}}function t_(e){var t="";return Pk(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function n_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=t_(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ux(e,t,n))}function r_(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function i_(e){this.Ga=0,this.i=[],this.j=new mw,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=r_("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=r_("baseRetryDelayMs",5e3,e),this.hb=r_("retryDelaySeedMs",1e4,e),this.eb=r_("forwardChannelMaxRetries",2,e),this.xa=r_("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Ex(e&&e.concurrentRequestLimit),this.Ja=new Rx,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function a_(e){if(s_(e),3==e.H){var t=e.W++,n=ix(e.G);ux(n,"SID",e.J),ux(n,"RID",t),ux(n,"TYPE","terminate"),l_(e,n),(t=new jw(e,e.j,t,void 0)).L=2,t.v=cx(ix(n)),n=!1,jb.navigator&&jb.navigator.sendBeacon&&(n=jb.navigator.sendBeacon(t.v.toString(),"")),!n&&jb.Image&&((new Image).src=t.v,n=!0),n||(t.g=x_(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Yw(t)}k_(e)}function o_(e){e.g&&(p_(e),e.g.cancel(),e.g=null)}function s_(e){o_(e),e.u&&(jb.clearTimeout(e.u),e.u=null),g_(e),e.h.cancel(),e.m&&("number"===typeof e.m&&jb.clearTimeout(e.m),e.m=null)}function u_(e){Tx(e.h)||e.m||(e.m=!0,aw(e.Na,e),e.C=0)}function c_(e,t){var n;n=t?t.m:e.W++;var r=ix(e.G);ux(r,"SID",e.J),ux(r,"RID",n),ux(r,"AID",e.V),l_(e,r),e.o&&e.s&&n_(r,e.o,e.s),n=new jw(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=h_(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Px(e.h,n),Ww(n,r,t)}function l_(e,t){e.ma&&Pk(e.ma,(function(e,n){ux(t,n,e)})),e.l&&tx({},(function(e,n){ux(t,n,e)}))}function h_(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Gb(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Mx(l,o,"req"+c+"_")}catch(pe){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function f_(e){e.g||e.u||(e.ba=1,aw(e.Ma,e),e.A=0)}function d_(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Aw(Gb(e.Ma,e),m_(e,e.A)),e.A++,!0)}function p_(e){null!=e.B&&(jb.clearTimeout(e.B),e.B=null)}function v_(e){e.g=new jw(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=ix(e.wa);ux(t,"RID","rpc"),ux(t,"SID",e.J),ux(t,"CI",e.M?"0":"1"),ux(t,"AID",e.V),ux(t,"TYPE","xmlhttp"),l_(e,t),e.o&&e.s&&n_(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=cx(ix(t)),n.s=null,n.S=!0,Hw(n,e)}function g_(e){null!=e.v&&(jb.clearTimeout(e.v),e.v=null)}function y_(e,t){var n=null;if(e.g==t){g_(e),p_(e),e.g=null;var r=2}else{if(!Cx(e.h,t))return;n=t.F,Dx(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Xk(r=xw(),new Tw(r,n)),u_(e)}else f_(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(Ax(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Aw(Gb(e.Na,e,t),m_(e,e.C)),e.C++,!0))}(e,t)||2==r&&d_(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:b_(e,5);break;case 4:b_(e,10);break;case 3:b_(e,6);break;default:b_(e,2)}}function m_(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function b_(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Gb(e.pb,e);n||(n=new rx("//www.google.com/images/cleardot.gif"),jb.location&&"http"==jb.location.protocol||ax(n,"https"),cx(n)),function(e,t){var n=new mw;if(jb.Image){var r=new Image;r.onload=Qb(Lx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Qb(Lx,n,r,"TestLoadImage: error",!1,t),r.onabort=Qb(Lx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Qb(Lx,n,r,"TestLoadImage: timeout",!1,t),jb.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Iw(2);e.H=0,e.l&&e.l.za(t),k_(e),s_(e)}function k_(e){if(e.H=0,e.pa=[],e.l){var t=Nx(e.h);0==t.length&&0==e.i.length||(Zb(e.pa,t),Zb(e.pa,e.i),e.h.i.length=0,Jb(e.i),e.i.length=0),e.l.ya()}}function w_(e,t,n){var r=n instanceof rx?ix(n):new rx(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),ox(r,r.m);else{var i=jb.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new rx(null,void 0);r&&ax(a,r),t&&(a.g=t),i&&ox(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&ux(r,n,t),ux(r,"VER",e.qa),l_(e,r),r}function x_(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Wx(new Fx({ob:!0})):new Wx(e.va)).Oa(e.I),t}function __(){}function S_(){if(hk&&!(10<=Number(_k)))throw Error("Environmental error: no available transport.")}function E_(e,t){Yk.call(this),this.g=new i_(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!nk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nk(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new A_(this)}function I_(e){Lw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function T_(){Fw.call(this),this.status=1}function A_(e){this.g=e}function C_(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function P_(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function D_(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Mb=Wx.prototype).Oa=function(e){this.M=e},Mb.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rw.g(),this.C=this.u?Nw(this.u):Nw(Rw),this.g.onreadystatechange=Gb(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Qx(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Gt(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=jb.FormData&&e instanceof jb.FormData,!(0<=$b(Gx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=Gt(n);try{for(c.s();!(u=c.n()).done;){var l=Kt(u.value,2),h=l[0],f=l[1];this.g.setRequestHeader(h,f)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jx(this),0<this.B&&((this.L=function(e){return hk&&uk(wk,9,(function(){for(var e=0,t=rk(String(ck)).split("."),n=rk("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ik(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ik(0==a[2].length,0==o[2].length)||ik(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gb(this.ua,this)):this.A=hw(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Qx(this,s)}},Mb.ua=function(){"undefined"!=typeof Vb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xk(this,"timeout"),this.abort(8))},Mb.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xk(this,"complete"),Xk(this,"abort"),$x(this))},Mb.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$x(this,!0)),Wx.$.N.call(this)},Mb.La=function(){this.s||(this.G||this.v||this.l?Xx(this):this.kb())},Mb.kb=function(){Xx(this)},Mb.da=function(){try{return 2<Zx(this)?this.g.status:-1}catch(D){return-1}},Mb.ja=function(){try{return this.g?this.g.responseText:""}catch(D){return""}},Mb.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qx(t)}},Mb.Ia=function(){return this.m},Mb.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Mb=i_.prototype).qa=8,Mb.H=1,Mb.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new jw(this,this.j,e,void 0),n=this.s;if(this.U&&(n?Ok(n=Dk(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=h_(this,t,r),ux(i=ix(this.G),"RID",e),ux(i,"CVER",22),this.F&&ux(i,"X-HTTP-Session-Id",this.F),l_(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(t_(n)))+"&"+r:this.o&&n_(i,this.o,n)),Px(this.h,t),this.bb&&ux(i,"TYPE","init"),this.P?(ux(i,"$req",r),ux(i,"SID","null"),t.ba=!0,Ww(t,i,null)):Ww(t,i,r),this.H=2}}else 3==this.H&&(e?c_(this,e):0==this.i.length||Tx(this.h)||c_(this))},Mb.Ma=function(){if(this.u=null,v_(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Aw(Gb(this.jb,this),e)}},Mb.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Iw(10),o_(this),v_(this))},Mb.ib=function(){null!=this.v&&(this.v=null,o_(this),d_(this),Iw(19))},Mb.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Iw(2)):(this.j.info("Failed to ping google.com"),Iw(1))},(Mb=__.prototype).Ba=function(){},Mb.Aa=function(){},Mb.za=function(){},Mb.ya=function(){},Mb.Va=function(){},S_.prototype.g=function(e,t){return new E_(e,t)},Yb(E_,Yk),E_.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Iw(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=w_(e,null,e.Y),u_(e)},E_.prototype.close=function(){a_(this.g)},E_.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Jk(e),e=n);t.i.push(new Sx(t.fb++,e)),3==t.H&&u_(t)},E_.prototype.N=function(){this.g.l=null,delete this.j,a_(this.g),delete this.g,E_.$.N.call(this)},Yb(I_,Lw),Yb(T_,Fw),Yb(A_,__),A_.prototype.Ba=function(){Xk(this.g,"a")},A_.prototype.Aa=function(e){Xk(this.g,new I_(e))},A_.prototype.za=function(e){Xk(this.g,new T_)},A_.prototype.ya=function(){Xk(this.g,"b")},Yb(C_,(function(){this.blockSize=-1})),C_.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},C_.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)P_(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){P_(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){P_(this,r),i=0;break}}this.h=i,this.i+=t},C_.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var N_={};function O_(e){return-128<=e&&128>e?uk(N_,e,(function(e){return new D_([0|e],0>e?-1:0)})):new D_([0|e],0>e?-1:0)}function R_(e){if(isNaN(e)||!isFinite(e))return L_;if(0>e)return z_(R_(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=M_;return new D_(t,0)}var M_=4294967296,L_=O_(0),F_=O_(1),V_=O_(16777216);function j_(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function U_(e){return-1==e.h}function z_(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new D_(n,~e.h).add(F_)}function B_(e,t){return e.add(z_(t))}function q_(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function W_(e,t){this.g=e,this.h=t}function H_(e,t){if(j_(t))throw Error("division by zero");if(j_(e))return new W_(L_,L_);if(U_(e))return t=H_(z_(e),t),new W_(z_(t.g),z_(t.h));if(U_(t))return t=H_(e,z_(t)),new W_(z_(t.g),t.h);if(30<e.g.length){if(U_(e)||U_(t))throw Error("slowDivide_ only works with positive integers.");for(var n=F_,r=t;0>=r.X(e);)n=K_(n),r=K_(r);var i=G_(n,1),a=G_(r,1);for(r=G_(r,2),n=G_(n,2);!j_(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=G_(r,1),n=G_(n,1)}return t=B_(e,i.R(t)),new W_(i,t)}for(i=L_;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=R_(n)).R(t);U_(o)||0<o.X(e);)o=(a=R_(n-=r)).R(t);j_(a)&&(a=F_),i=i.add(a),e=B_(e,o)}return new W_(i,e)}function K_(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new D_(n,e.h)}function G_(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new D_(i,e.h)}(Mb=D_.prototype).ea=function(){if(U_(this))return-z_(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:M_+r)*t,t*=M_}return e},Mb.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(j_(this))return"0";if(U_(this))return"-"+z_(this).toString(e);for(var t=R_(Math.pow(e,6)),n=this,r="";;){var i=H_(n,t).g,a=((0<(n=B_(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(j_(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Mb.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Mb.X=function(e){return U_(e=B_(this,e))?-1:j_(e)?0:1},Mb.abs=function(){return U_(this)?z_(this):this},Mb.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new D_(n,-2147483648&n[n.length-1]?-1:0)},Mb.R=function(e){if(j_(this)||j_(e))return L_;if(U_(this))return U_(e)?z_(this).R(z_(e)):z_(z_(this).R(e));if(U_(e))return z_(this.R(z_(e)));if(0>this.X(V_)&&0>e.X(V_))return R_(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,q_(n,2*r+2*i),n[2*r+2*i+1]+=a*u,q_(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,q_(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,q_(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new D_(n,0)},Mb.gb=function(e){return H_(this,e).h},Mb.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new D_(n,this.h&e.h)},Mb.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new D_(n,this.h|e.h)},Mb.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new D_(n,this.h^e.h)},S_.prototype.createWebChannel=S_.prototype.g,E_.prototype.send=E_.prototype.u,E_.prototype.open=E_.prototype.m,E_.prototype.close=E_.prototype.close,Cw.NO_ERROR=0,Cw.TIMEOUT=8,Cw.HTTP_ERROR=6,Pw.COMPLETE="complete",Ow.EventType=Mw,Mw.OPEN="a",Mw.CLOSE="b",Mw.ERROR="c",Mw.MESSAGE="d",Yk.prototype.listen=Yk.prototype.O,Wx.prototype.listenOnce=Wx.prototype.P,Wx.prototype.getLastError=Wx.prototype.Sa,Wx.prototype.getLastErrorCode=Wx.prototype.Ia,Wx.prototype.getStatus=Wx.prototype.da,Wx.prototype.getResponseJson=Wx.prototype.Wa,Wx.prototype.getResponseText=Wx.prototype.ja,Wx.prototype.send=Wx.prototype.ha,Wx.prototype.setWithCredentials=Wx.prototype.Oa,C_.prototype.digest=C_.prototype.l,C_.prototype.reset=C_.prototype.reset,C_.prototype.update=C_.prototype.j,D_.prototype.add=D_.prototype.add,D_.prototype.multiply=D_.prototype.R,D_.prototype.modulo=D_.prototype.gb,D_.prototype.compare=D_.prototype.X,D_.prototype.toNumber=D_.prototype.ea,D_.prototype.toString=D_.prototype.toString,D_.prototype.getBits=D_.prototype.D,D_.fromNumber=R_,D_.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return z_(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=R_(Math.pow(n,8)),i=L_,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=R_(Math.pow(n,o)),i=i.R(o).add(R_(s))):i=(i=i.R(r)).add(R_(s))}return i};var Q_=Fb.createWebChannelTransport=function(){return new S_},Y_=Fb.getStatEventTarget=function(){return xw()},X_=Fb.ErrorCode=Cw,$_=Fb.EventType=Pw,J_=Fb.Event=kw,Z_=Fb.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eS=Fb.FetchXmlHttpFactory=Fx,tS=Fb.WebChannel=Ow,nS=Fb.XhrIo=Wx,rS=Fb.Md5=C_,iS=Fb.Integer=D_,aS="@firebase/firestore",oS=function(){function e(t){Xt(this,e),this.uid=t}return Jt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();oS.UNAUTHENTICATED=new oS(null),oS.GOOGLE_CREDENTIALS=new oS("google-credentials-uid"),oS.FIRST_PARTY=new oS("first-party-uid"),oS.MOCK_USER=new oS("mock-user");var sS="9.21.0",uS=new ql("@firebase/firestore");function cS(){return uS.logLevel}function lS(e){if(uS.logLevel<=Ll.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dS);uS.debug.apply(uS,["Firestore (".concat(sS,"): ").concat(e)].concat(Yt(i)))}}function hS(e){if(uS.logLevel<=Ll.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dS);uS.error.apply(uS,["Firestore (".concat(sS,"): ").concat(e)].concat(Yt(i)))}}function fS(e){if(uS.logLevel<=Ll.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(dS);uS.warn.apply(uS,["Firestore (".concat(sS,"): ").concat(e)].concat(Yt(i)))}}function dS(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function pS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(sS,") INTERNAL ASSERTION FAILED: ")+e;throw hS(t),new Error(t)}function vS(e,t){e||pS()}function gS(e,t){return e}var yS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},mS=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Jt(n)}(vl),bS=Jt((function e(){var t=this;Xt(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),kS=Jt((function e(t,n){Xt(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),wS=function(){function e(){Xt(this,e)}return Jt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(oS.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),xS=function(){function e(t){Xt(this,e),this.token=t,this.changeListener=null}return Jt(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),_S=function(){function e(t){Xt(this,e),this.t=t,this.currentUser=oS.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Jt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new bS;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new bS,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){lS("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(lS("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new bS)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(lS("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(vS("string"==typeof n.accessToken),new kS(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return vS(null===e||"string"==typeof e),new oS(e)}}]),e}(),SS=function(){function e(t,n,r){Xt(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=oS.FIRST_PARTY,this.g=new Map}return Jt(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),ES=function(){function e(t,n,r){Xt(this,e),this.h=t,this.l=n,this.m=r}return Jt(e,[{key:"getToken",value:function(){return Promise.resolve(new SS(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(oS.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),IS=Jt((function e(t){Xt(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),TS=function(){function e(t){Xt(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return Jt(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&lS("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,lS("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){lS("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):lS("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(vS("string"==typeof t.token),e.T=t.token,new IS(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function AS(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var CS=function(){function e(){Xt(this,e)}return Jt(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=AS(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function PS(e,t){return e<t?-1:e>t?1:0}function DS(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function NS(e){return e+"\0"}var OS=function(){function e(t,n){if(Xt(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new mS(yS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new mS(yS.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new mS(yS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mS(yS.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Jt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?PS(this.nanoseconds,e.nanoseconds):PS(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),RS=function(){function e(t){Xt(this,e),this.timestamp=t}return Jt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new OS(0,0))}},{key:"max",value:function(){return new e(new OS(253402300799,999999999))}}]),e}(),MS=function(){function e(t,n,r){Xt(this,e),void 0===n?n=0:n>t.length&&pS(),void 0===r?r=t.length-n:r>t.length-n&&pS(),this.segments=t,this.offset=n,this.len=r}return Jt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),LS=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new mS(yS.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Yt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(MS),FS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,VS=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return FS.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new mS(yS.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new mS(yS.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new mS(yS.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new mS(yS.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(MS),jS=function(){function e(t){Xt(this,e),this.path=t}return Jt(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===LS.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(LS.fromString(t))}},{key:"fromName",value:function(t){return new e(LS.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(LS.emptyPath())}},{key:"comparator",value:function(e,t){return LS.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new LS(t.slice()))}}]),e}(),US=Jt((function e(t,n,r,i){Xt(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function zS(e){return e.fields.find((function(e){return 2===e.kind}))}function BS(e){return e.fields.filter((function(e){return 2!==e.kind}))}US.UNKNOWN_ID=-1;var qS=Jt((function e(t,n){Xt(this,e),this.fieldPath=t,this.kind=n}));var WS=function(){function e(t,n){Xt(this,e),this.sequenceNumber=t,this.offset=n}return Jt(e,null,[{key:"empty",value:function(){return new e(0,GS.min())}}]),e}();function HS(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=RS.fromTimestamp(1e9===r?new OS(n+1,0):new OS(n,r));return new GS(i,jS.empty(),t)}function KS(e){return new GS(e.readTime,e.key,-1)}var GS=function(){function e(t,n,r){Xt(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Jt(e,null,[{key:"min",value:function(){return new e(RS.min(),jS.empty(),-1)}},{key:"max",value:function(){return new e(RS.max(),jS.empty(),-1)}}]),e}();function QS(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=jS.comparator(e.documentKey,t.documentKey))?n:PS(e.largestBatchId,t.largestBatchId)}var YS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",XS=function(){function e(){Xt(this,e),this.onCommittedListeners=[]}return Jt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function $S(e){return JS.apply(this,arguments)}function JS(){return JS=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===yS.FAILED_PRECONDITION&&t.message===YS){e.next=2;break}throw t;case 2:lS("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}var ZS=function(){function e(t){var n=this;Xt(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Jt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&pS(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Gt(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),eE=function(){function e(t,n){var r=this;Xt(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new bS,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new rE(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=uE(e.target.error);r.R.reject(new rE(t,n))}}return Jt(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(lS("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new aE(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new rE(n,t)}}}]),e}(),tE=function(){function e(t,n,r){Xt(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(cl())&&hS("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Jt(e,[{key:"O",value:function(){var e=Dl(Cl().mark((function e(t){var n=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return lS("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new rE(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new mS(yS.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new mS(yS.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new rE(t,n))},i.onupgradeneeded=function(e){lS("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.$(t,i.transaction,e.oldVersion,n.version).next((function(){lS("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Dl(Cl().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Cl().mark((function e(){var n,s,u,l;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=eE.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),ZS.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,lS("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return lS("SimpleDb","Removing database:",e),oE(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!pl())return!1;if(e.C())return!0;var t=cl(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Board",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),nE=function(){function e(t){Xt(this,e),this.L=t,this.q=!1,this.U=null}return Jt(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return oE(this.L.delete())}}]),e}(),rE=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,yS.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Jt(n)}(mS);function iE(e){return"IndexedDbTransactionError"===e.name}var aE=function(){function e(t){Xt(this,e),this.store=t}return Jt(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(lS("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(lS("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),oE(n)}},{key:"add",value:function(e){return lS("SimpleDb","ADD",this.store.name,e,e),oE(this.store.add(e))}},{key:"get",value:function(e){var t=this;return oE(this.store.get(e)).next((function(n){return void 0===n&&(n=null),lS("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return lS("SimpleDb","DELETE",this.store.name,e),oE(this.store.delete(e))}},{key:"count",value:function(){return lS("SimpleDb","COUNT",this.store.name),oE(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ZS((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ZS((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){lS("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new ZS((function(n,r){t.onerror=function(e){var t=uE(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new ZS((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new nE(i),o=t(i.primaryKey,i.value,a);if(o instanceof ZS){var s=o.catch((function(e){return a.done(),ZS.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return ZS.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function oE(e){return new ZS((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=uE(e.target.error);n(t)}}))}var sE=!1;function uE(e){var t=tE.S(cl());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new mS("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sE||(sE=!0,setTimeout((function(){throw r}),0)),r}}return e}var cE=function(){function e(t,n){Xt(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return Jt(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;lS("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=lS,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!iE(e.t4)){e.next=17;break}lS("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,$S(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),lE=function(){function e(t,n){Xt(this,e),this.localStore=t,this.persistence=n}return Jt(e,[{key:"nt",value:function(){var e=Dl(Cl().mark((function e(){var t,n=this,r=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return ZS.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return lS("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return lS("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=KS(t);QS(r,n)>0&&(n=r)})),new GS(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),hE=function(){function e(t,n){var r=this;Xt(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return Jt(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function fE(e){return null==e}function dE(e){return 0===e&&1/e==-1/0}function pE(e){return"number"==typeof e&&Number.isInteger(e)&&!dE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function vE(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=yE(t)),t=gE(e.get(n),t);return yE(t)}function gE(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function yE(e){return e+"\x01\x01"}function mE(e){var t=e.length;if(vS(t>=2),2===t)return vS("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),LS.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&pS(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:pS()}a=o+2}return new LS(r)}hE.ct=-1;var bE=["userId","batchId"];function kE(e,t){return[e,vE(t)]}function wE(e,t,n){return[e,vE(t),n]}var xE={},_E=["prefixPath","collectionGroup","readTime","documentId"],SE=["prefixPath","collectionGroup","documentId"],EE=["collectionGroup","readTime","prefixPath","documentId"],IE=["canonicalId","targetId"],TE=["targetId","path"],AE=["path","targetId"],CE=["collectionId","parent"],PE=["indexId","uid"],DE=["uid","sequenceNumber"],NE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OE=["indexId","uid","orderedDocumentKey"],RE=["userId","collectionPath","documentId"],ME=["userId","collectionPath","largestBatchId"],LE=["userId","collectionGroup","largestBatchId"],FE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),VE=[].concat(Yt(FE),["documentOverlays"]),jE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],UE=jE,zE=[].concat(UE,["indexConfiguration","indexState","indexEntries"]),BE=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return Jt(n)}(XS);function qE(e,t){var n=gS(e);return tE.M(n.at,t)}function WE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function HE(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function KE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var GE=function(){function e(t,n){Xt(this,e),this.comparator=t,this.root=n||YE.EMPTY}return Jt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,YE.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,YE.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new QE(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new QE(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new QE(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new QE(this.root,e,this.comparator,!0)}}]),e}(),QE=function(){function e(t,n,r,i){Xt(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Jt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),YE=function(){function e(t,n,r,i,a){Xt(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Jt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw pS();if(this.right.isRed())throw pS();var e=this.left.check();if(e!==this.right.check())throw pS();return e+(this.isRed()?0:1)}}]),e}();YE.EMPTY=null,YE.RED=!0,YE.BLACK=!1,YE.EMPTY=new(function(){function e(){Xt(this,e),this.size=0}return Jt(e,[{key:"key",get:function(){throw pS()}},{key:"value",get:function(){throw pS()}},{key:"color",get:function(){throw pS()}},{key:"left",get:function(){throw pS()}},{key:"right",get:function(){throw pS()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new YE(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var XE=function(){function e(t){Xt(this,e),this.comparator=t,this.data=new GE(this.comparator)}return Jt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new $E(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new $E(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),$E=function(){function e(t){Xt(this,e),this.iter=t}return Jt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function JE(e){return e.hasNext()?e.getNext():void 0}var ZE=function(){function e(t){Xt(this,e),this.fields=t,t.sort(VS.comparator)}return Jt(e,[{key:"unionWith",value:function(t){var n,r=new XE(VS.comparator),i=Gt(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Gt(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Gt(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return DS(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),eI=function(e){jt(n,e);var t=zt(n);function n(){var e;return Xt(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Jt(n)}(Jc(Error));var tI=function(e){function t(e){Xt(this,t),this.binaryString=e}return Jt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return PS(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new eI("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();tI.EMPTY_BYTE_STRING=new tI("");var nI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rI(e){if(vS(!!e),"string"==typeof e){var t=0,n=nI.exec(e);if(vS(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:iI(e.seconds),nanos:iI(e.nanos)}}function iI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function aI(e){return"string"==typeof e?tI.fromBase64String(e):tI.fromUint8Array(e)}function oI(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sI(e){var t=e.mapValue.fields.__previous_value__;return oI(t)?sI(t):t}function uI(e){var t=rI(e.mapValue.fields.__local_write_time__.timestampValue);return new OS(t.seconds,t.nanos)}var cI=Jt((function e(t,n,r,i,a,o,s,u){Xt(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),lI=function(){function e(t,n){Xt(this,e),this.projectId=t,this.database=n||"(default)"}return Jt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),hI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fI={nullValue:"NULL_VALUE"};function dI(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oI(e)?4:TI(e)?9007199254740991:10:pS()}function pI(e,t){if(e===t)return!0;var n=dI(e);if(n!==dI(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return uI(e).isEqual(uI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rI(e.timestampValue),r=rI(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return aI(e.bytesValue).isEqual(aI(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return iI(e.geoPointValue.latitude)===iI(t.geoPointValue.latitude)&&iI(e.geoPointValue.longitude)===iI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return iI(e.integerValue)===iI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=iI(e.doubleValue),r=iI(t.doubleValue);return n===r?dE(n)===dE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return DS(e.arrayValue.values||[],t.arrayValue.values||[],pI);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(WE(n)!==WE(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pI(n[i],r[i])))return!1;return!0}(e,t);default:return pS()}}function vI(e,t){return void 0!==(e.values||[]).find((function(e){return pI(e,t)}))}function gI(e,t){if(e===t)return 0;var n=dI(e),r=dI(t);if(n!==r)return PS(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return PS(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=iI(e.integerValue||e.doubleValue),r=iI(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yI(e.timestampValue,t.timestampValue);case 4:return yI(uI(e),uI(t));case 5:return PS(e.stringValue,t.stringValue);case 6:return function(e,t){var n=aI(e),r=aI(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=PS(n[i],r[i]);if(0!==a)return a}return PS(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=PS(iI(e.latitude),iI(t.latitude));return 0!==n?n:PS(iI(e.longitude),iI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=gI(n[i],r[i]);if(a)return a}return PS(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===hI.mapValue&&t===hI.mapValue)return 0;if(e===hI.mapValue)return 1;if(t===hI.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=PS(r[o],a[o]);if(0!==s)return s;var u=gI(n[r[o]],i[a[o]]);if(0!==u)return u}return PS(r.length,a.length)}(e.mapValue,t.mapValue);default:throw pS()}}function yI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return PS(e,t);var n=rI(e),r=rI(t),i=PS(n.seconds,r.seconds);return 0!==i?i:PS(n.nanos,r.nanos)}function mI(e){return bI(e)}function bI(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=rI(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?aI(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,jS.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Gt(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=bI(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Gt(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(bI(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):pS();var t,n}function kI(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wI(e){return!!e&&"integerValue"in e}function xI(e){return!!e&&"arrayValue"in e}function _I(e){return!!e&&"nullValue"in e}function SI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function EI(e){return!!e&&"mapValue"in e}function II(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return HE(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=II(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=II(e.arrayValue.values[r]);return n}return Object.assign({},e)}function TI(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function AI(e){return"nullValue"in e?fI:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?kI(lI.empty(),jS.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:pS()}function CI(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?kI(lI.empty(),jS.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?hI:pS()}function PI(e,t){var n=gI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function DI(e,t){var n=gI(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var NI=function(){function e(t){Xt(this,e),this.value=t}return Jt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!EI(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=II(t)}},{key:"setAll",value:function(e){var t=this,n=VS.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=II(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());EI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return pI(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];EI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){HE(t,(function(t,n){return e[t]=n}));var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(II(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function OI(e){var t=[];return HE(e.fields,(function(e,n){var r=new VS([e]);if(EI(n)){var i=OI(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Gt(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new ZE(t)}var RI=function(){function e(t,n,r,i,a,o,s){Xt(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return Jt(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(RS.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=NI.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=NI.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=RS.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,RS.min(),RS.min(),RS.min(),NI.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,RS.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,RS.min(),RS.min(),NI.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,RS.min(),RS.min(),NI.empty(),2)}}]),e}(),MI=Jt((function e(t,n){Xt(this,e),this.position=t,this.inclusive=n}));function LI(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?jS.comparator(jS.fromName(o.referenceValue),n.key):gI(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function FI(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!pI(e.position[n],t.position[n]))return!1;return!0}var VI=Jt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Xt(this,e),this.field=t,this.dir=n}));function jI(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var UI=Jt((function e(){Xt(this,e)})),zI=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Jt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(gI(t,this.value)):null!==t&&dI(this.value)===dI(t)&&this.matchesComparison(gI(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pS()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new $I(e,t,r):"array-contains"===t?new tT(e,r):"in"===t?new nT(e,r):"not-in"===t?new rT(e,r):"array-contains-any"===t?new iT(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new JI(e,n):new ZI(e,n)}}]),n}(UI),BI=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return Jt(n,[{key:"matches",value:function(e){return qI(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Gt(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(UI);function qI(e){return"and"===e.op}function WI(e){return"or"===e.op}function HI(e){return KI(e)&&qI(e)}function KI(e){var t,n=Gt(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof BI)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function GI(e){if(e instanceof zI)return e.field.canonicalString()+e.op.toString()+mI(e.value);if(HI(e))return e.filters.map((function(e){return GI(e)})).join(",");var t=e.filters.map((function(e){return GI(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function QI(e,t){return e instanceof zI?function(e,t){return t instanceof zI&&e.op===t.op&&e.field.isEqual(t.field)&&pI(e.value,t.value)}(e,t):e instanceof BI?function(e,t){return t instanceof BI&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&QI(n,t.filters[r])}),!0)}(e,t):void pS()}function YI(e,t){var n=e.filters.concat(t);return BI.create(n,e.op)}function XI(e){return e instanceof zI?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(mI(e.value))}(e):e instanceof BI?function(e){return e.op.toString()+" {"+e.getFilters().map(XI).join(" ,")+"}"}(e):"Filter"}var $I=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this,e,r,i)).key=jS.fromName(i.referenceValue),a}return Jt(n,[{key:"matches",value:function(e){var t=jS.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(zI),JI=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e,"in",r)).keys=eT("in",r),i}return Jt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zI),ZI=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e,"not-in",r)).keys=eT("not-in",r),i}return Jt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zI);function eT(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return jS.fromName(e.referenceValue)}))}var tT=function(e){jt(n,e);var t=zt(n);function n(e,r){return Xt(this,n),t.call(this,e,"array-contains",r)}return Jt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return xI(t)&&vI(t.arrayValue,this.value)}}]),n}(zI),nT=function(e){jt(n,e);var t=zt(n);function n(e,r){return Xt(this,n),t.call(this,e,"in",r)}return Jt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&vI(this.value.arrayValue,t)}}]),n}(zI),rT=function(e){jt(n,e);var t=zt(n);function n(e,r){return Xt(this,n),t.call(this,e,"not-in",r)}return Jt(n,[{key:"matches",value:function(e){if(vI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vI(this.value.arrayValue,t)}}]),n}(zI),iT=function(e){jt(n,e);var t=zt(n);function n(e,r){return Xt(this,n),t.call(this,e,"array-contains-any",r)}return Jt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!xI(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vI(t.value.arrayValue,e)}))}}]),n}(zI),aT=Jt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Xt(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function oT(e){return new aT(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function sT(e){var t=gS(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return GI(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),fE(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return mI(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return mI(e)})).join(",")),t.ft=n}return t.ft}function uT(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jI(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!QI(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!FI(e.startAt,t.startAt)&&FI(e.endAt,t.endAt)}function cT(e){return jS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function lT(e,t){return e.filters.filter((function(e){return e instanceof zI&&e.field.isEqual(t)}))}function hT(e,t,n){var r,i=fI,a=!0,o=Gt(lT(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=fI,c=!0;switch(s.op){case"<":case"<=":u=AI(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=fI}PI({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];PI({value:i,inclusive:a},{value:h,inclusive:n.inclusive})<0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}function fT(e,t,n){var r,i=hI,a=!0,o=Gt(lT(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=hI,c=!0;switch(s.op){case">=":case">":u=CI(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=hI}DI({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(f){o.e(f)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var h=n.position[l];DI({value:i,inclusive:a},{value:h,inclusive:n.inclusive})>0&&(i=h,a=n.inclusive);break}return{value:i,inclusive:a}}var dT=Jt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Xt(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function pT(e,t,n,r,i,a,o,s){return new dT(e,t,n,r,i,a,o,s)}function vT(e){return new dT(e)}function gT(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function yT(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mT(e){var t,n=Gt(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function bT(e){return null!==e.collectionGroup}function kT(e){var t=gS(e);if(null===t.dt){t.dt=[];var n=mT(t),r=yT(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new VI(n)),t.dt.push(new VI(VS.keyField(),"asc"));else{var i,a=!1,o=Gt(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new VI(VS.keyField(),u))}}}return t.dt}function wT(e){var t=gS(e);if(!t._t)if("F"===t.limitType)t._t=oT(t.path,t.collectionGroup,kT(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Gt(kT(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new VI(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new MI(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new MI(t.startAt.position,t.startAt.inclusive):null;t._t=oT(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function xT(e,t){t.getFirstInequalityField(),mT(e);var n=e.filters.concat([t]);return new dT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _T(e,t,n){return new dT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ST(e,t){return uT(wT(e),wT(t))&&e.limitType===t.limitType}function ET(e){return"".concat(sT(wT(e)),"|lt:").concat(e.limitType)}function IT(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return XI(e)})).join(", "),"]")),fE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return mI(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return mI(e)})).join(",")),"Target(".concat(t,")")}(wT(e)),"; limitType=").concat(e.limitType,")")}function TT(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):jS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Gt(kT(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Gt(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=LI(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,kT(e),t))&&!(e.endAt&&!function(e,t,n){var r=LI(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,kT(e),t))}(e,t)}function AT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function CT(e){return function(t,n){var r,i=!1,a=Gt(kT(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=PT(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function PT(e,t,n){var r=e.field.isKeyField()?jS.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?gI(r,i):pS()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return pS()}}var DT=function(){function e(t,n){Xt(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Jt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=Kt(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){HE(this.inner,(function(t,n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=Kt(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return KE(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),NT=new GE(jS.comparator);function OT(){return NT}var RT=new GE(jS.comparator);function MT(){for(var e=RT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function LT(e){var t=RT;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function FT(){return jT()}function VT(){return jT()}function jT(){return new DT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var UT=new GE(jS.comparator),zT=new XE(jS.comparator);function BT(){for(var e=zT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var qT=new XE(PS);function WT(){return qT}function HT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dE(t)?"-0":t}}function KT(e){return{integerValue:""+e}}function GT(e,t){return pE(t)?KT(t):HT(e,t)}var QT=Jt((function e(){Xt(this,e),this._=void 0}));function YT(e,t,n){return e instanceof JT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&oI(t)&&(t=sI(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ZT?eA(e,t):e instanceof tA?nA(e,t):function(e,t){var n=$T(e,t),r=iA(n)+iA(e.wt);return wI(n)&&wI(e.wt)?KT(r):HT(e.serializer,r)}(e,t)}function XT(e,t,n){return e instanceof ZT?eA(e,t):e instanceof tA?nA(e,t):n}function $T(e,t){return e instanceof rA?wI(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var JT=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n)}(QT),ZT=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).elements=e,r}return Jt(n)}(QT);function eA(e,t){var n,r=aA(t),i=Gt(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return pI(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var tA=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).elements=e,r}return Jt(n)}(QT);function nA(e,t){var n,r=aA(t),i=Gt(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!pI(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rA=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this)).serializer=e,i.wt=r,i}return Jt(n)}(QT);function iA(e){return iI(e.integerValue||e.doubleValue)}function aA(e){return xI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var oA=Jt((function e(t,n){Xt(this,e),this.field=t,this.transform=n}));var sA=Jt((function e(t,n){Xt(this,e),this.version=t,this.transformResults=n})),uA=function(){function e(t,n){Xt(this,e),this.updateTime=t,this.exists=n}return Jt(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function cA(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var lA=Jt((function e(){Xt(this,e)}));function hA(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new _A(e.key,uA.none()):new gA(e.key,e.data,uA.none());var n,r=e.data,i=NI.empty(),a=new XE(VS.comparator),o=Gt(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new yA(e.key,i,new ZE(a.toArray()),uA.none())}function fA(e,t,n){e instanceof gA?function(e,t,n){var r=e.value.clone(),i=bA(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yA?function(e,t,n){if(cA(e.precondition,t)){var r=bA(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mA(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dA(e,t,n,r){return e instanceof gA?function(e,t,n,r){if(!cA(e.precondition,t))return n;var i=e.value.clone(),a=kA(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof yA?function(e,t,n,r){if(!cA(e.precondition,t))return n;var i=kA(e.fieldTransforms,r,t),a=t.data;return a.setAll(mA(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return cA(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function pA(e,t){var n,r=null,i=Gt(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=$T(a.transform,o||null);null!=s&&(null===r&&(r=NI.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function vA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&DS(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ZT&&t instanceof ZT||e instanceof tA&&t instanceof tA?DS(e.elements,t.elements,pI):e instanceof rA&&t instanceof rA?pI(e.wt,t.wt):e instanceof JT&&t instanceof JT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var gA=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Xt(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Jt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lA),yA=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Xt(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Jt(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(lA);function mA(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function bA(e,t,n){var r=new Map;vS(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,XT(o,s,n[i]))}return r}function kA(e,t,n){var r,i=new Map,a=Gt(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,YT(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var wA,xA,_A=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Jt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lA),SA=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Jt(n,[{key:"getFieldMask",value:function(){return null}}]),n}(lA),EA=function(){function e(t,n,r,i){Xt(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Jt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&fA(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Gt(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=dA(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Gt(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=dA(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=VT();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=hA(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(RS.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),BT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&DS(this.mutations,e.mutations,(function(e,t){return vA(e,t)}))&&DS(this.baseMutations,e.baseMutations,(function(e,t){return vA(e,t)}))}}]),e}(),IA=function(){function e(t,n,r,i){Xt(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Jt(e,null,[{key:"from",value:function(t,n,r){vS(t.mutations.length===r.length);for(var i=UT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),TA=function(){function e(t,n){Xt(this,e),this.largestBatchId=t,this.mutation=n}return Jt(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),AA=Jt((function e(t,n){Xt(this,e),this.count=t,this.unchangedNames=n}));function CA(e){switch(e){default:return pS();case yS.CANCELLED:case yS.UNKNOWN:case yS.DEADLINE_EXCEEDED:case yS.RESOURCE_EXHAUSTED:case yS.INTERNAL:case yS.UNAVAILABLE:case yS.UNAUTHENTICATED:return!1;case yS.INVALID_ARGUMENT:case yS.NOT_FOUND:case yS.ALREADY_EXISTS:case yS.PERMISSION_DENIED:case yS.FAILED_PRECONDITION:case yS.ABORTED:case yS.OUT_OF_RANGE:case yS.UNIMPLEMENTED:case yS.DATA_LOSS:return!0}}function PA(e){if(void 0===e)return hS("GRPC error has no .code"),yS.UNKNOWN;switch(e){case wA.OK:return yS.OK;case wA.CANCELLED:return yS.CANCELLED;case wA.UNKNOWN:return yS.UNKNOWN;case wA.DEADLINE_EXCEEDED:return yS.DEADLINE_EXCEEDED;case wA.RESOURCE_EXHAUSTED:return yS.RESOURCE_EXHAUSTED;case wA.INTERNAL:return yS.INTERNAL;case wA.UNAVAILABLE:return yS.UNAVAILABLE;case wA.UNAUTHENTICATED:return yS.UNAUTHENTICATED;case wA.INVALID_ARGUMENT:return yS.INVALID_ARGUMENT;case wA.NOT_FOUND:return yS.NOT_FOUND;case wA.ALREADY_EXISTS:return yS.ALREADY_EXISTS;case wA.PERMISSION_DENIED:return yS.PERMISSION_DENIED;case wA.FAILED_PRECONDITION:return yS.FAILED_PRECONDITION;case wA.ABORTED:return yS.ABORTED;case wA.OUT_OF_RANGE:return yS.OUT_OF_RANGE;case wA.UNIMPLEMENTED:return yS.UNIMPLEMENTED;case wA.DATA_LOSS:return yS.DATA_LOSS;default:return pS()}}(xA=wA||(wA={}))[xA.OK=0]="OK",xA[xA.CANCELLED=1]="CANCELLED",xA[xA.UNKNOWN=2]="UNKNOWN",xA[xA.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xA[xA.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xA[xA.NOT_FOUND=5]="NOT_FOUND",xA[xA.ALREADY_EXISTS=6]="ALREADY_EXISTS",xA[xA.PERMISSION_DENIED=7]="PERMISSION_DENIED",xA[xA.UNAUTHENTICATED=16]="UNAUTHENTICATED",xA[xA.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xA[xA.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xA[xA.ABORTED=10]="ABORTED",xA[xA.OUT_OF_RANGE=11]="OUT_OF_RANGE",xA[xA.UNIMPLEMENTED=12]="UNIMPLEMENTED",xA[xA.INTERNAL=13]="INTERNAL",xA[xA.UNAVAILABLE=14]="UNAVAILABLE",xA[xA.DATA_LOSS=15]="DATA_LOSS";var DA=function(){function e(){Xt(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Jt(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return NA}},{key:"getOrCreateInstance",value:function(){return null===NA&&(NA=new e),NA}}]),e}(),NA=null;function OA(){return new TextEncoder}var RA=new iS([4294967295,4294967295],0);function MA(e){var t=OA().encode(e),n=new rS;return n.update(t),new Uint8Array(n.digest())}function LA(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new iS([n,r],0),new iS([i,a],0)]}var FA=function(){function e(t,n,r){if(Xt(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new VA("Invalid padding: ".concat(n));if(r<0)throw new VA("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new VA("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new VA("Invalid padding when bitmap length is 0: ".concat(n));this.yt=8*t.length-n,this.It=iS.fromNumber(this.yt)}return Jt(e,[{key:"Tt",value:function(e,t,n){var r=e.add(t.multiply(iS.fromNumber(n)));return 1===r.compare(RA)&&(r=new iS([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}},{key:"Et",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"At",value:function(e){if(0===this.yt)return!1;for(var t=Kt(LA(MA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);if(!this.Et(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.yt)for(var t=Kt(LA(MA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),VA=function(e){jt(n,e);var t=zt(n);function n(){var e;return Xt(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Jt(n)}(Jc(Error)),jA=function(){function e(t,n,r,i,a){Xt(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Jt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,UA.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(RS.min(),i,new GE(PS),OT(),BT())}}]),e}(),UA=function(){function e(t,n,r,i,a){Xt(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Jt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,BT(),BT(),BT())}}]),e}(),zA=Jt((function e(t,n,r,i){Xt(this,e),this.vt=t,this.removedTargetIds=n,this.key=r,this.Pt=i})),BA=Jt((function e(t,n){Xt(this,e),this.targetId=t,this.bt=n})),qA=Jt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tI.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Xt(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),WA=function(){function e(){Xt(this,e),this.Vt=0,this.St=GA(),this.Dt=tI.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}return Jt(e,[{key:"current",get:function(){return this.Ct}},{key:"resumeToken",get:function(){return this.Dt}},{key:"Nt",get:function(){return 0!==this.Vt}},{key:"kt",get:function(){return this.xt}},{key:"Mt",value:function(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}},{key:"Ot",value:function(){var e=BT(),t=BT(),n=BT();return this.St.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:pS()}})),new UA(this.Dt,this.Ct,e,t,n)}},{key:"$t",value:function(){this.xt=!1,this.St=GA()}},{key:"Ft",value:function(e,t){this.xt=!0,this.St=this.St.insert(e,t)}},{key:"Bt",value:function(e){this.xt=!0,this.St=this.St.remove(e)}},{key:"Lt",value:function(){this.Vt+=1}},{key:"qt",value:function(){this.Vt-=1}},{key:"Ut",value:function(){this.xt=!0,this.Ct=!0}}]),e}(),HA=function(){function e(t){Xt(this,e),this.Kt=t,this.Gt=new Map,this.Qt=OT(),this.jt=KA(),this.zt=new GE(PS)}return Jt(e,[{key:"Wt",value:function(e){var t,n=Gt(e.vt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Pt&&e.Pt.isFoundDocument()?this.Ht(r,e.Pt):this.Jt(r,e.key,e.Pt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Gt(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Jt(o,e.key,e.Pt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Yt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Xt(n);switch(e.state){case 0:t.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||t.removeTarget(n);break;case 3:t.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:t.Zt(n)&&(t.te(n),r.Mt(e.resumeToken));break;default:pS()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((function(e,r){n.Zt(r)&&t(r)}))}},{key:"ee",value:function(e){var t,n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){var a=i.target;if(cT(a))if(0===r){var o=new jS(a.path);this.Jt(n,o,RI.newNoDocument(o,RS.min()))}else vS(1===r);else{var s=this.se(n);if(s!==r){var u=this.ie(e,s);if(0!==u){this.te(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,c)}null===(t=DA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.bt))}}}}},{key:"ie",value:function(e,t){var n=e.bt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,h=void 0===l?0:l,f=r.hashCount,d=void 0===f?0:f;try{a=aI(c).toUint8Array()}catch(e){if(e instanceof eI)return fS("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new FA(a,h,d)}catch(e){return fS(e instanceof VA?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.yt?1:i!==t-this.re(e.targetId,o)?2:0}},{key:"re",value:function(e,t){var n=this,r=this.Kt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Kt.oe(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.At(o)||(n.Jt(e,r,null),i++)})),i}},{key:"ue",value:function(e){var t=this,n=new Map;this.Gt.forEach((function(r,i){var a=t.ne(i);if(a){if(r.current&&cT(a.target)){var o=new jS(a.target.path);null!==t.Qt.get(o)||t.ce(i,o)||t.Jt(i,o,RI.newNoDocument(o,e))}r.kt&&(n.set(i,r.Ot()),r.$t())}}));var r=BT();this.jt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ne(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qt.forEach((function(t,n){return n.setReadTime(e)}));var i=new jA(e,n,this.zt,this.Qt,r);return this.Qt=OT(),this.jt=KA(),this.zt=new GE(PS),i}},{key:"Ht",value:function(e,t){if(this.Zt(e)){var n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}}},{key:"Jt",value:function(e,t,n){if(this.Zt(e)){var r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Gt.delete(e)}},{key:"se",value:function(e){var t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Lt",value:function(e){this.Xt(e).Lt()}},{key:"Xt",value:function(e){var t=this.Gt.get(e);return t||(t=new WA,this.Gt.set(e,t)),t}},{key:"ae",value:function(e){var t=this.jt.get(e);return t||(t=new XE(PS),this.jt=this.jt.insert(e,t)),t}},{key:"Zt",value:function(e){var t=null!==this.ne(e);return t||lS("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ne",value:function(e){var t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}},{key:"te",value:function(e){var t=this;this.Gt.set(e,new WA),this.Kt.getRemoteKeysForTarget(e).forEach((function(n){t.Jt(e,n,null)}))}},{key:"ce",value:function(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}]),e}();function KA(){return new GE(jS.comparator)}function GA(){return new GE(jS.comparator)}var QA={asc:"ASCENDING",desc:"DESCENDING"},YA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XA={and:"AND",or:"OR"},$A=Jt((function e(t,n){Xt(this,e),this.databaseId=t,this.useProto3Json=n}));function JA(e,t){return e.useProto3Json||fE(t)?t:{value:t}}function ZA(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function eC(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function tC(e,t){return ZA(e,t.toTimestamp())}function nC(e){return vS(!!e),RS.fromTimestamp(function(e){var t=rI(e);return new OS(t.seconds,t.nanos)}(e))}function rC(e,t){return function(e){return new LS(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function iC(e){var t=LS.fromString(e);return vS(TC(t)),t}function aC(e,t){return rC(e.databaseId,t.path)}function oC(e,t){var n=iC(t);if(n.get(1)!==e.databaseId.projectId)throw new mS(yS.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mS(yS.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new jS(lC(n))}function sC(e,t){return rC(e.databaseId,t)}function uC(e){var t=iC(e);return 4===t.length?LS.emptyPath():lC(t)}function cC(e){return new LS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lC(e){return vS(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hC(e,t,n){return{name:aC(e,t),fields:n.value.mapValue.fields}}function fC(e,t,n){var r=oC(e,t.name),i=nC(t.updateTime),a=t.createTime?nC(t.createTime):RS.min(),o=new NI({mapValue:{fields:t.fields}}),s=RI.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function dC(e,t){return"found"in t?function(e,t){vS(!!t.found),t.found.name,t.found.updateTime;var n=oC(e,t.found.name),r=nC(t.found.updateTime),i=t.found.createTime?nC(t.found.createTime):RS.min(),a=new NI({mapValue:{fields:t.found.fields}});return RI.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){vS(!!t.missing),vS(!!t.readTime);var n=oC(e,t.missing),r=nC(t.readTime);return RI.newNoDocument(n,r)}(e,t):pS()}function pC(e,t){var n;if(t instanceof gA)n={update:hC(e,t.key,t.value)};else if(t instanceof _A)n={delete:aC(e,t.key)};else if(t instanceof yA)n={update:hC(e,t.key,t.data),updateMask:IC(t.fieldMask)};else{if(!(t instanceof SA))return pS();n={verify:aC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof JT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ZT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof tA)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rA)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw pS()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:tC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:pS()}(e,t.precondition)),n}function vC(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?uA.updateTime(nC(e.updateTime)):void 0!==e.exists?uA.exists(e.exists):uA.none()}(t.currentDocument):uA.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)vS("REQUEST_TIME"===t.setToServerValue),n=new JT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ZT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new tA(i)}else"increment"in t?n=new rA(e,t.increment):pS();var a=VS.fromServerFormat(t.fieldPath);return new oA(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=oC(e,t.update.name),a=new NI({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ZE(t.map((function(e){return VS.fromServerFormat(e)})))}(t.updateMask);return new yA(i,a,o,n,r)}return new gA(i,a,n,r)}if(t.delete){var s=oC(e,t.delete);return new _A(s,n)}if(t.verify){var u=oC(e,t.verify);return new SA(u,n)}return pS()}function gC(e,t){return{documents:[sC(e,t.path)]}}function yC(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return EC(BI.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:_C(e.field),direction:kC(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=JA(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function mC(e){var t=uC(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){vS(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=bC(e);return t instanceof BI&&HI(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new VI(SC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return fE(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new MI(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new MI(n,t)}(n.endAt)),pT(t,i,s,o,u,"F",c,l)}function bC(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=SC(e.unaryFilter.field);return zI.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=SC(e.unaryFilter.field);return zI.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=SC(e.unaryFilter.field);return zI.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=SC(e.unaryFilter.field);return zI.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pS()}}(e):void 0!==e.fieldFilter?function(e){return zI.create(SC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pS()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return BI.create(e.compositeFilter.filters.map((function(e){return bC(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return pS()}}(e.compositeFilter.op))}(e):pS()}function kC(e){return QA[e]}function wC(e){return YA[e]}function xC(e){return XA[e]}function _C(e){return{fieldPath:e.canonicalString()}}function SC(e){return VS.fromServerFormat(e.fieldPath)}function EC(e){return e instanceof zI?function(e){if("=="===e.op){if(SI(e.value))return{unaryFilter:{field:_C(e.field),op:"IS_NAN"}};if(_I(e.value))return{unaryFilter:{field:_C(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(SI(e.value))return{unaryFilter:{field:_C(e.field),op:"IS_NOT_NAN"}};if(_I(e.value))return{unaryFilter:{field:_C(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_C(e.field),op:wC(e.op),value:e.value}}}(e):e instanceof BI?function(e){var t=e.getFilters().map((function(e){return EC(e)}));return 1===t.length?t[0]:{compositeFilter:{op:xC(e.op),filters:t}}}(e):pS()}function IC(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function TC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var AC=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:RS.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:RS.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:tI.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Xt(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return Jt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),CC=Jt((function e(t){Xt(this,e),this.le=t}));function PC(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:DC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:aC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ZA(e,t.version.toTimestamp()),createTime:ZA(e,t.createTime.toTimestamp())}}(e.le,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:NC(t.version)};else{if(!t.isUnknownDocument())return pS();r.unknownDocument={path:n.path.toArray(),version:NC(t.version)}}return r}function DC(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function NC(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function OC(e){var t=new OS(e.seconds,e.nanoseconds);return RS.fromTimestamp(t)}function RC(e,t){for(var n=(t.baseMutations||[]).map((function(t){return vC(e.le,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return vC(e.le,t)})),s=OS.fromMillis(t.localWriteTimeMs);return new EA(t.batchId,s,n,o)}function MC(e){var t,n,r=OC(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?OC(e.lastLimboFreeSnapshotVersion):RS.min();return void 0!==e.query.documents?(vS(1===(n=e.query).documents.length),t=wT(vT(uC(n.documents[0])))):t=function(e){return wT(mC(e))}(e.query),new AC(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,tI.fromBase64String(e.resumeToken))}function LC(e,t){var n,r=NC(t.snapshotVersion),i=NC(t.lastLimboFreeSnapshotVersion);n=cT(t.target)?gC(e.le,t.target):yC(e.le,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sT(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function FC(e){var t=mC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_T(t,t.limit,"L"):t}function VC(e,t){return new TA(t.largestBatchId,vC(e.le,t.overlayMutation))}function jC(e,t){var n=t.path.lastSegment();return[e,vE(t.path.popLast()),n]}function UC(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:NC(r.readTime),documentKey:vE(r.documentKey.path),largestBatchId:r.largestBatchId}}var zC=function(){function e(){Xt(this,e)}return Jt(e,[{key:"getBundleMetadata",value:function(e,t){return BC(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:OC(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return BC(e).put({bundleId:(n=t).id,createTime:NC(nC(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return qC(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:FC(t.bundledQuery),readTime:OC(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return qC(e).put(function(e){return{name:e.name,readTime:NC(nC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function BC(e){return qE(e,"bundles")}function qC(e){return qE(e,"namedQueries")}var WC=function(){function e(t,n){Xt(this,e),this.serializer=t,this.userId=n}return Jt(e,[{key:"getOverlay",value:function(e,t){var n=this;return HC(e).get(jC(this.userId,t)).next((function(e){return e?VC(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=FT();return ZS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new TA(t,a);i.push(r.de(e,o))})),ZS.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(vE(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(HC(e).J("collectionPathOverlayIndex",i))})),ZS.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=FT(),a=vE(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return HC(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=VC(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=FT(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return HC(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=VC(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"de",value:function(e,t){return HC(e).put(function(e,t,n){var r=Kt(jC(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:pC(e.le,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"fe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function HC(e){return qE(e,"documentOverlays")}var KC=function(){function e(){Xt(this,e)}return Jt(e,[{key:"_e",value:function(e,t){this.we(e,t),t.me()}},{key:"we",value:function(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(iI(e.integerValue));else if("doubleValue"in e){var n=iI(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),dE(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe("".concat(r.seconds||"")),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(aI(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?TI(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):pS()}},{key:"Ie",value:function(e,t){this.ge(t,25),this.Pe(e,t)}},{key:"Pe",value:function(e,t){t.pe(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ge(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Ie(a,t),this.we(n[a],t)}}},{key:"ve",value:function(e,t){var n=e.values||[];this.ge(t,50);var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.we(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"Ae",value:function(e,t){var n=this;this.ge(t,37),jS.fromName(e).path.forEach((function(e){n.ge(t,60),n.Pe(e,t)}))}},{key:"ge",value:function(e,t){e.ye(t)}},{key:"Te",value:function(e){e.ye(2)}}]),e}();function GC(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function QC(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=GC(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}KC.be=new KC;var YC=function(){function e(){Xt(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Jt(e,[{key:"Ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Se(n.value),n=t.next();this.De()}},{key:"Ce",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xe(n.value),n=t.next();this.Ne()}},{key:"ke",value:function(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{var a=r.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.De()}},{key:"Me",value:function(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{var a=r.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ne()}},{key:"Oe",value:function(e){var t=this.$e(e),n=QC(t);this.Fe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Be",value:function(e){var t=this.$e(e),n=QC(t);this.Fe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Le",value:function(){this.qe(255),this.qe(255)}},{key:"Ue",value:function(){this.Ke(255),this.Ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ge",value:function(){return this.buffer.slice(0,this.position)}},{key:"$e",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Se",value:function(e){var t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}},{key:"xe",value:function(e){var t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}},{key:"De",value:function(){this.qe(0),this.qe(1)}},{key:"Ne",value:function(){this.Ke(0),this.Ke(1)}},{key:"qe",value:function(e){this.Fe(1),this.buffer[this.position++]=e}},{key:"Ke",value:function(e){this.Fe(1),this.buffer[this.position++]=~e}},{key:"Fe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),XC=function(){function e(t){Xt(this,e),this.Qe=t}return Jt(e,[{key:"Ee",value:function(e){this.Qe.Ve(e)}},{key:"pe",value:function(e){this.Qe.ke(e)}},{key:"ye",value:function(e){this.Qe.Oe(e)}},{key:"me",value:function(){this.Qe.Le()}}]),e}(),$C=function(){function e(t){Xt(this,e),this.Qe=t}return Jt(e,[{key:"Ee",value:function(e){this.Qe.Ce(e)}},{key:"pe",value:function(e){this.Qe.Me(e)}},{key:"ye",value:function(e){this.Qe.Be(e)}},{key:"me",value:function(){this.Qe.Ue()}}]),e}(),JC=function(){function e(){Xt(this,e),this.Qe=new YC,this.je=new XC(this.Qe),this.ze=new $C(this.Qe)}return Jt(e,[{key:"seed",value:function(e){this.Qe.seed(e)}},{key:"We",value:function(e){return 0===e?this.je:this.ze}},{key:"Ge",value:function(){return this.Qe.Ge()}},{key:"reset",value:function(){this.Qe.reset()}}]),e}(),ZC=function(){function e(t,n,r,i){Xt(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Jt(e,[{key:"He",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function eP(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=tP(e.arrayValue,t.arrayValue))?n:0!==(n=tP(e.directionalValue,t.directionalValue))?n:jS.comparator(e.documentKey,t.documentKey)}function tP(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var nP=function(){function e(t){Xt(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];var n,r=Gt(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xe=i:this.Ye.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Jt(e,[{key:"Ze",value:function(e){vS(e.collectionGroup===this.collectionId);var t=zS(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=BS(e),r=0,i=0;r<n.length&&this.tn(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Xe){var a=n[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Je.length||!this.nn(this.Je[i++],o))return!1}return!0}},{key:"tn",value:function(e){var t,n=Gt(this.Ye);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.en(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"en",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"nn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function rP(e){var t,n;if(vS(e instanceof zI||e instanceof BI),e instanceof zI){if(e instanceof nT){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return zI.create(e.field,"==",t)})))||[];return BI.create(r,"or")}return e}var i=e.filters.map((function(e){return rP(e)}));return BI.create(i,e.op)}function iP(e){if(0===e.getFilters().length)return[];var t=uP(rP(e));return vS(sP(t)),aP(t)||oP(t)?[t]:t.getFilters()}function aP(e){return e instanceof zI}function oP(e){return e instanceof BI&&HI(e)}function sP(e){return aP(e)||oP(e)||function(e){if(e instanceof BI&&WI(e)){var t,n=Gt(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!aP(r)&&!oP(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function uP(e){if(vS(e instanceof zI||e instanceof BI),e instanceof zI)return e;if(1===e.filters.length)return uP(e.filters[0]);var t=e.filters.map((function(e){return uP(e)})),n=BI.create(t,e.op);return sP(n=hP(n))?n:(vS(n instanceof BI),vS(qI(n)),vS(n.filters.length>1),n.filters.reduce((function(e,t){return cP(e,t)})))}function cP(e,t){var n;return vS(e instanceof zI||e instanceof BI),vS(t instanceof zI||t instanceof BI),n=e instanceof zI?t instanceof zI?function(e,t){return BI.create([e,t],"and")}(e,t):lP(e,t):t instanceof zI?lP(t,e):function(e,t){if(vS(e.filters.length>0&&t.filters.length>0),qI(e)&&qI(t))return YI(e,t.getFilters());var n=WI(e)?e:t,r=WI(e)?t:e,i=n.filters.map((function(e){return cP(e,r)}));return BI.create(i,"or")}(e,t),hP(n)}function lP(e,t){if(qI(t))return YI(t,e.getFilters());var n=t.filters.map((function(t){return cP(e,t)}));return BI.create(n,"or")}function hP(e){if(vS(e instanceof zI||e instanceof BI),e instanceof zI)return e;var t=e.getFilters();if(1===t.length)return hP(t[0]);if(KI(e))return e;var n=t.map((function(e){return hP(e)})),r=[];return n.forEach((function(t){t instanceof zI?r.push(t):t instanceof BI&&(t.op===e.op?r.push.apply(r,Yt(t.filters)):r.push(t))})),1===r.length?r[0]:BI.create(r,e.op)}var fP=function(){function e(){Xt(this,e),this.sn=new dP}return Jt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),ZS.resolve()}},{key:"getCollectionParents",value:function(e,t){return ZS.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ZS.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ZS.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ZS.resolve(null)}},{key:"getIndexType",value:function(e,t){return ZS.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ZS.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ZS.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ZS.resolve(GS.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ZS.resolve(GS.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ZS.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ZS.resolve()}}]),e}(),dP=function(){function e(){Xt(this,e),this.index={}}return Jt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new XE(LS.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new XE(LS.comparator)).toArray()}}]),e}(),pP=new Uint8Array(0),vP=function(){function e(t,n){Xt(this,e),this.user=t,this.databaseId=n,this.rn=new dP,this.on=new DT((function(e){return sT(e)}),(function(e,t){return uT(e,t)})),this.uid=t.uid||""}return Jt(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.rn.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.rn.add(t)}));var a={collectionId:r,parent:vE(i)};return gP(e).put(a)}return ZS.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[NS(t),""],!1,!0);return gP(e).j(r).next((function(e){var r,i=Gt(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(mE(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=mP(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=bP(e);return a.next((function(e){o.put(UC(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=mP(e),r=bP(e),i=yP(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=yP(e),i=!0,a=new Map;return ZS.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=BT(),o=[];return ZS.forEach(a,(function(i,a){var s;lS("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(sT(t)));var u=function(e,t){var n=zS(t);if(void 0===n)return null;var r,i=Gt(lT(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Gt(BS(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Gt(lT(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Gt(BS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?hT(e,o.fieldPath,e.startAt):fT(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new MI(r,i)}(a,i),h=function(e,t){var n,r=[],i=!0,a=Gt(BS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?fT(e,o.fieldPath,e.endAt):hT(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new MI(r,i)}(a,i),f=n.an(i,a,l),d=n.an(i,a,h),p=n.hn(i,a,c),v=n.ln(i.indexId,u,f,l.inclusive,d,h.inclusive,p);return ZS.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=jS.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ZS.resolve(null)}))}},{key:"un",value:function(e){var t=this.on.get(e);return t||(t=0===e.filters.length?[e]:iP(BI.create(e.filters,"and")).map((function(t){return oT(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.on.set(e,t),t)}},{key:"ln",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(){var u=t?s.fn(t[f/c]):pP,h=s.dn(e,u,n[f%c],r),d=s._n(e,u,i[f%c],a),p=o.map((function(t){return s.dn(e,u,t,!0)}));l.push.apply(l,Yt(s.createRange(h,d,p)))},f=0;f<u;++f)h();return l}},{key:"dn",value:function(e,t,n,r){var i=new ZC(e,jS.empty(),t,n);return r?i:i.He()}},{key:"_n",value:function(e,t,n,r){var i=new ZC(e,jS.empty(),t,n);return r?i.He():i}},{key:"cn",value:function(e,t){var n=new nP(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Gt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ze(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return ZS.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new XE(VS.comparator),r=!1,i=Gt(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Gt(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(h){o.e(h)}finally{o.f()}}}catch(h){i.e(h)}finally{i.f()}var u,c=Gt(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(h){c.e(h)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"wn",value:function(e,t){var n,r=new JC,i=Gt(BS(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.We(a.kind);KC.be._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ge()}},{key:"fn",value:function(e){var t=new JC;return KC.be._e(e,t.We(0)),t.Ge()}},{key:"mn",value:function(e,t){var n=new JC;return KC.be._e(kI(this.databaseId,t),n.We(function(e){var t=BS(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ge()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new JC);var i,a=0,o=Gt(BS(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Gt(r);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(this.gn(t,u.fieldPath)&&xI(c))r=this.yn(r,u,c);else{var f=h.We(u.kind);KC.be._e(c,f)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.pn(r)}},{key:"an",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"pn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ge();return t}},{key:"yn",value:function(e,t,n){var r,i=Yt(e),a=[],o=Gt(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Gt(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new JC;h.seed(l.Ge()),KC.be._e(u,h.We(t.kind)),a.push(h)}}catch(f){c.e(f)}finally{c.f()}}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"gn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zI&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=mP(e),i=bP(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return ZS.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new WS(t.sequenceNumber,new GS(OC(t.readTime),new jS(mE(t.documentKey)),t.largestBatchId)):WS.empty(),r=e.fields.map((function(e){var t=Kt(e,2),n=t[0],r=t[1];return new qS(VS.fromServerFormat(n),r)}));return new US(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:PS(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=mP(e),a=bP(e);return this.In(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ZS.forEach(t,(function(t){return a.put(UC(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ZS.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ZS.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ZS.forEach(a,(function(r){return n.Tn(e,t,r).next((function(t){var a=n.En(i,r);return t.isEqual(a)?ZS.resolve():n.An(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return yP(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"vn",value:function(e,t,n,r){return yP(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}},{key:"Tn",value:function(e,t,n){var r=yP(e),i=new XE(eP);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},(function(e,r){i=i.add(new ZC(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"En",value:function(e,t){var n=new XE(eP),r=this.wn(t,e);if(null==r)return n;var i=zS(t);if(null!=i){var a=e.data.field(i.fieldPath);if(xI(a)){var o,s=Gt(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new ZC(t.indexId,e.key,this.fn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new ZC(t.indexId,e.key,pP,r));return n}},{key:"An",value:function(e,t,n,r,i){var a=this;lS("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=JE(a),u=JE(o);s||u;){var c=!1,l=!1;if(s&&u){var h=n(s,u);h<0?l=!0:h>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=JE(o)):l?(i(s),s=JE(a)):(s=JE(a),u=JE(o))}}(r,i,eP,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.vn(e,t,n,r))})),ZS.waitFor(o)}},{key:"In",value:function(e){var t=1;return bP(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return eP(e,t)})).filter((function(e,t,n){return!t||0!==eP(e,n[t-1])}));var r=[];r.push(e);var i,a=Gt(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=eP(o,e),u=eP(o,t);if(0===s)r[0]=e.He();else if(s>0&&u<0)r.push(o),r.push(o.He());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Pn(r[l],r[l+1]))return[];var h=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,pP,[]],f=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,pP,[]];c.push(IDBKeyRange.bound(h,f))}return c}},{key:"Pn",value:function(e,t){return eP(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(kP)}},{key:"getMinOffset",value:function(e,t){var n=this;return ZS.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||pS()}))})).next(kP)}}]),e}();function gP(e){return qE(e,"collectionParents")}function yP(e){return qE(e,"indexEntries")}function mP(e){return qE(e,"indexConfiguration")}function bP(e){return qE(e,"indexState")}function kP(e){vS(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;QS(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new GS(t.readTime,t.documentKey,n)}var wP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xP=function(){function e(t,n,r){Xt(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Jt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function _P(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){vS(1===s)})));var c,l=[],h=Gt(n.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value,d=wE(t,f.key.path,n.batchId);a.push(i.delete(d)),l.push(f.key)}}catch(p){h.e(p)}finally{h.f()}return ZS.waitFor(a).next((function(){return l}))}function SP(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw pS();t=e.noDocument}return JSON.stringify(t).length}xP.DEFAULT_COLLECTION_PERCENTILE=10,xP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xP.DEFAULT=new xP(41943040,xP.DEFAULT_COLLECTION_PERCENTILE,xP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xP.DISABLED=new xP(-1,0,0);var EP=function(){function e(t,n,r,i){Xt(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return Jt(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return TP(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=AP(e),o=TP(e);return o.add({}).next((function(s){vS("number"==typeof s);var u,c=new EA(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return pC(e.le,t)})),i=n.mutations.map((function(t){return pC(e.le,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),h=[],f=new XE((function(e,t){return PS(e.canonicalString(),t.canonicalString())})),d=Gt(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=wE(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),h.push(o.put(l)),h.push(a.put(v,xE))}}catch(g){d.e(g)}finally{d.f()}return f.forEach((function(t){h.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[s]=c.keys()})),ZS.waitFor(h).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return TP(e).get(t).next((function(e){return e?(vS(e.userId===n.userId),RC(n.serializer,e)):null}))}},{key:"Vn",value:function(e,t){var n=this;return this.bn[t]?ZS.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return TP(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(vS(t.batchId>=r),a=RC(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return TP(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return TP(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return RC(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=kE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return AP(e).X({range:i},(function(r,i,o){var s=Kt(r,3),u=s[0],c=s[1],l=s[2],h=mE(c);if(u===n.userId&&t.path.isEqual(h))return TP(e).get(l).next((function(e){if(!e)throw pS();vS(e.userId===n.userId),a.push(RC(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new XE(PS),i=[];return t.forEach((function(t){var a=kE(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=AP(e).X({range:o},(function(e,i,a){var o=Kt(e,3),s=o[0],u=o[1],c=o[2],l=mE(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(s)})),ZS.waitFor(i).next((function(){return n.Sn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=kE(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new XE(PS);return AP(e).X({range:o},(function(e,t,a){var o=Kt(e,3),u=o[0],c=o[1],l=o[2],h=mE(c);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(l)):a.done()})).next((function(){return n.Sn(e,s)}))}},{key:"Sn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(TP(e).get(t).next((function(e){if(null===e)throw pS();vS(e.userId===n.userId),r.push(RC(n.serializer,e))})))})),ZS.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return _P(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Dn(t.batchId)})),ZS.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Dn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ZS.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return AP(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=mE(e[1]);i.push(a)}else r.done()})).next((function(){vS(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return IP(e,this.userId,t)}},{key:"Cn",value:function(e){var t=this;return CP(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"fe",value:function(t,n,r,i){return vS(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function IP(e,t,n){var r=kE(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return AP(e).X({range:a,Y:!0},(function(e,n,r){var a=Kt(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function TP(e){return qE(e,"mutations")}function AP(e){return qE(e,"documentMutations")}function CP(e){return qE(e,"mutationQueues")}var PP=function(){function e(t){Xt(this,e),this.xn=t}return Jt(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"Nn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}(),DP=function(){function e(t,n){Xt(this,e),this.referenceDelegate=t,this.serializer=n}return Jt(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Mn(e).next((function(n){var r=new PP(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Mn(e).next((function(e){return RS.fromTimestamp(new OS(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Mn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Mn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.$n(e,t).next((function(){return n.Mn(e).next((function(r){return r.targetCount+=1,n.Fn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.$n(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return NP(e).delete(t.targetId)})).next((function(){return n.Mn(e)})).next((function(t){return vS(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return NP(e).X((function(o,s){var u=MC(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return ZS.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return NP(e).X((function(e,n){var r=MC(n);t(r)}))}},{key:"Mn",value:function(e){return OP(e).get("targetGlobalKey").next((function(e){return vS(null!==e),e}))}},{key:"On",value:function(e,t){return OP(e).put("targetGlobalKey",t)}},{key:"$n",value:function(e,t){return NP(e).put(LC(this.serializer,t))}},{key:"Fn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Mn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=sT(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return NP(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=MC(n);uT(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=RP(e);return t.forEach((function(t){var o=vE(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ZS.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=RP(e);return ZS.forEach(t,(function(t){var a=vE(t.path);return ZS.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=RP(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=RP(e),i=BT();return r.X({range:n,Y:!0},(function(e,t,n){var r=mE(e[1]),a=new jS(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=vE(t.path),r=IDBKeyRange.bound([n],[NS(n)],!1,!0),i=0;return RP(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=Kt(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"he",value:function(e,t){return NP(e).get(t).next((function(e){return e?MC(e):null}))}}]),e}();function NP(e){return qE(e,"targets")}function OP(e){return qE(e,"targetGlobal")}function RP(e){return qE(e,"targetDocuments")}function MP(e,t){var n=Kt(e,2),r=n[0],i=n[1],a=Kt(t,2),o=a[0],s=a[1],u=PS(r,o);return 0===u?PS(i,s):u}var LP=function(){function e(t){Xt(this,e),this.Bn=t,this.buffer=new XE(MP),this.Ln=0}return Jt(e,[{key:"qn",value:function(){return++this.Ln}},{key:"Un",value:function(e){var t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();MP(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),FP=function(){function e(t,n,r){Xt(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Kn=null}return Jt(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}},{key:"started",get:function(){return null!==this.Kn}},{key:"Gn",value:function(e){var t=this;lS("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Kn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!iE(e.t0)){e.next=12;break}lS("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,$S(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),VP=function(){function e(t,n){Xt(this,e),this.Qn=t,this.params=n}return Jt(e,[{key:"calculateTargetCount",value:function(e,t){return this.Qn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ZS.resolve(hE.ct);var r=new LP(t);return this.Qn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.Qn.zn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Qn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Qn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(lS("LruGarbageCollector","Garbage collection skipped; disabled"),ZS.resolve(wP)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(lS("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),wP):n.Wn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Qn.getCacheSize(e)}},{key:"Wn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(lS("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),cS()<=Ll.DEBUG&&lS("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),ZS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function jP(e,t){return new VP(e,t)}var UP=function(){function e(t,n){Xt(this,e),this.db=t,this.garbageCollector=jP(this,n)}return Jt(e,[{key:"jn",value:function(e){var t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Hn",value:function(e){var t=0;return this.zn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"zn",value:function(e,t){return this.Jn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return zP(e,n)}},{key:"removeReference",value:function(e,t,n){return zP(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return zP(e,t)}},{key:"Yn",value:function(e,t){return function(e,t){var n=!1;return CP(e).Z((function(r){return IP(e,r,t).next((function(e){return e&&(n=!0),ZS.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Jn(e,(function(o,s){if(s<=t){var u=n.Yn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,RS.min()),RP(e).delete([0,vE(o.path)])}))}));i.push(u)}})).next((function(){return ZS.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return zP(e,t)}},{key:"Jn",value:function(e,t){var n,r=RP(e),i=hE.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=Kt(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==hE.ct&&t(new jS(mE(n)),i),i=u,n=s):i=hE.ct})).next((function(){i!==hE.ct&&t(new jS(mE(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function zP(e,t){return RP(e).put(function(e,t){return{targetId:0,path:vE(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var BP=function(){function e(){Xt(this,e),this.changes=new DT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Jt(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,RI.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ZS.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),qP=function(){function e(t){Xt(this,e),this.serializer=t}return Jt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return GP(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return GP(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],DC(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=RI.newInvalidDocument(t);return GP(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(QP(t))},(function(e,i){r=n.Zn(t,i)})).next((function(){return r}))}},{key:"ts",value:function(e,t){var n=this,r={size:0,document:RI.newInvalidDocument(t)};return GP(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(QP(t))},(function(e,i){r={document:n.Zn(t,i),size:SP(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=OT();return this.es(e,t,(function(e,t){var i=n.Zn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ns",value:function(e,t){var n=this,r=OT(),i=new GE(jS.comparator);return this.es(e,t,(function(e,t){var a=n.Zn(e,t);r=r.insert(e,a),i=i.insert(e,SP(t))})).next((function(){return{documents:r,ss:i}}))}},{key:"es",value:function(e,t,n){if(t.isEmpty())return ZS.resolve();var r=new XE(XP);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(QP(r.first()),QP(r.last())),a=r.getIterator(),o=a.getNext();return GP(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=jS.fromSegments([].concat(Yt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&XP(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(QP(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),DC(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return GP(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=OT(),o=Gt(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.Zn(jS.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(TT(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=OT(),o=YP(t,n),s=YP(t,GS.max());return GP(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Zn(jS.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new HP(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return KP(e).get("remoteDocumentGlobalKey").next((function(e){return vS(!!e),e}))}},{key:"Xn",value:function(e,t){return KP(e).put("remoteDocumentGlobalKey",t)}},{key:"Zn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=fC(e.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=jS.fromSegments(t.noDocument.path),i=OC(t.noDocument.readTime);n=RI.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return pS();var a=jS.fromSegments(t.unknownDocument.path),o=OC(t.unknownDocument.version);n=RI.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new OS(e[0],e[1]);return RS.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(RS.min()))return n}return RI.newInvalidDocument(e)}}]),e}();function WP(e){return new qP(e)}var HP=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this)).rs=e,i.trackRemovals=r,i.os=new DT((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Jt(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new XE((function(e,t){return PS(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.os.get(a);if(n.push(t.rs.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=PC(t.rs.serializer,o);i=i.add(a.path.popLast());var c=SP(u);r+=c-s.size,n.push(t.rs.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=PC(t.rs.serializer,o.convertToNoDocument(RS.min()));n.push(t.rs.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.rs.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.rs.updateMetadata(e,r)),ZS.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.rs.ts(e,t).next((function(e){return n.os.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.rs.ns(e,t).next((function(e){var t=e.documents;return e.ss.forEach((function(e,r){n.os.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(BP);function KP(e){return qE(e,"remoteDocumentGlobal")}function GP(e){return qE(e,"remoteDocumentsV14")}function QP(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function YP(e,t){var n=t.documentKey.path.toArray();return[e,DC(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function XP(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=PS(n[a],r[a]))return i;return(i=PS(n.length,r.length))||((i=PS(n[n.length-2],r[r.length-2]))||PS(n[n.length-1],r[r.length-1]))}var $P=Jt((function e(t,n){Xt(this,e),this.overlayedDocument=t,this.mutatedFields=n})),JP=function(){function e(t,n,r,i){Xt(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Jt(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&dA(r.mutation,e,ZE.empty(),OS.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,BT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:BT(),i=FT();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=MT();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=FT();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,BT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=OT(),a=jT(),o=jT();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof yA)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),dA(o.mutation,t,o.mutation.getFieldMask(),OS.now())):a.set(t.key,ZE.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new $P(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=jT(),i=new GE((function(e,t){return e-t})),a=BT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Gt(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ZE.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||BT()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=VT();c.forEach((function(e){if(!a.has(e)){var n=hA(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return ZS.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return jS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):ZS.resolve(FT()),s=-1,u=a;return o.next((function(t){return ZS.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?ZS.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,BT())})).next((function(e){return{batchId:s,changes:LT(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new jS(t)).next((function(e){var t=MT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=MT();return this.indexManager.getCollectionParents(e,i).next((function(o){return ZS.forEach(o,(function(o){var s=function(e,t){return new dT(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,RI.newInvalidDocument(r)))}));var n=MT();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&dA(a.mutation,i,ZE.empty(),OS.now()),TT(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ZP=function(){function e(t){Xt(this,e),this.serializer=t,this.us=new Map,this.cs=new Map}return Jt(e,[{key:"getBundleMetadata",value:function(e,t){return ZS.resolve(this.us.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:nC(n.createTime)}),ZS.resolve()}},{key:"getNamedQuery",value:function(e,t){return ZS.resolve(this.cs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cs.set(t.name,function(e){return{name:e.name,query:FC(e.bundledQuery),readTime:nC(e.readTime)}}(t)),ZS.resolve()}}]),e}(),eD=function(){function e(){Xt(this,e),this.overlays=new GE(jS.comparator),this.hs=new Map}return Jt(e,[{key:"getOverlay",value:function(e,t){return ZS.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=FT();return ZS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.de(e,t,i)})),ZS.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hs.delete(n)),ZS.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=FT(),i=t.length+1,a=new jS(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return ZS.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new GE((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=FT(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=FT(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return ZS.resolve(u)}},{key:"de",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new TA(t,n));var a=this.hs.get(t);void 0===a&&(a=BT(),this.hs.set(t,a)),this.hs.set(t,a.add(n.key))}}]),e}(),tD=function(){function e(){Xt(this,e),this.ls=new XE(nD.fs),this.ds=new XE(nD._s)}return Jt(e,[{key:"isEmpty",value:function(){return this.ls.isEmpty()}},{key:"addReference",value:function(e,t){var n=new nD(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}},{key:"ws",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.gs(new nD(e,t))}},{key:"ys",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ps",value:function(e){var t=this,n=new jS(new LS([])),r=new nD(n,e),i=new nD(n,e+1),a=[];return this.ds.forEachInRange([r,i],(function(e){t.gs(e),a.push(e.key)})),a}},{key:"Is",value:function(){var e=this;this.ls.forEach((function(t){return e.gs(t)}))}},{key:"gs",value:function(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}},{key:"Ts",value:function(e){var t=new jS(new LS([])),n=new nD(t,e),r=new nD(t,e+1),i=BT();return this.ds.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new nD(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),nD=function(){function e(t,n){Xt(this,e),this.key=t,this.Es=n}return Jt(e,null,[{key:"fs",value:function(e,t){return jS.comparator(e.key,t.key)||PS(e.Es,t.Es)}},{key:"_s",value:function(e,t){return PS(e.Es,t.Es)||jS.comparator(e.key,t.key)}}]),e}(),rD=function(){function e(t,n){Xt(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new XE(nD.fs)}return Jt(e,[{key:"checkEmpty",value:function(e){return ZS.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new EA(i,t,n,r);this.mutationQueue.push(a);var o,s=Gt(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new nD(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return ZS.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ZS.resolve(this.vs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ps(n),i=r<0?0:r;return ZS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ZS.resolve(0===this.mutationQueue.length?-1:this.As-1)}},{key:"getAllMutationBatches",value:function(e){return ZS.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new nD(t,0),i=new nD(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.vs(e.Es);a.push(t)})),ZS.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new XE(PS);return t.forEach((function(e){var t=new nD(e,0),i=new nD(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.Es)}))})),ZS.resolve(this.bs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;jS.isDocumentKey(i)||(i=i.child(""));var a=new nD(new jS(i),0),o=new XE(PS);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),a),ZS.resolve(this.bs(o))}},{key:"bs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.vs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;vS(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return ZS.forEach(t.mutations,(function(i){var a=new nD(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new nD(t,0),r=this.Rs.firstAfterOrEqual(n);return ZS.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ZS.resolve()}},{key:"Vs",value:function(e,t){return this.Ps(e)}},{key:"Ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"vs",value:function(e){var t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),iD=function(){function e(t){Xt(this,e),this.Ss=t,this.docs=new GE(jS.comparator),this.size=0}return Jt(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ZS.resolve(n?n.document.mutableCopy():RI.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=OT();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():RI.newInvalidDocument(e))})),ZS.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=OT(),a=t.path,o=new jS(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||QS(KS(l),n)<=0||(r.has(l.key)||TT(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return ZS.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){pS()}},{key:"Ds",value:function(e,t){return ZS.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new aD(this)}},{key:"getSize",value:function(e){return ZS.resolve(this.size)}}]),e}(),aD=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).rs=e,r}return Jt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.rs.addEntry(e,i)):t.rs.removeEntry(r)})),ZS.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.rs.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.rs.getEntries(e,t)}}]),n}(BP),oD=function(){function e(t){Xt(this,e),this.persistence=t,this.Cs=new DT((function(e){return sT(e)}),uT),this.lastRemoteSnapshotVersion=RS.min(),this.highestTargetId=0,this.xs=0,this.Ns=new tD,this.targetCount=0,this.ks=PP.Nn()}return Jt(e,[{key:"forEachTarget",value:function(e,t){return this.Cs.forEach((function(e,n){return t(n)})),ZS.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ZS.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ZS.resolve(this.xs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ks.next(),ZS.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),ZS.resolve()}},{key:"$n",value:function(e){this.Cs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ks=new PP(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.$n(t),this.targetCount+=1,ZS.resolve()}},{key:"updateTargetData",value:function(e,t){return this.$n(t),ZS.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,ZS.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),ZS.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ZS.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cs.get(t)||null;return ZS.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ns.ws(t,n),ZS.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ns.ys(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ZS.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ns.ps(t),ZS.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ns.Ts(t);return ZS.resolve(n)}},{key:"containsKey",value:function(e,t){return ZS.resolve(this.Ns.containsKey(t))}}]),e}(),sD=function(){function e(t,n){var r=this;Xt(this,e),this.Ms={},this.overlays={},this.Os=new hE(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new oD(this),this.indexManager=new fP,this.remoteDocumentCache=new iD((function(e){return r.referenceDelegate.Bs(e)})),this.serializer=new CC(n),this.Ls=new ZP(this.serializer)}return Jt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.$s=!1,Promise.resolve()}},{key:"started",get:function(){return this.$s}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new eD,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ms[e.toKey()];return n||(n=new rD(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;lS("MemoryPersistence","Starting transaction:",e);var i=new uD(this.Os.next());return this.referenceDelegate.qs(),n(i).next((function(e){return r.referenceDelegate.Us(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ks",value:function(e,t){return ZS.or(Object.values(this.Ms).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),uD=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Jt(n)}(XS),cD=function(){function e(t){Xt(this,e),this.persistence=t,this.Gs=new tD,this.Qs=null}return Jt(e,[{key:"zs",get:function(){if(this.Qs)return this.Qs;throw pS()}},{key:"addReference",value:function(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),ZS.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),ZS.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zs.add(t.toString()),ZS.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gs.ps(t.targetId).forEach((function(e){return n.zs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qs",value:function(){this.Qs=new Set}},{key:"Us",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ZS.forEach(this.zs,(function(r){var i=jS.fromPath(r);return t.Ws(e,i).next((function(e){e||n.removeEntry(i,RS.min())}))})).next((function(){return t.Qs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ws(e,t).next((function(e){e?n.zs.delete(t.toString()):n.zs.add(t.toString())}))}},{key:"Bs",value:function(e){return 0}},{key:"Ws",value:function(e,t){var n=this;return ZS.or([function(){return ZS.resolve(n.Gs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ks(e,t)}])}}],[{key:"js",value:function(t){return new e(t)}}]),e}(),lD=function(){function e(t){Xt(this,e),this.serializer=t}return Jt(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new eE("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bE,{unique:!0}),e.createObjectStore("documentMutations")}(e),hD(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ZS.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),hD(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:RS.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",bE,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ZS.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Js(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ys(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:RE});t.createIndex("collectionPathOverlayIndex",ME,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",LE,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:_E});t.createIndex("documentKeyIndex",SE),t.createIndex("collectionGroupIndex",EE)}(e)})).next((function(){return i.ei(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ni(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:PE}).createIndex("sequenceNumberIndex",DE,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:NE}).createIndex("documentKeyIndex",OE,{unique:!1})}(e)}))),o}},{key:"Ys",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=SP(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Js",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return ZS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return ZS.forEach(r,(function(r){vS(r.userId===n.userId);var i=RC(t.serializer,r);return _P(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new LS(n),o=function(e){return[0,vE(e)]}(a);r.push(t.get(o).next((function(n){return n?ZS.resolve():function(n){return t.put({targetId:0,path:vE(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ZS.waitFor(r)}))}))}},{key:"Zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:CE});var n=t.store("collectionParents"),r=new dP,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:vE(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new LS(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=Kt(e,3),r=(n[0],n[1]),a=(n[2],mE(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=MC(r),a=LC(t.serializer,i);return n.put(a)}))}},{key:"ei",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new jS(LS.fromString(i.document.name).popFirst(5)):i.noDocument?jS.fromSegments(i.noDocument.path):i.unknownDocument?jS.fromSegments(i.unknownDocument.path):pS()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return ZS.waitFor(r)}))}},{key:"ni",value:function(e,t){var n=this,r=t.store("mutations"),i=WP(this.serializer),a=new sD(cD.js,this.serializer.le);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:BT();RC(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ZS.forEach(r,(function(e,r){var o=new oS(r),s=WC.fe(n.serializer,o),u=a.getIndexManager(o),c=EP.fe(o,n.serializer,u,a.referenceDelegate);return new JP(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new BE(t,hE.ct),e).next()}))}))}}]),e}();function hD(e){e.createObjectStore("targetDocuments",{keyPath:TE}).createIndex("documentTargetsIndex",AE,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",IE,{unique:!0}),e.createObjectStore("targetGlobal")}var fD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",dD=function(){function e(t,n,r,i,a,o,s,u,c,l){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Xt(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.ii=c,this.ri=l,this.oi=h,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=function(e){return Promise.resolve()},!e.D())throw new mS(yS.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UP(this,i),this.fi=n+"main",this.serializer=new CC(u),this.di=new tE(this.fi,this.oi,new lD(this.serializer)),this.Fs=new DP(this.referenceDelegate,this.serializer),this.remoteDocumentCache=WP(this.serializer),this.Ls=new zC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&hS("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Jt(e,[{key:"start",value:function(){var e=this;return this.wi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new mS(yS.FAILED_PRECONDITION,fD);return e.mi(),e.gi(),e.yi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Fs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new hE(t,e.ii)})).then((function(){e.$s=!0})).catch((function(t){return e.di&&e.di.close(),Promise.reject(t)}))}},{key:"pi",value:function(e){var t=this;return this.li=function(){var n=Dl(Cl().mark((function n(r){return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.di.B(function(){var t=Dl(Cl().mark((function t(n){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.wi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"wi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vD(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ii(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.li(!1)})))}))})).next((function(){return e.Ti(t)})).next((function(n){return e.isPrimary&&!n?e.Ei(t).next((function(){return!1})):!!n&&e.Ai(t).next((function(){return!0}))}))})).catch((function(t){if(iE(t))return lS("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return lS("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.li(t)})),e.isPrimary=t}))}},{key:"Ii",value:function(e){var t=this;return pD(e).get("owner").next((function(e){return ZS.resolve(t.Ri(e))}))}},{key:"vi",value:function(e){return vD(e).delete(this.clientId)}},{key:"Pi",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r,i,a=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=qE(e,"clientMetadata");return t.j().next((function(e){var n=a.Vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ZS.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=Gt(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Si(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yi",value:function(){var e=this;this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.wi().then((function(){return e.Pi()})).then((function(){return e.yi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ti",value:function(e){var t=this;return this.ri?ZS.resolve(!0):pD(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Di(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new mS(yS.FAILED_PRECONDITION,fD);return!1}}return!(!t.networkEnabled||!t.inForeground)||vD(e).j().next((function(e){return void 0===t.Vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&lS("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Dl(Cl().mark((function e(){var t=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$s=!1,this.Ci(),this.ai&&(this.ai.cancel(),this.ai=null),this.xi(),this.Ni(),e.next=7,this.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new BE(e,hE.ct);return t.Ei(n).next((function(){return t.vi(n)}))}));case 7:this.di.close(),this.ki();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Di(e.clientId)}))}},{key:"Mi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vD(t).j().next((function(t){return e.Vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.$s}},{key:"getMutationQueue",value:function(e,t){return EP.fe(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new vP(e,this.serializer.le.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return WC.fe(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;lS("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.oi)?zE:14===i?UE:13===i?jE:12===i?VE:11===i?FE:void pS();return this.di.runTransaction(e,o,s,(function(i){return a=new BE(i,r.Os?r.Os.next():hE.ct),"readwrite-primary"===t?r.Ii(a).next((function(e){return!!e||r.Ti(a)})).next((function(t){if(!t)throw hS("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.li(!1)})),new mS(yS.FAILED_PRECONDITION,YS);return n(a)})).next((function(e){return r.Ai(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return pD(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Di(e.ownerId)&&!t.Ri(e)&&!(t.ri||t.allowTabSynchronization&&e.allowTabSynchronization))throw new mS(yS.FAILED_PRECONDITION,fD)}))}},{key:"Ai",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return pD(e).put("owner",t)}},{key:"Ei",value:function(e){var t=this,n=pD(e);return n.get("owner").next((function(e){return t.Ri(e)?(lS("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ZS.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(hS("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"mi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.wi()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"gi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Ci();var e=/(?:Version|Mobile)\/1[456]/;!ll()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Ni",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Di",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return lS("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return hS("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ci",value:function(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(T){hS("Failed to set zombie client id.",T)}}},{key:"ki",value:function(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch(T){}}},{key:"Si",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return tE.D()}}]),e}();function pD(e){return qE(e,"owner")}function vD(e){return qE(e,"clientMetadata")}function gD(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yD=function(){function e(t,n,r,i){Xt(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Fi=i}return Jt(e,null,[{key:"Bi",value:function(t,n){var r,i=BT(),a=BT(),o=Gt(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),mD=function(){function e(){Xt(this,e),this.Li=!1}return Jt(e,[{key:"initialize",value:function(e,t){this.qi=e,this.indexManager=t,this.Li=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Ki(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(gT(t))return ZS.resolve(null);var r=wT(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=_T(t,null,"F"),r=wT(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=BT.apply(void 0,Yt(i));return n.qi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Qi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,_T(t,null,"F")):n.zi(e,o,t,r)}))}))})))}))}},{key:"Ki",value:function(e,t,n,r){var i=this;return gT(t)||r.isEqual(RS.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((function(a){var o=i.Qi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(cS()<=Ll.DEBUG&&lS("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),IT(t)),i.zi(e,o,t,HS(r,-1)))}))}},{key:"Qi",value:function(e,t){var n=new XE(CT(e));return t.forEach((function(t,r){TT(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return cS()<=Ll.DEBUG&&lS("QueryEngine","Using full collection scan to execute query:",IT(t)),this.qi.getDocumentsMatchingQuery(e,t,GS.min())}},{key:"zi",value:function(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),bD=function(){function e(t,n,r,i){Xt(this,e),this.persistence=t,this.Wi=n,this.serializer=i,this.Hi=new GE(PS),this.Ji=new DT((function(e){return sT(e)}),uT),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(r)}return Jt(e,[{key:"Zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JP(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Hi)}))}}]),e}();function kD(e,t,n,r){return new bD(e,t,n,r)}function wD(e,t){return xD.apply(this,arguments)}function xD(){return xD=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gS(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=BT(),u=Gt(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,h=Gt(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(b){h.e(b)}finally{h.f()}}}catch(b){u.e(b)}finally{u.f()}var d,p=Gt(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var g,y=Gt(v.mutations);try{for(y.s();!(g=y.n()).done;){var m=g.value;s=s.add(m.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{tr:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),xD.apply(this,arguments)}function _D(e,t){var n=gS(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ZS.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);vS(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=BT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function SD(e){var t=gS(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Fs.getLastRemoteSnapshotVersion(e)}))}function ED(e,t){var n=gS(e),r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(tI.EMPTY_BYTE_STRING,RS.min()).withLastLimboFreeSnapshotVersion(RS.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Fs.updateTargetData(e,c))}}));var s=OT(),u=BT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ID(e,a,t.documentUpdates).next((function(e){s=e.er,u=e.nr}))),!r.isEqual(RS.min())){var c=n.Fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return ZS.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Hi=i,e}))}function ID(e,t,n){var r=BT(),i=BT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=OT();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(RS.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):lS("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{er:r,nr:i}}))}function TD(e,t){var n=gS(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function AD(e,t){var n=gS(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Fs.getTargetData(e,t).next((function(i){return i?(r=i,ZS.resolve(r)):n.Fs.allocateTargetId(e).next((function(i){return r=new AC(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}function CD(e,t,n){return PD.apply(this,arguments)}function PD(){return PD=Dl(Cl().mark((function e(t,n,r){var i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gS(t),a=i.Hi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),iE(e.t1)){e.next=12;break}throw e.t1;case 12:lS("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Hi=i.Hi.remove(n),i.Ji.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),PD.apply(this,arguments)}function DD(e,t,n){var r=gS(e),i=RS.min(),a=BT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=gS(e),i=r.Ji.get(n);return void 0!==i?ZS.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,wT(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Wi.getDocumentsMatchingQuery(e,t,n?i:RS.min(),n?a:BT())})).next((function(e){return RD(r,AT(t),e),{documents:e,sr:a}}))}))}function ND(e,t){var n=gS(e),r=gS(n.Fs),i=n.Hi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.he(e,t).next((function(e){return e?e.target:null}))}))}function OD(e,t){var n=gS(e),r=n.Yi.get(t)||RS.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,HS(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return RD(n,t,e),e}))}function RD(e,t,n){var r=e.Yi.get(t)||RS.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}function MD(e,t,n,r){return LD.apply(this,arguments)}function LD(){return LD=Dl(Cl().mark((function e(t,n,r,i){var a,o,s,u,c,l,h,f,d,p;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=gS(t),o=BT(),s=OT(),u=Gt(r);try{for(u.s();!(c=u.n()).done;)l=c.value,h=n.ir(l.metadata.name),l.document&&(o=o.add(h)),(f=n.rr(l)).setReadTime(n.ur(l.metadata.readTime)),s=s.insert(h,f)}catch(v){u.e(v)}finally{u.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,AD(a,function(e){return wT(vT(LS.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ID(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.er,t.nr)})).next((function(){return t.er}))}))})));case 9:case"end":return e.stop()}}),e)}))),LD.apply(this,arguments)}function FD(e,t){return VD.apply(this,arguments)}function VD(){return VD=Dl(Cl().mark((function e(t,n){var r,i,a,o=arguments;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:BT(),e.next=3,AD(t,wT(FC(n.bundledQuery)));case 3:return i=e.sent,a=gS(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=nC(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ls.saveNamedQuery(e,n);var o=i.withResumeToken(tI.EMPTY_BYTE_STRING,t);return a.Hi=a.Hi.insert(o.targetId,o),a.Fs.updateTargetData(e,o).next((function(){return a.Fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ls.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),VD.apply(this,arguments)}function jD(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function UD(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function zD(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var BD=function(){function e(t,n,r,i){Xt(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Jt(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new mS(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(hS("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),qD=function(){function e(t,n,r){Xt(this,e),this.targetId=t,this.state=n,this.error=r}return Jt(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new mS(i.error.code,i.error.message))),a?new e(t,i.state,r):(hS("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),WD=function(){function e(t,n){Xt(this,e),this.clientId=t,this.activeTargetIds=n}return Jt(e,null,[{key:"cr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=WT(),o=0;i&&o<r.activeTargetIds.length;++o)i=pE(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(hS("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),HD=function(){function e(t,n){Xt(this,e),this.clientId=t,this.onlineState=n}return Jt(e,null,[{key:"cr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(hS("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),KD=function(){function e(){Xt(this,e),this.activeTargetIds=WT()}return Jt(e,[{key:"hr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ar",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),GD=function(){function e(t,n,r,i,a){Xt(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new GE(PS),this.started=!1,this.gr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=jD(this.persistenceKey,this.dr),this.pr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.mr=this.mr.insert(this.dr,new KD),this.Ir=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Tr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Er=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ar=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return Jt(e,[{key:"start",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,f=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Mi();case 2:t=e.sent,n=Gt(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.dr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(jD(this.persistenceKey,i)))&&(o=WD.cr(i,a))&&(this.mr=this.mr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.vr(),(s=this.storage.getItem(this.Ar))&&(u=this.Pr(s))&&this.br(u),c=Gt(this.gr);try{for(c.s();!(l=c.n()).done;)h=l.value,this.wr(h)}catch(d){c.e(d)}finally{c.f()}this.gr=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.pr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Vr(this.mr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.mr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Sr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Sr(e,t,n),this.Dr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(zD(this.persistenceKey,e));if(n){var r=qD.cr(e,n);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Cr.lr(e),this.vr()}},{key:"isLocalQueryTarget",value:function(e){return this.Cr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(zD(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Nr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Dr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.kr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Mr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return lS("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){lS("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){lS("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"wr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(lS("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yr)return void hS("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(Dl(Cl().mark((function e(){var r,i,a,o,s,u,c;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ir.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.$r(r,null));case 6:if(!(i=t.Fr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$r(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Tr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Br(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Lr(a));case 16:e.next=41;break;case 18:if(!t.Er.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.qr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ur(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ar){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.br(s));case 30:e.next=41;break;case 32:if(n.key!==t.pr){e.next=37;break}u=function(e){var t=hE.ct;if(null!=e)try{var n=JSON.parse(e);vS("number"==typeof n),t=n}catch(e){hS("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==hE.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gr(e)})));case 41:e.next=44;break;case 43:t.gr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Cr",get:function(){return this.mr.get(this.dr)}},{key:"vr",value:function(){this.setItem(this.yr,this.Cr.ar())}},{key:"Sr",value:function(e,t,n){var r=new BD(this.currentUser,e,t,n),i=UD(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ar())}},{key:"Dr",value:function(e){var t=UD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"kr",value:function(e){var t={clientId:this.dr,onlineState:e};this.storage.setItem(this.Ar,JSON.stringify(t))}},{key:"Nr",value:function(e,t,n){var r=zD(this.persistenceKey,e),i=new qD(e,t,n);this.setItem(r,i.ar())}},{key:"Mr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Ir.exec(e);return t?t[1]:null}},{key:"Fr",value:function(e,t){var n=this.Or(e);return WD.cr(n,t)}},{key:"Br",value:function(e,t){var n=this.Tr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return BD.cr(new oS(i),r,t)}},{key:"qr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]);return qD.cr(r,t)}},{key:"Pr",value:function(e){return HD.cr(e)}},{key:"Kr",value:function(e){return JSON.parse(e)}},{key:"Lr",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Qr(t.batchId,t.state,t.error));case 2:lS("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ur",value:function(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}},{key:"$r",value:function(e,t){var n=this,r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.zr(o,s).then((function(){n.mr=r}))}},{key:"br",value:function(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Vr",value:function(e){var t=WT();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),QD=function(){function e(){Xt(this,e),this.Wr=new KD,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Jt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Hr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Wr.lr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Hr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Wr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Wr=new KD,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),YD=function(){function e(){Xt(this,e)}return Jt(e,[{key:"Jr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),XD=function(){function e(){var t=this;Xt(this,e),this.Yr=function(){return t.Xr()},this.Zr=function(){return t.eo()},this.no=[],this.so()}return Jt(e,[{key:"Jr",value:function(e){this.no.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}},{key:"so",value:function(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}},{key:"Xr",value:function(){lS("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Gt(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"eo",value:function(){lS("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Gt(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),$D=null;function JD(){return null===$D?$D=268435456+Math.round(2147483648*Math.random()):$D++,"0x"+$D.toString(16)}var ZD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},eN=function(){function e(t){Xt(this,e),this.io=t.io,this.ro=t.ro}return Jt(e,[{key:"oo",value:function(e){this.uo=e}},{key:"co",value:function(e){this.ao=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this.ro()}},{key:"send",value:function(e){this.io(e)}},{key:"lo",value:function(){this.uo()}},{key:"fo",value:function(e){this.ao(e)}},{key:"_o",value:function(e){this.ho(e)}}]),e}(),tN="WebChannelConnection",nN=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Jt(n,[{key:"Eo",value:function(e,t,n,r){var i=JD();return new Promise((function(a,o){var s=new nS;s.setWithCredentials(!0),s.listenOnce($_.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case X_.NO_ERROR:var t=s.getResponseJson();lS(tN,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case X_.TIMEOUT:lS(tN,"RPC '".concat(e,"' ").concat(i," timed out")),o(new mS(yS.DEADLINE_EXCEEDED,"Request time out"));break;case X_.HTTP_ERROR:var n=s.getStatus();if(lS(tN,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(yS).indexOf(t)>=0?t:yS.UNKNOWN}(u.status);o(new mS(c,u.message))}else o(new mS(yS.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new mS(yS.UNAVAILABLE,"Connection failed."));break;default:pS()}}finally{lS(tN,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);lS(tN,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=JD(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Q_(),o=Y_(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new eS({})),this.To(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");lS(tN,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,h=!1,f=new eN({io:function(t){h?lS(tN,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(lS(tN,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),lS(tN,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ro:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,tS.EventType.OPEN,(function(){h||lS(tN,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,tS.EventType.CLOSE,(function(){h||(h=!0,lS(tN,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.fo())})),d(c,tS.EventType.ERROR,(function(t){h||(h=!0,fS(tN,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.fo(new mS(yS.UNAVAILABLE,"The operation could not be completed")))})),d(c,tS.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];vS(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){lS(tN,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=wA[e];if(void 0!==t)return PA(t)}(s),l=o.message;void 0===u&&(u=yS.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),h=!0,f.fo(new mS(u,l)),c.close()}else lS(tN,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),d(o,J_.STAT_EVENT,(function(t){t.stat===Z_.PROXY?lS(tN,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Z_.NOPROXY&&lS(tN,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){f.lo()}),0),f}}]),n}(function(){function e(t){Xt(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Jt(e,[{key:"yo",get:function(){return!1}},{key:"po",value:function(e,t,n,r,i){var a=JD(),o=this.Io(e,t);lS("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.To(s,r,i),this.Eo(e,o,s,n).then((function(t){return lS("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw fS("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Ao",value:function(e,t,n,r,i,a){return this.po(e,t,n,r,i)}},{key:"To",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sS,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Io",value:function(e,t){var n=ZD[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}}]),e}());function rN(){return"undefined"!=typeof window?window:null}function iN(){return"undefined"!=typeof document?document:null}function aN(e){return new $A(e,!0)}var oN=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Xt(this,e),this.si=t,this.timerId=n,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}return Jt(e,[{key:"reset",value:function(){this.Vo=0}},{key:"Co",value:function(){this.Vo=this.bo}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&lS("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.So=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Do=Date.now(),e()})),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}},{key:"ko",value:function(){null!==this.So&&(this.So.skipDelay(),this.So=null)}},{key:"cancel",value:function(){null!==this.So&&(this.So.cancel(),this.So=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Vo}}]),e}(),sN=function(){function e(t,n,r,i,a,o,s,u){Xt(this,e),this.si=t,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new oN(t,n)}return Jt(e,[{key:"qo",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Ko()}},{key:"stop",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.qo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Lo.reset()}},{key:"Qo",value:function(){var e=this;this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(function(){return e.jo()})))}},{key:"zo",value:function(e){this.Wo(),this.stream.send(e)}},{key:"jo",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"close",value:function(){var e=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():n&&n.code===yS.RESOURCE_EXHAUSTED?(hS(n.toString()),hS("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===yS.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Kt(t,2),i=r[0],a=r[1];e.$o===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new mS(yS.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Zo(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((function(){r((function(){return n.state=2,n.Bo=n.si.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener.oo()}))})),this.stream.co((function(e){r((function(){return n.Zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Ko",value:function(){var e=this;this.state=5,this.Lo.xo(Dl(Cl().mark((function t(){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Zo",value:function(e){return lS("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Yo",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.$o===e?n():(lS("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),uN=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a,o,s){var u;return Xt(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return Jt(n,[{key:"tu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.Lo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:pS()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(vS(void 0===t||"string"==typeof t),tI.fromBase64String(t||"")):(vS(void 0===t||t instanceof Uint8Array),tI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?yS.UNKNOWN:PA(e.code);return new mS(t,e.message||"")}(o);n=new qA(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=oC(e,u.document.name),l=nC(u.document.updateTime),h=u.document.createTime?nC(u.document.createTime):RS.min(),f=new NI({mapValue:{fields:u.document.fields}}),d=RI.newFoundDocument(c,l,h,f),p=u.targetIds||[],v=u.removedTargetIds||[];n=new zA(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var g=t.documentDelete;g.document;var y=oC(e,g.document),m=g.readTime?nC(g.readTime):RS.min(),b=RI.newNoDocument(y,m),k=g.removedTargetIds||[];n=new zA([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=oC(e,w.document),_=w.removedTargetIds||[];n=new zA([],_,x,null)}else{if(!("filter"in t))return pS();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,T=S.unchangedNames,A=new AA(I,T),C=S.targetId;n=new BA(C,A)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return RS.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?RS.min():t.readTime?nC(t.readTime):RS.min()}(e);return this.listener.eu(t,n)}},{key:"nu",value:function(e){var t={};t.database=cC(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=cT(r)?{documents:gC(e,r)}:{query:yC(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=eC(e,t.resumeToken);var i=JA(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(RS.min())>0){n.readTime=ZA(e,t.snapshotVersion.toTimestamp());var a=JA(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pS()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}},{key:"su",value:function(e){var t={};t.database=cC(this.serializer),t.removeTarget=e,this.zo(t)}}]),n}(sN),cN=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a,o,s){var u;return Xt(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.iu=!1,u}return Jt(n,[{key:"ru",get:function(){return this.iu}},{key:"start",value:function(){this.iu=!1,this.lastStreamToken=void 0,Ft(Lt(n.prototype),"start",this).call(this)}},{key:"Jo",value:function(){this.iu&&this.ou([])}},{key:"tu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(vS(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();var t=function(e,t){return e&&e.length>0?(vS(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?nC(e.updateTime):nC(t);return n.isEqual(RS.min())&&(n=nC(t)),new sA(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=nC(e.commitTime);return this.listener.uu(n,t)}return vS(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}},{key:"au",value:function(){var e={};e.database=cC(this.serializer),this.zo(e)}},{key:"ou",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return pC(t.serializer,e)}))};this.zo(n)}}]),n}(sN),lN=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a){var o;return Xt(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.hu=!1,o}return Jt(n,[{key:"lu",value:function(){if(this.hu)throw new mS(yS.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"po",value:function(e,t,n){var r=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Kt(i,2),o=a[0],s=a[1];return r.connection.po(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yS.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new mS(yS.UNKNOWN,e.toString())}))}},{key:"Ao",value:function(e,t,n,r){var i=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Kt(a,2),s=o[0],u=o[1];return i.connection.Ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===yS.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new mS(yS.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.hu=!0}}]),n}(function(){return Jt((function e(){Xt(this,e)}))}());var hN=function(){function e(t,n){Xt(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}return Jt(e,[{key:"mu",value:function(){var e=this;0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.yu("Backend didn't respond within 10 seconds."),e.gu("Offline"),Promise.resolve()})))}},{key:"pu",value:function(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.gu("Offline")))}},{key:"set",value:function(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}},{key:"gu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"yu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.wu?(hS(t),this.wu=!1):lS("OnlineStateTracker",t)}},{key:"Iu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),fN=Jt((function e(t,n,r,i,a){var o=this;Xt(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr((function(e){r.enqueueAndForget(Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=_N(o),!e.t0){e.next=5;break}return lS("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gS(t)).Au.add(4),e.next=4,vN(n);case 4:return n.Pu.set("Unknown"),n.Au.delete(4),e.next=8,dN(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Pu=new hN(r,i)}));function dN(e){return pN.apply(this,arguments)}function pN(){return pN=Dl(Cl().mark((function e(t){var n,r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_N(t)){e.next=18;break}n=Gt(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),pN.apply(this,arguments)}function vN(e){return gN.apply(this,arguments)}function gN(){return gN=Dl(Cl().mark((function e(t){var n,r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Gt(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),gN.apply(this,arguments)}function yN(e,t){var n=gS(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),xN(n)?wN(n):JN(n).Uo()&&bN(n,t))}function mN(e,t){var n=gS(e),r=JN(n);n.Eu.delete(t),r.Uo()&&kN(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():_N(n)&&n.Pu.set("Unknown"))}function bN(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(RS.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}JN(e).nu(t)}function kN(e,t){e.bu.Lt(t),JN(e).su(t)}function wN(e){e.bu=new HA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},he:function(t){return e.Eu.get(t)||null},oe:function(){return e.datastore.serializer.databaseId}}),JN(e).start(),e.Pu.mu()}function xN(e){return _N(e)&&!JN(e).qo()&&e.Eu.size>0}function _N(e){return 0===gS(e).Au.size}function SN(e){e.bu=void 0}function EN(e){return IN.apply(this,arguments)}function IN(){return IN=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Eu.forEach((function(e,n){bN(t,e)}));case 1:case"end":return e.stop()}}),e)}))),IN.apply(this,arguments)}function TN(e,t){return AN.apply(this,arguments)}function AN(){return AN=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:SN(t),xN(t)?(t.Pu.pu(n),wN(t)):t.Pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),AN.apply(this,arguments)}function CN(e,t,n){return PN.apply(this,arguments)}function PN(){return PN=Dl(Cl().mark((function e(t,n,r){var i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Pu.set("Online"),!(n instanceof qA&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Dl(Cl().mark((function e(t,n){var r,i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Gt(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Eu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Eu.delete(o),t.bu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),lS("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,DN(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof zA?t.bu.Wt(n):n instanceof BA?t.bu.ee(n):t.bu.Yt(n),r.isEqual(RS.min())){e.next=29;break}return e.prev=14,e.next=17,SD(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.bu.ue(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Eu.get(t);if(r){e.Eu.set(t,r.withResumeToken(tI.EMPTY_BYTE_STRING,r.snapshotVersion)),kN(e,t);var i=new AC(r.target,t,n,r.sequenceNumber);bN(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),lS("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,DN(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),PN.apply(this,arguments)}function DN(e,t,n){return NN.apply(this,arguments)}function NN(){return NN=Dl(Cl().mark((function e(t,n,r){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iE(n)){e.next=2;break}throw n;case 2:return t.Au.add(1),e.next=5,vN(t);case 5:t.Pu.set("Offline"),r||(r=function(){return SD(t.localStore)}),t.asyncQueue.enqueueRetryable(Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lS("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Au.delete(1),e.next=6,dN(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),NN.apply(this,arguments)}function ON(e,t){return t().catch((function(n){return DN(e,n,t)}))}function RN(e){return MN.apply(this,arguments)}function MN(){return MN=Dl(Cl().mark((function e(t){var n,r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=gS(t),r=ZN(n),i=n.Tu.length>0?n.Tu[n.Tu.length-1].batchId:-1;case 2:if(!LN(n)){e.next=19;break}return e.prev=3,e.next=6,TD(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Tu.length&&r.Qo(),e.abrupt("break",19);case 10:i=a.batchId,FN(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,DN(n,e.t0);case 17:e.next=2;break;case 19:VN(n)&&jN(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),MN.apply(this,arguments)}function LN(e){return _N(e)&&e.Tu.length<10}function FN(e,t){e.Tu.push(t);var n=ZN(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function VN(e){return _N(e)&&!ZN(e).qo()&&e.Tu.length>0}function jN(e){ZN(e).start()}function UN(e){return zN.apply(this,arguments)}function zN(){return zN=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ZN(t).au();case 1:case"end":return e.stop()}}),e)}))),zN.apply(this,arguments)}function BN(e){return qN.apply(this,arguments)}function qN(){return qN=Dl(Cl().mark((function e(t){var n,r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ZN(t),r=Gt(t.Tu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.ou(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),qN.apply(this,arguments)}function WN(e,t,n){return HN.apply(this,arguments)}function HN(){return HN=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Tu.shift(),a=IA.from(i,n,r),e.next=3,ON(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,RN(t);case 5:case"end":return e.stop()}}),e)}))),HN.apply(this,arguments)}function KN(e,t){return GN.apply(this,arguments)}function GN(){return GN=Dl(Cl().mark((function e(t,n){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ZN(t).ru,!e.t0){e.next=4;break}return e.next=4,function(){var e=Dl(Cl().mark((function e(t,n){var r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!CA(i=n.code)||i===yS.ABORTED){e.next=7;break}return r=t.Tu.shift(),ZN(t).Go(),e.next=5,ON(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,RN(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:VN(t)&&jN(t);case 5:case"end":return e.stop()}}),e)}))),GN.apply(this,arguments)}function QN(e,t){return YN.apply(this,arguments)}function YN(){return YN=Dl(Cl().mark((function e(t,n){var r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=gS(t)).asyncQueue.verifyOperationInProgress(),lS("RemoteStore","RemoteStore received new credentials"),i=_N(r),r.Au.add(3),e.next=6,vN(r);case 6:return i&&r.Pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Au.delete(3),e.next=12,dN(r);case 12:case"end":return e.stop()}}),e)}))),YN.apply(this,arguments)}function XN(e,t){return $N.apply(this,arguments)}function $N(){return $N=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gS(t),!n){e.next=7;break}return r.Au.delete(2),e.next=5,dN(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Au.add(2),e.next=12,vN(r);case 12:r.Pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),$N.apply(this,arguments)}function JN(e){return e.Vu||(e.Vu=function(e,t,n){var r=gS(e);return r.lu(),new uN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:EN.bind(null,e),co:TN.bind(null,e),eu:CN.bind(null,e)}),e.Ru.push(function(){var t=Dl(Cl().mark((function t(n){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Vu.Go(),xN(e)?wN(e):e.Pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Vu.stop();case 6:SN(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Vu}function ZN(e){return e.Su||(e.Su=function(e,t,n){var r=gS(e);return r.lu(),new cN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:UN.bind(null,e),co:KN.bind(null,e),cu:BN.bind(null,e),uu:WN.bind(null,e)}),e.Ru.push(function(){var t=Dl(Cl().mark((function t(n){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Su.Go(),t.next=4,RN(e);case 4:t.next=9;break;case 6:return t.next=8,e.Su.stop();case 8:e.Tu.length>0&&(lS("RemoteStore","Stopping write stream with ".concat(e.Tu.length," pending writes")),e.Tu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}var eO=function(){function e(t,n,r,i,a){Xt(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new bS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Jt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mS(yS.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function tO(e,t){if(hS("AsyncQueue","".concat(t,": ").concat(e)),iE(e))return new mS(yS.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var nO=function(){function e(t){Xt(this,e),this.comparator=t?function(e,n){return t(e,n)||jS.comparator(e.key,n.key)}:function(e,t){return jS.comparator(e.key,t.key)},this.keyedMap=MT(),this.sortedSet=new GE(this.comparator)}return Jt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),rO=function(){function e(){Xt(this,e),this.Du=new GE(jS.comparator)}return Jt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):pS():this.Du=this.Du.insert(t,e)}},{key:"Cu",value:function(){var e=[];return this.Du.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),iO=function(){function e(t,n,r,i,a,o,s,u,c){Xt(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return Jt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ST(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,nO.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),aO=Jt((function e(){Xt(this,e),this.xu=void 0,this.listeners=[]})),oO=Jt((function e(){Xt(this,e),this.queries=new DT((function(e){return ET(e)}),ST),this.onlineState="Unknown",this.Nu=new Set}));function sO(e,t){return uO.apply(this,arguments)}function uO(){return uO=Dl(Cl().mark((function e(t,n){var r,i,a,o,s;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gS(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new aO),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.xu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=tO(e.t0,"Initialization of query '".concat(IT(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ku(r.onlineState),o.xu&&n.Mu(o.xu)&&dO(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),uO.apply(this,arguments)}function cO(e,t){return lO.apply(this,arguments)}function lO(){return lO=Dl(Cl().mark((function e(t,n){var r,i,a,o,s;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gS(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),lO.apply(this,arguments)}function hO(e,t){var n,r=gS(e),i=!1,a=Gt(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Gt(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Mu(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.xu=o}}}catch(h){a.e(h)}finally{a.f()}i&&dO(r)}function fO(e,t,n){var r=gS(e),i=r.queries.get(t);if(i){var a,o=Gt(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function dO(e){e.Nu.forEach((function(e){e.next()}))}var pO=function(){function e(t,n,r){Xt(this,e),this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}return Jt(e,[{key:"Mu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Gt(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new iO(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),a=!0):this.Lu(e,this.onlineState)&&(this.qu(e),a=!0),this.Fu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"ku",value:function(e){this.onlineState=e;var t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}},{key:"Lu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Bu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"qu",value:function(e){e=iO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}]),e}(),vO=function(){function e(t,n){Xt(this,e),this.Ku=t,this.byteLength=n}return Jt(e,[{key:"Gu",value:function(){return"metadata"in this.Ku}}]),e}(),gO=function(){function e(t){Xt(this,e),this.serializer=t}return Jt(e,[{key:"ir",value:function(e){return oC(this.serializer,e)}},{key:"rr",value:function(e){return e.metadata.exists?fC(this.serializer,e.document,!1):RI.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}},{key:"ur",value:function(e){return nC(e)}}]),e}(),yO=function(){function e(t,n,r){Xt(this,e),this.Qu=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mO(t)}return Jt(e,[{key:"ju",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;var n=LS.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"zu",value:function(e){var t,n=new Map,r=new gO(this.serializer),i=Gt(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.ir(a.metadata.name),u=Gt(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||BT()).add(s);n.set(c,l)}}catch(h){u.e(h)}finally{u.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,MD(this.localStore,new gO(this.serializer),this.documents,this.Qu.id);case 2:t=e.sent,n=this.zu(this.documents),r=Gt(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,FD(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Wu:this.collectionGroups,Hu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function mO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var bO=Jt((function e(t){Xt(this,e),this.key=t})),kO=Jt((function e(t){Xt(this,e),this.key=t})),wO=function(){function e(t,n){Xt(this,e),this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=BT(),this.mutatedKeys=BT(),this.Zu=CT(t),this.tc=new nO(this.Zu)}return Jt(e,[{key:"ec",get:function(){return this.Ju}},{key:"nc",value:function(e,t){var n=this,r=t?t.sc:new rO,i=t?t.tc:this.tc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=TT(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.ic(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Zu(h,u)>0||c&&n.Zu(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{tc:o,sc:r,ji:s,mutatedKeys:a}}},{key:"ic",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;var a=e.sc.Cu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pS()}};return n(e)-n(t)}(e.type,t.type)||r.Zu(e.doc,t.doc)})),this.rc(n);var o=t?this.oc():[],s=0===this.Xu.size&&this.current?1:0,u=s!==this.Yu;return this.Yu=s,0!==a.length||u?{snapshot:new iO(this.query,e.tc,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}},{key:"ku",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new rO,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}},{key:"cc",value:function(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}},{key:"rc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ju=t.Ju.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ju=t.Ju.delete(e)})),this.current=e.current)}},{key:"oc",value:function(){var e=this;if(!this.current)return[];var t=this.Xu;this.Xu=BT(),this.tc.forEach((function(t){e.cc(t.key)&&(e.Xu=e.Xu.add(t.key))}));var n=[];return t.forEach((function(t){e.Xu.has(t)||n.push(new kO(t))})),this.Xu.forEach((function(e){t.has(e)||n.push(new bO(e))})),n}},{key:"ac",value:function(e){this.Ju=e.sr,this.Xu=BT();var t=this.nc(e.documents);return this.applyChanges(t,!0)}},{key:"hc",value:function(){return iO.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}]),e}(),xO=Jt((function e(t,n,r){Xt(this,e),this.query=t,this.targetId=n,this.view=r})),_O=Jt((function e(t){Xt(this,e),this.key=t,this.lc=!1})),SO=function(){function e(t,n,r,i,a,o){Xt(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new DT((function(e){return ET(e)}),ST),this._c=new Map,this.wc=new Set,this.mc=new GE(jS.comparator),this.gc=new Map,this.yc=new tD,this.Ic={},this.Tc=new Map,this.Ec=PP.kn(),this.onlineState="Unknown",this.Ac=void 0}return Jt(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ac}}]),e}();function EO(e,t){return IO.apply(this,arguments)}function IO(){return IO=Dl(Cl().mark((function e(t,n){var r,i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=mR(t),!(o=r.dc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.hc(),e.next=15;break;case 6:return e.next=8,AD(r.localStore,wT(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,TO(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&yN(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),IO.apply(this,arguments)}function TO(e,t,n,r,i){return AO.apply(this,arguments)}function AO(){return AO=Dl(Cl().mark((function e(t,n,r,i,a){var o,s,u,c,l,h;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Dl(Cl().mark((function e(t,n,r,i){var a,o,s;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.nc(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,DD(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.nc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(QO(t,n.targetId,s.uc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,DD(t.localStore,n,!0);case 3:return o=e.sent,s=new wO(n,o.sr),u=s.nc(o.documents),c=UA.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),QO(t,r,l.uc),h=new xO(n,r,s),e.abrupt("return",(t.dc.set(n,h),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),AO.apply(this,arguments)}function CO(e,t){return PO.apply(this,arguments)}function PO(){return PO=Dl(Cl().mark((function e(t,n){var r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gS(t),i=r.dc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!ST(e,n)}))),void r.dc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,CD(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),mN(r.remoteStore,i.targetId),KO(r,i.targetId)})).catch($S);case 9:e.next=14;break;case 11:return KO(r,i.targetId),e.next=14,CD(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),PO.apply(this,arguments)}function DO(e,t,n){return NO.apply(this,arguments)}function NO(){return NO=Dl(Cl().mark((function e(t,n,r){var i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=bR(t),e.prev=1,e.next=4,function(e,t){var n,r,i=gS(e),a=OS.now(),o=t.reduce((function(e,t){return e.add(t.key)}),BT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=OT(),u=BT();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Gt(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=pA(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new yA(c.key,l,OI(l.value.mapValue),uA.exists(!0)))}}catch(h){u.e(h)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:LT(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ic[e.currentUser.toKey()];r||(r=new GE(PS)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,$O(i,a.changes);case 9:return e.next=11,RN(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=tO(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),NO.apply(this,arguments)}function OO(e,t){return RO.apply(this,arguments)}function RO(){return RO=Dl(Cl().mark((function e(t,n){var r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gS(t),e.prev=1,e.next=4,ED(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.gc.get(t);n&&(vS(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.lc=!0:e.modifiedDocuments.size>0?vS(n.lc):e.removedDocuments.size>0&&(vS(n.lc),n.lc=!1))})),e.next=8,$O(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,$S(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),RO.apply(this,arguments)}function MO(e,t,n){var r=gS(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.dc.forEach((function(e,n){var r=n.view.ku(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=gS(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Gt(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ku(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&dO(n)}(r.eventManager,t),i.length&&r.fc.eu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function LO(e,t,n){return FO.apply(this,arguments)}function FO(){return FO=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u,c;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=gS(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.gc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new GE(jS.comparator)).insert(o,RI.newNoDocument(o,RS.min())),u=BT().add(o),c=new jA(RS.min(),new Map,new GE(PS),s,u),e.next=9,OO(i,c);case 9:i.mc=i.mc.remove(o),i.gc.delete(n),XO(i),e.next=16;break;case 14:return e.next=16,CD(i.localStore,n,!1).then((function(){return KO(i,n,r)})).catch($S);case 16:case"end":return e.stop()}}),e)}))),FO.apply(this,arguments)}function VO(e,t){return jO.apply(this,arguments)}function jO(){return jO=Dl(Cl().mark((function e(t,n){var r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gS(t),i=n.batch.batchId,e.prev=1,e.next=4,_D(r.localStore,n);case 4:return a=e.sent,HO(r,i,null),WO(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,$O(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,$S(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),jO.apply(this,arguments)}function UO(e,t,n){return zO.apply(this,arguments)}function zO(){return zO=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gS(t),e.prev=1,e.next=4,function(e,t){var n=gS(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return vS(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,HO(i,n,r),WO(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,$O(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,$S(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zO.apply(this,arguments)}function BO(e,t){return qO.apply(this,arguments)}function qO(){return qO=Dl(Cl().mark((function e(t,n){var r,i,a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _N((r=gS(t)).remoteStore)||lS("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=gS(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Tc.get(i)||[]).push(n),r.Tc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=tO(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),qO.apply(this,arguments)}function WO(e,t){(e.Tc.get(t)||[]).forEach((function(e){e.resolve()})),e.Tc.delete(t)}function HO(e,t,n){var r=gS(e),i=r.Ic[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function KO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Gt(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.dc.delete(a),n&&e.fc.vc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((function(t){e.yc.containsKey(t)||GO(e,t)}))}function GO(e,t){e.wc.delete(t.path.canonicalString());var n=e.mc.get(t);null!==n&&(mN(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),XO(e))}function QO(e,t,n){var r,i=Gt(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof bO?(e.yc.addReference(a.key,t),YO(e,a)):a instanceof kO?(lS("SyncEngine","Document no longer in limbo: "+a.key),e.yc.removeReference(a.key,t),e.yc.containsKey(a.key)||GO(e,a.key)):pS()}}catch(o){i.e(o)}finally{i.f()}}function YO(e,t){var n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(lS("SyncEngine","New document in limbo: "+n),e.wc.add(r),XO(e))}function XO(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t=e.wc.values().next().value;e.wc.delete(t);var n=new jS(LS.fromString(t)),r=e.Ec.next();e.gc.set(r,new _O(n)),e.mc=e.mc.insert(n,r),yN(e.remoteStore,new AC(wT(vT(n.path)),r,"TargetPurposeLimboResolution",hE.ct))}}function $O(e,t,n){return JO.apply(this,arguments)}function JO(){return JO=Dl(Cl().mark((function e(t,n,r){var i,a,o,s;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=gS(t),a=[],o=[],s=[],e.t0=i.dc.isEmpty(),e.t0){e.next=9;break}return i.dc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=yD.Bi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.fc.eu(a),e.next=9,function(){var e=Dl(Cl().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gS(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ZS.forEach(n,(function(t){return ZS.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ZS.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),iE(e.t0)){e.next=10;break}throw e.t0;case 10:lS("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Gt(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Hi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Hi=r.Hi.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),JO.apply(this,arguments)}function ZO(e,t){return eR.apply(this,arguments)}function eR(){return eR=Dl(Cl().mark((function e(t,n){var r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=gS(t)).currentUser.isEqual(n)){e.next=11;break}return lS("SyncEngine","User change. New user:",n.toKey()),e.next=5,wD(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Tc.forEach((function(e){e.forEach((function(e){e.reject(new mS(yS.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Tc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,$O(r,i.tr);case 11:case"end":return e.stop()}}),e)}))),eR.apply(this,arguments)}function tR(e,t){var n=gS(e),r=n.gc.get(t);if(r&&r.lc)return BT().add(r.key);var i=BT(),a=n._c.get(t);if(!a)return i;var o,s=Gt(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.dc.get(u);i=i.unionWith(c.view.ec)}}catch(l){s.e(l)}finally{s.f()}return i}function nR(e,t){return rR.apply(this,arguments)}function rR(){return rR=Dl(Cl().mark((function e(t,n){var r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gS(t),e.next=3,DD(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ac(i),e.abrupt("return",(r.isPrimaryClient&&QO(r,n.targetId,a.uc),a));case 6:case"end":return e.stop()}}),e)}))),rR.apply(this,arguments)}function iR(e,t){return aR.apply(this,arguments)}function aR(){return aR=Dl(Cl().mark((function e(t,n){var r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gS(t),e.abrupt("return",OD(r.localStore,n).then((function(e){return $O(r,e)})));case 2:case"end":return e.stop()}}),e)}))),aR.apply(this,arguments)}function oR(e,t,n,r){return sR.apply(this,arguments)}function sR(){return sR=Dl(Cl().mark((function e(t,n,r,i){var a,o;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gS(t),e.next=3,function(e,t){var n=gS(e),r=gS(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ZS.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,RN(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(HO(a,n,i||null),WO(a,n),function(e,t){gS(gS(e).mutationQueue).Dn(t)}(a.localStore,n)):pS();case 11:return e.next=13,$O(a,o);case 13:e.next=16;break;case 15:lS("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),sR.apply(this,arguments)}function uR(e,t){return cR.apply(this,arguments)}function cR(){return cR=Dl(Cl().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mR(r=gS(t)),bR(r),!0!==n||!0===r.Ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,lR(r,i.toArray());case 5:return a=e.sent,r.Ac=!0,e.next=9,XN(r.remoteStore,!0);case 9:o=Gt(a);try{for(o.s();!(s=o.n()).done;)u=s.value,yN(r.remoteStore,u)}catch(h){o.e(h)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ac){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return KO(r,t),CD(r.localStore,t,!0)})),mN(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,lR(r,c);case 21:return function(e){var t=gS(e);t.gc.forEach((function(e,n){mN(t.remoteStore,n)})),t.yc.Is(),t.gc=new Map,t.mc=new GE(jS.comparator)}(r),r.Ac=!1,e.next=25,XN(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),cR.apply(this,arguments)}function lR(e,t,n){return hR.apply(this,arguments)}function hR(){return hR=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f,d,p,v,g,y;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=gS(t),a=[],o=[],s=Gt(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(h=i._c.get(c))||0===h.length){e.next=34;break}return e.next=11,AD(i.localStore,wT(h[0]));case 11:l=e.sent,f=Gt(h),e.prev=13,f.s();case 15:if((d=f.n()).done){e.next=24;break}return p=d.value,v=i.dc.get(p),e.next=20,nR(i,v);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),f.e(e.t0);case 29:return e.prev=29,f.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ND(i.localStore,c);case 36:return y=e.sent,e.next=39,AD(i.localStore,y);case 39:return l=e.sent,e.next=42,TO(i,fR(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.fc.eu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),hR.apply(this,arguments)}function fR(e){return pT(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function dR(e){var t=gS(e);return gS(gS(t.localStore).persistence).Mi()}function pR(e,t,n,r){return vR.apply(this,arguments)}function vR(){return vR=Dl(Cl().mark((function e(t,n,r,i){var a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=gS(t)).Ac){e.next=3;break}return e.abrupt("return",void lS("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,OD(a.localStore,AT(o[0]));case 10:return s=e.sent,u=jA.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,tI.EMPTY_BYTE_STRING),e.next=14,$O(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,CD(a.localStore,n,!0);case 17:return KO(a,n,i),e.abrupt("break",20);case 19:pS();case 20:case"end":return e.stop()}}),e)}))),vR.apply(this,arguments)}function gR(e,t,n){return yR.apply(this,arguments)}function yR(){return yR=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=mR(t)).Ac){e.next=45;break}a=Gt(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return lS("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,ND(i.localStore,s);case 12:return u=e.sent,e.next=15,AD(i.localStore,u);case 15:return c=e.sent,e.next=18,TO(i,fR(u),c.targetId,!1,c.resumeToken);case 18:yN(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Gt(r),e.prev=30,f=Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,CD(i.localStore,t,!1).then((function(){mN(i.remoteStore,t),KO(i,t)})).catch($S);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((h=l.n()).done){e.next=37;break}return e.delegateYield(f(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),yR.apply(this,arguments)}function mR(e){var t=gS(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=OO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=tR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LO.bind(null,t),t.fc.eu=hO.bind(null,t.eventManager),t.fc.vc=fO.bind(null,t.eventManager),t}function bR(e){var t=gS(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=UO.bind(null,t),t}function kR(e,t,n){var r=gS(e);(function(){var e=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=gS(e),r=nC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ls.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(mO(i)),a=new yO(i,t.localStore,n.serializer),e.next=15,n.Pc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ju(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Pc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,$O(t,u.Hu,void 0);case 31:return e.next=33,function(e,t){var n=gS(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ls.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Wu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(fS("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var wR=function(){function e(){Xt(this,e),this.synchronizeTabs=!1}return Jt(e,[{key:"initialize",value:function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=aN(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return kD(this.persistence,new mD,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new sD(cD.js,this.serializer)}},{key:"createSharedClientState",value:function(e){return new QD}},{key:"terminate",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),xR=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Jt(n,[{key:"initialize",value:function(){var e=Dl(Cl().mark((function e(t){var r=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(Lt(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,bR(this.bc.syncEngine);case 6:return e.next=8,RN(this.bc.remoteStore);case 8:return e.next=10,this.persistence.pi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return kD(this.persistence,new mD,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new FP(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new lE(t,this.persistence);return new cE(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=gD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?xP.withCacheSize(this.cacheSizeBytes):xP.DEFAULT;return new dD(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,rN(),iN(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new QD}}]),n}(wR),_R=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Jt(n,[{key:"initialize",value:function(){var e=Dl(Cl().mark((function e(t){var r,i=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(Lt(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof GD,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Qr:oR.bind(null,r),jr:pR.bind(null,r),zr:gR.bind(null,r),Mi:dR.bind(null,r),Gr:iR.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.pi(function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uR(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=rN();if(!GD.D(t))throw new mS(yS.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new GD(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(xR),SR=function(){function e(){Xt(this,e)}return Jt(e,[{key:"initialize",value:function(){var e=Dl(Cl().mark((function e(t,n){var r=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return MO(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ZO.bind(null,this.syncEngine),e.next=12,XN(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new oO}},{key:"createDatastore",value:function(e){var t,n=aN(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new nN(t));return function(e,t,n,r){return new lN(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return MO(o.syncEngine,e,0)},a=XD.D()?new XD:new YD,new fN(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new SO(e,t,n,r,i,a);return o&&(s.Ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gS(t),lS("RemoteStore","RemoteStore shutting down."),n.Au.add(5),e.next=5,vN(n);case 5:n.vu.shutdown(),n.Pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ER(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Dl(Cl().mark((function r(){var i;return Cl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var IR=function(){function e(t){Xt(this,e),this.observer=t,this.muted=!1}return Jt(e,[{key:"next",value:function(e){this.observer.next&&this.Vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Vc(this.observer.error,e):hS("Uncaught Error in snapshot listener:",e.toString())}},{key:"Sc",value:function(){this.muted=!0}},{key:"Vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),TR=function(){function e(t,n){var r=this;Xt(this,e),this.Dc=t,this.serializer=n,this.metadata=new bS,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then((function(e){e&&e.Gu()?r.metadata.resolve(e.Ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Ku))))}),(function(e){return r.metadata.reject(e)}))}return Jt(e,[{key:"close",value:function(){return this.Dc.cancel()}},{key:"getMetadata",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pc",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){var e=Dl(Cl().mark((function e(){var t,n,r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Nc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Cc.decode(t),r=Number(n),isNaN(r)&&this.kc("length string (".concat(n,") is not valid number")),e.next=9,this.Mc(r);case 9:return i=e.sent,e.abrupt("return",new vO(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Nc",value:function(){var e=Dl(Cl().mark((function e(){var t,n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.kc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mc",value:function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.kc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Cc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kc",value:function(e){throw this.Dc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=Dl(Cl().mark((function e(){var t,n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Dc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),AR=function(){function e(t){Xt(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Jt(e,[{key:"lookup",value:function(){var e=Dl(Cl().mark((function e(t){var n,r=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new mS(yS.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Dl(Cl().mark((function e(t,n){var r,i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gS(t),i=cC(r.serializer)+"/documents",a={documents:n.map((function(e){return aC(r.serializer,e)}))},e.next=5,r.Ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=dC(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());vS(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new _A(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Dl(Cl().mark((function e(){var t,n=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=jS.fromPath(t);n.mutations.push(new SA(r,n.precondition(r)))})),e.next=7,function(){var e=Dl(Cl().mark((function e(t,n){var r,i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gS(t),i=cC(r.serializer)+"/documents",a={writes:n.map((function(e){return pC(r.serializer,e)}))},e.next=3,r.po("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pS();t=RS.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new mS(yS.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(RS.min())?uA.exists(!1):uA.updateTime(t):uA.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(RS.min()))throw new mS(yS.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return uA.updateTime(t)}return uA.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),CR=function(){function e(t,n,r,i,a){Xt(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new oN(this.asyncQueue,"transaction_retry")}return Jt(e,[{key:"run",value:function(){this.Fc-=1,this.Bc()}},{key:"Bc",value:function(){var e=this;this.Lo.xo(Dl(Cl().mark((function t(){var n,r;return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new AR(e.datastore),(r=e.Lc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.qc(t)}))}))})).catch((function(t){e.qc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Lc",value:function(e){try{var t=this.updateFunction(e);return!fE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"qc",value:function(e){var t=this;this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Bc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Uc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!CA(t)}return!1}}]),e}(),PR=function(){function e(t,n,r,i){var a=this;Xt(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=oS.UNAUTHENTICATED,this.clientId=CS.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lS("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return lS("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Jt(e,[{key:"getConfiguration",value:function(){var e=Dl(Cl().mark((function e(){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new mS(yS.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new bS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Dl(Cl().mark((function n(){var r;return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=tO(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function DR(e,t){return NR.apply(this,arguments)}function NR(){return NR=Dl(Cl().mark((function e(t,n){var r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),lS("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,wD(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),NR.apply(this,arguments)}function OR(e,t){return RR.apply(this,arguments)}function RR(){return RR=Dl(Cl().mark((function e(t,n){var r,i;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,LR(t);case 3:return r=e.sent,lS("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return QN(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return QN(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),RR.apply(this,arguments)}function MR(e){return"FirebaseError"===e.name?e.code===yS.FAILED_PRECONDITION||e.code===yS.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function LR(e){return FR.apply(this,arguments)}function FR(){return FR=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return lS("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,DR(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),MR(n=e.t0)){e.next=13;break}throw n;case 13:return fS("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,DR(t,new wR);case 16:e.next=21;break;case 18:return lS("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,DR(t,new wR);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),FR.apply(this,arguments)}function VR(e){return jR.apply(this,arguments)}function jR(){return jR=Dl(Cl().mark((function e(t){return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return lS("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,OR(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return lS("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,OR(t,new SR);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),jR.apply(this,arguments)}function UR(e){return LR(e).then((function(e){return e.persistence}))}function zR(e){return LR(e).then((function(e){return e.localStore}))}function BR(e){return VR(e).then((function(e){return e.remoteStore}))}function qR(e){return VR(e).then((function(e){return e.syncEngine}))}function WR(e){return VR(e).then((function(e){return e.datastore}))}function HR(e){return KR.apply(this,arguments)}function KR(){return KR=Dl(Cl().mark((function e(t){var n,r;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=EO.bind(null,n.syncEngine),r.onUnlisten=CO.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),KR.apply(this,arguments)}function GR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bS;return e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function i(){return Cl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new IR({next:function(a){t.enqueueAndForget((function(){return cO(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new mS(yS.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new mS(yS.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new pO(vT(n.path),a,{includeMetadataChanges:!0,Uu:!0});return sO(e,o)},i.next=3,HR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function QR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new bS;return e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function i(){return Cl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new IR({next:function(n){t.enqueueAndForget((function(){return cO(e,o)})),n.fromCache&&"server"===r.source?i.reject(new mS(yS.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new pO(n,a,{includeMetadataChanges:!0,Uu:!0});return sO(e,o)},i.next=3,HR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var YR=new Map;function XR(e,t,n){if(!n)throw new mS(yS.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $R(e,t,n,r){if(!0===t&&!0===r)throw new mS(yS.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function JR(e){if(!jS.isDocumentKey(e))throw new mS(yS.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ZR(e){if(jS.isDocumentKey(e))throw new mS(yS.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function eM(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":pS()}function tM(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mS(yS.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=eM(e);throw new mS(yS.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function nM(e,t){if(t<=0)throw new mS(yS.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var rM=function(){function e(t){var n;if(Xt(this,e),void 0===t.host){if(void 0!==t.ssl)throw new mS(yS.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new mS(yS.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$R("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}return Jt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),iM=function(){function e(t,n,r,i){Xt(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rM({}),this._settingsFrozen=!1}return Jt(e,[{key:"app",get:function(){if(!this._app)throw new mS(yS.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new mS(yS.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rM(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wS;switch(e.type){case"firstParty":return new ES(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new mS(yS.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=YR.get(e);t&&(lS("ComponentProvider","Removing Datastore"),YR.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function aM(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=tM(e,iM))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&fS("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=oS.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[nl(JSON.stringify({alg:"none",type:"JWT"})),nl(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new mS(yS.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new oS(u)}e._authCredentials=new xS(new kS(o,s))}}var oM=function(){function e(t,n,r){Xt(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Jt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new uM(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),sM=function(){function e(t,n,r){Xt(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Jt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),uM=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this,e,r,vT(i)))._path=i,a.type="collection",a}return Jt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new oM(this.firestore,null,new jS(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(sM);function cM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Al(e),XR("collection","path",t),e instanceof iM){var a=LS.fromString.apply(LS,[t].concat(r));return ZR(a),new uM(e,null,a)}if(!(e instanceof oM||e instanceof uM))throw new mS(yS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(LS.fromString.apply(LS,[t].concat(r)));return ZR(o),new uM(e.firestore,null,o)}function lM(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Al(e),1===arguments.length&&(t=CS.A()),XR("doc","path",t),e instanceof iM){var a=LS.fromString.apply(LS,[t].concat(r));return JR(a),new oM(e,null,new jS(a))}if(!(e instanceof oM||e instanceof uM))throw new mS(yS.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(LS.fromString.apply(LS,[t].concat(r)));return JR(o),new oM(e.firestore,e instanceof uM?e.converter:null,new jS(o))}function hM(e,t){return e=Al(e),t=Al(t),(e instanceof oM||e instanceof uM)&&(t instanceof oM||t instanceof uM)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function fM(e,t){return e=Al(e),t=Al(t),e instanceof sM&&t instanceof sM&&e.firestore===t.firestore&&ST(e._query,t._query)&&e.converter===t.converter}var dM=function(){function e(){var t=this;Xt(this,e),this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new oN(this,"async_queue_retry"),this.Yc=function(){var e=iN();e&&lS("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Lo.ko()};var n=iN();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Yc)}return Jt(e,[{key:"isShuttingDown",get:function(){return this.Qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xc(),this.Zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;var t=iN();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xc(),this.Qc)return new Promise((function(){}));var n=new bS;return this.Zc((function(){return t.Qc&&t.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Gc.push(e),t.ta()}))}},{key:"ta",value:function(){var e=Dl(Cl().mark((function e(){var t=this;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Gc.length){e.next=14;break}return e.prev=1,e.next=4,this.Gc[0]();case 4:this.Gc.shift(),this.Lo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),iE(e.t0)){e.next=12;break}throw e.t0;case 12:lS("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Gc.length>0&&this.Lo.xo((function(){return t.ta()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t=this,n=this.Kc.then((function(){return t.Wc=!0,e().catch((function(e){t.zc=e,t.Wc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hS("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Wc=!1,e}))}));return this.Kc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);var i=eO.createAndSchedule(this,e,t,n,(function(e){return r.ea(e)}));return this.jc.push(i),i}},{key:"Xc",value:function(){this.zc&&pS()}},{key:"verifyOperationInProgress",value:function(){}},{key:"na",value:function(){var e=Dl(Cl().mark((function e(){var t;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Kc,e.next=3,t;case 3:if(t!==this.Kc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){var t,n=Gt(this.jc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ia",value:function(e){var t=this;return this.na().then((function(){t.jc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Gt(t.jc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.na()}))}},{key:"ra",value:function(e){this.Jc.push(e)}},{key:"ea",value:function(e){var t=this.jc.indexOf(e);this.jc.splice(t,1)}}]),e}();function pM(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Gt(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var vM=function(){function e(){Xt(this,e),this._progressObserver={},this._taskCompletionResolver=new bS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Jt(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),gM=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a){var o;return Xt(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new dM,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Jt(n,[{key:"_terminate",value:function(){return this._firestoreClient||mM(this),this._firestoreClient.terminate()}}]),n}(iM);function yM(e){return e._firestoreClient||mM(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mM(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new cI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new PR(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function bM(e,t,n){var r=new bS;return e.asyncQueue.enqueue(Dl(Cl().mark((function i(){var a;return Cl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,DR(e,n);case 3:return i.next=5,OR(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),MR(a=i.t0)){i.next=13;break}throw a;case 13:fS("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function kM(e){return function(e){return e.asyncQueue.enqueue(Dl(Cl().mark((function t(){var n,r;return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,UR(e);case 2:return n=t.sent,t.next=5,BR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=gS(e);return t.Au.delete(0),dN(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(yM(e=tM(e,gM)))}function wM(e){return function(e){return e.asyncQueue.enqueue(Dl(Cl().mark((function t(){var n,r;return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,UR(e);case 2:return n=t.sent,t.next=5,BR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=gS(t)).Au.add(0),e.next=4,vN(n);case 4:n.Pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(yM(e=tM(e,gM)))}function xM(e,t){var n=yM(e=tM(e,gM)),r=new vM;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new TR(e,t)}(function(e,t){if(e instanceof Uint8Array)return ER(e,t);if(e instanceof ArrayBuffer)return ER(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?OA().encode(e):e),t)}(n,aN(t));e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function t(){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=kR,t.next=3,qR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function _M(e,t){return function(e,t){return e.asyncQueue.enqueue(Dl(Cl().mark((function n(){return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=gS(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ls.getNamedQuery(e,t)}))},n.next=3,zR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(yM(e=tM(e,gM)),t).then((function(t){return t?new sM(e,null,t.query):null}))}function SM(e){if(e._initialized||e._terminated)throw new mS(yS.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var EM=function(){function e(t){Xt(this,e),this._byteString=t}return Jt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(tI.fromBase64String(t))}catch(t){throw new mS(yS.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(tI.fromUint8Array(t))}}]),e}(),IM=function(){function e(){Xt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new mS(yS.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new VS(n)}return Jt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var TM=Jt((function e(t){Xt(this,e),this._methodName=t})),AM=function(){function e(t,n){if(Xt(this,e),!isFinite(t)||t<-90||t>90)throw new mS(yS.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new mS(yS.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Jt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return PS(this._lat,e._lat)||PS(this._long,e._long)}}]),e}(),CM=/^__.*__$/,PM=function(){function e(t,n,r){Xt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Jt(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yA(e,this.data,this.fieldMask,t,this.fieldTransforms):new gA(e,this.data,t,this.fieldTransforms)}}]),e}(),DM=function(){function e(t,n,r){Xt(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Jt(e,[{key:"toMutation",value:function(e,t){return new yA(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function NM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pS()}}var OM=function(){function e(t,n,r,i,a,o){Xt(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Jt(e,[{key:"path",get:function(){return this.settings.path}},{key:"ua",get:function(){return this.settings.ua}},{key:"ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"aa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}},{key:"fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}},{key:"da",value:function(e){return this.ca({path:void 0,ha:!0})}},{key:"_a",value:function(e){return ZM(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"oa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.la(this.path.get(e))}},{key:"la",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(NM(this.ua)&&CM.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),RM=function(){function e(t,n,r){Xt(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||aN(t)}return Jt(e,[{key:"ga",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new OM({ua:e,methodName:t,ma:n,path:VS.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function MM(e){var t=e._freezeSettings(),n=aN(e._databaseId);return new RM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LM(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ga(a.merge||a.mergeFields?2:0,t,n,i);YM("Data must be an object, but it was:",o,r);var s,u,c=GM(r,o);if(a.merge)s=new ZE(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,h=[],f=Gt(a.mergeFields);try{for(f.s();!(l=f.n()).done;){var d=XM(t,l.value,n);if(!o.contains(d))throw new mS(yS.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));eL(h,d)||h.push(d)}}catch(p){f.e(p)}finally{f.f()}s=new ZE(h),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new PM(new NI(c),s,u)}var FM=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ua)throw 1===e.ua?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(TM);function VM(e,t,n){return new OM({ua:3,ma:t.settings.ma,methodName:e._methodName,ha:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var jM=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"_toFieldTransform",value:function(e){return new oA(e.path,new JT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(TM),UM=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e)).ya=r,i}return Jt(n,[{key:"_toFieldTransform",value:function(e){var t=VM(this,e,!0),n=this.ya.map((function(e){return KM(e,t)})),r=new ZT(n);return new oA(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TM),zM=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e)).ya=r,i}return Jt(n,[{key:"_toFieldTransform",value:function(e){var t=VM(this,e,!0),n=this.ya.map((function(e){return KM(e,t)})),r=new tA(n);return new oA(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TM),BM=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e)).pa=r,i}return Jt(n,[{key:"_toFieldTransform",value:function(e){var t=new rA(e.serializer,GT(e.serializer,this.pa));return new oA(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(TM);function qM(e,t,n,r){var i=e.ga(1,t,n);YM("Data must be an object, but it was:",i,r);var a=[],o=NI.empty();HE(r,(function(e,r){var s=JM(t,e,n);r=Al(r);var u=i.fa(s);if(r instanceof FM)a.push(s);else{var c=KM(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new ZE(a);return new DM(o,s,i.fieldTransforms)}function WM(e,t,n,r,i,a){var o=e.ga(1,t,n),s=[XM(t,r,n)],u=[i];if(a.length%2!=0)throw new mS(yS.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(XM(t,a[c])),u.push(a[c+1]);for(var l=[],h=NI.empty(),f=s.length-1;f>=0;--f)if(!eL(l,s[f])){var d=s[f],p=u[f];p=Al(p);var v=o.fa(d);if(p instanceof FM)l.push(d);else{var g=KM(p,v);null!=g&&(l.push(d),h.set(d,g))}}var y=new ZE(l);return new DM(h,y,o.fieldTransforms)}function HM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return KM(n,e.ga(r?4:3,t))}function KM(e,t){if(QM(e=Al(e)))return YM("Unsupported field value:",t,e),GM(e,t);if(e instanceof TM)return function(e,t){if(!NM(t.ua))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Gt(e);try{for(a.s();!(n=a.n()).done;){var o=KM(n.value,t.da(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Al(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return GT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=OS.fromDate(e);return{timestampValue:ZA(t.serializer,n)}}if(e instanceof OS){var r=new OS(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ZA(t.serializer,r)}}if(e instanceof AM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof EM)return{bytesValue:eC(t.serializer,e._byteString)};if(e instanceof oM){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:rC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(eM(e)))}(e,t)}function GM(e,t){var n={};return KE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):HE(e,(function(e,r){var i=KM(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function QM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof OS||e instanceof AM||e instanceof EM||e instanceof oM||e instanceof TM)}function YM(e,t,n){if(!QM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=eM(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function XM(e,t,n){if((t=Al(t))instanceof IM)return t._internalPath;if("string"==typeof t)return JM(e,t);throw ZM("Field path arguments must be of type string or ",e,!1,void 0,n)}var $M=new RegExp("[~\\*/\\[\\]]");function JM(e,t,n){if(t.search($M)>=0)throw ZM("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return $c(IM,Yt(t.split(".")))._internalPath}catch(R){throw ZM("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ZM(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new mS(yS.INVALID_ARGUMENT,s+e+u)}function eL(e,t){return e.some((function(e){return e.isEqual(t)}))}var tL=function(){function e(t,n,r,i,a){Xt(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Jt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new oM(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new nL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(rL("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),nL=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"data",value:function(){return Ft(Lt(n.prototype),"data",this).call(this)}}]),n}(tL);function rL(e,t){return"string"==typeof t?JM(e,t):t instanceof IM?t._internalPath:t._delegate._internalPath}function iL(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new mS(yS.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var aL=Jt((function e(){Xt(this,e)})),oL=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n)}(aL);function sL(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof aL&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof cL})).length,n=e.filter((function(e){return e instanceof uL})).length;if(t>1||t>0&&n>0)throw new mS(yS.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=Gt(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var uL=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Jt(n,[{key:"_apply",value:function(e){var t=this._parse(e);return wL(e._query,t),new sM(e.firestore,e.converter,xT(e._query,t))}},{key:"_parse",value:function(e){var t=MM(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new mS(yS.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){kL(o,a);var u,c=[],l=Gt(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push(bL(r,e,h))}}catch(f){l.e(f)}finally{l.f()}s={arrayValue:{values:c}}}else s=bL(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||kL(o,a),s=HM(n,"where",o,"in"===a||"not-in"===a);return zI.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oL);var cL=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Jt(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:BI.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Gt(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;wL(r,a),r=xT(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new sM(e.firestore,e.converter,xT(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(aL);var lL=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Jt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new mS(yS.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new mS(yS.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new VI(t,n);return function(e,t){if(null===yT(e)){var n=mT(e);null!==n&&xL(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new sM(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new dT(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(oL);var hL=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Jt(n,[{key:"_apply",value:function(e){return new sM(e.firestore,e.converter,_T(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oL);var fL=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Jt(n,[{key:"_apply",value:function(e){var t=mL(e,this.type,this._docOrFields,this._inclusive);return new sM(e.firestore,e.converter,function(e,t){return new dT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oL);function dL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fL._create("startAt",t,!0)}function pL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fL._create("startAfter",t,!1)}var vL=function(e){jt(n,e);var t=zt(n);function n(e,r,i){var a;return Xt(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Jt(n,[{key:"_apply",value:function(e){var t=mL(e,this.type,this._docOrFields,this._inclusive);return new sM(e.firestore,e.converter,function(e,t){return new dT(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(oL);function gL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vL._create("endBefore",t,!1)}function yL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vL._create("endAt",t,!0)}function mL(e,t,n,r){if(n[0]=Al(n[0]),n[0]instanceof tL)return function(e,t,n,r,i){if(!r)throw new mS(yS.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Gt(kT(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(kI(t,r.key));else{var c=r.data.field(u.field);if(oI(c))throw new mS(yS.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new mS(yS.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(h){s.e(h)}finally{s.f()}return new MI(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=MM(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new mS(yS.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new mS(yS.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!bT(e)&&-1!==c.indexOf("/"))throw new mS(yS.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(LS.fromString(c));if(!jS.isDocumentKey(l))throw new mS(yS.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var h=new jS(l);s.push(kI(t,h))}else{var f=HM(n,r,c);s.push(f)}}return new MI(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function bL(e,t,n){if("string"==typeof(n=Al(n))){if(""===n)throw new mS(yS.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bT(t)&&-1!==n.indexOf("/"))throw new mS(yS.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(LS.fromString(n));if(!jS.isDocumentKey(r))throw new mS(yS.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return kI(e,new jS(r))}if(n instanceof oM)return kI(e,n._key);throw new mS(yS.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(eM(n),"."))}function kL(e,t){if(!Array.isArray(e)||0===e.length)throw new mS(yS.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function wL(e,t){if(t.isInequality()){var n=mT(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new mS(yS.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=yT(e);null!==i&&xL(e,r,i)}var a=function(e,t){var n,r=Gt(e);try{for(r.s();!(n=r.n()).done;){var i,a=Gt(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new mS(yS.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new mS(yS.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function xL(e,t,n){if(!n.isEqual(t))throw new mS(yS.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var _L=function(){function e(){Xt(this,e)}return Jt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(dI(e)){case 0:return null;case 1:return e.booleanValue;case 2:return iI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(aI(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pS()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return HE(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new AM(iI(e.latitude),iI(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=sI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(uI(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=rI(e);return new OS(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=LS.fromString(e);vS(TC(n));var r=new lI(n.get(1),n.get(3)),i=new jS(n.popFirst(5));return r.isEqual(t)||hS("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function SL(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var EL=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).firestore=e,r}return Jt(n,[{key:"convertBytes",value:function(e){return new EM(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oM(this.firestore,null,t)}}]),n}(_L);var IL=function(){function e(t,n){Xt(this,e),this.hasPendingWrites=t,this.fromCache=n}return Jt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),TL=function(e){jt(n,e);var t=zt(n);function n(e,r,i,a,o,s){var u;return Xt(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Jt(n,[{key:"exists",value:function(){return Ft(Lt(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new AL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(rL("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(tL),AL=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ft(Lt(n.prototype),"data",this).call(this,e)}}]),n}(TL),CL=function(){function e(t,n,r,i){Xt(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new IL(i.hasPendingWrites,i.fromCache),this.query=r}return Jt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new AL(n._firestore,n._userDataWriter,r.key,r,new IL(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mS(yS.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new AL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new IL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new AL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new IL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:PL(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function PL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pS()}}function DL(e,t){return e instanceof TL&&t instanceof TL?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof CL&&t instanceof CL&&e._firestore===t._firestore&&fM(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var NL=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).firestore=e,r}return Jt(n,[{key:"convertBytes",value:function(e){return new EM(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new oM(this.firestore,null,t)}}]),n}(_L);function OL(e){e=tM(e,oM);var t=tM(e.firestore,gM),n=yM(t),r=new NL(t);return function(e,t){var n=new bS;return e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function r(){return Cl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Dl(Cl().mark((function e(t,n,r){var i,a;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=gS(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new mS(yS.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=tO(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new TL(t,r,e._key,n,new IL(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function RL(e){e=tM(e,sM);var t=tM(e.firestore,gM),n=yM(t),r=new NL(t);return function(e,t){var n=new bS;return e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function r(){return Cl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Dl(Cl().mark((function e(t,n,r){var i,a,o,s,u;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,DD(t,n,!0);case 3:i=e.sent,a=new wO(n,i.sr),o=a.nc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=tO(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new CL(t,r,e,n)}))}function ML(e,t,n){e=tM(e,oM);var r=tM(e.firestore,gM),i=SL(e.converter,t,n);return jL(r,[LM(MM(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,uA.none())])}function LL(e,t,n){e=tM(e,oM);for(var r=tM(e.firestore,gM),i=MM(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return jL(r,[("string"==typeof(t=Al(t))||t instanceof IM?WM(i,"updateDoc",e._key,t,n,o):qM(i,"updateDoc",e._key,t)).toMutation(e._key,uA.exists(!0))])}function FL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Al(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||pM(n[u])||(s=n[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(pM(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof oM)l=tM(e.firestore,gM),h=vT(e._key.path),c={next:function(t){n[u]&&n[u](UL(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=tM(e,sM);l=tM(p.firestore,gM),h=p._query;var v=new NL(l);c={next:function(e){n[u]&&n[u](new CL(l,v,p,e))},error:n[u+1],complete:n[u+2]},iL(e._query)}return function(e,t,n,r){var i=new IR(r),a=new pO(t,i,n);return e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function t(){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sO,t.next=3,HR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Sc(),e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function t(){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cO,t.next=3,HR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(yM(l),h,f,c)}function VL(e,t){return function(e,t){var n=new IR(t);return e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function t(){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gS(e).Nu.add(t),t.next()},t.next=3,HR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Sc(),e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function t(){return Cl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){gS(e).Nu.delete(t)},t.next=3,HR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(yM(e=tM(e,gM)),pM(t)?t:{next:t})}function jL(e,t){return function(e,t){var n=new bS;return e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function r(){return Cl().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=DO,r.next=3,qR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(yM(e),t)}function UL(e,t,n){var r=n.docs.get(t._key),i=new NL(e);return new TL(e,i,t._key,r,new IL(n.hasPendingWrites,n.fromCache),t.converter)}var zL={maxAttempts:5},BL=function(){function e(t,n){Xt(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=MM(t)}return Jt(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=qL(e,this._firestore),i=SL(r.converter,t,n),a=LM(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,uA.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=qL(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Al(t))||t instanceof IM?WM(this._dataReader,"WriteBatch.update",i._key,t,n,o):qM(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,uA.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=qL(e,this._firestore);return this._mutations=this._mutations.concat(new _A(t._key,uA.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new mS(yS.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function qL(e,t){if((e=Al(e)).firestore!==t)throw new mS(yS.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var WL=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e,r))._firestore=e,i}return Jt(n,[{key:"get",value:function(e){var t=this,r=qL(e,this._firestore),i=new NL(this._firestore);return Ft(Lt(n.prototype),"get",this).call(this,e).then((function(e){return new TL(t._firestore,i,r._key,e._document,new IL(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Xt(this,e),this._firestore=t,this._transaction=n,this._dataReader=MM(t)}return Jt(e,[{key:"get",value:function(e){var t=this,n=qL(e,this._firestore),r=new EL(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return pS();var i=e[0];if(i.isFoundDocument())return new tL(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new tL(t._firestore,r,n._key,null,n.converter);throw pS()}))}},{key:"set",value:function(e,t,n){var r=qL(e,this._firestore),i=SL(r.converter,t,n),a=LM(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=qL(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Al(t))||t instanceof IM?WM(this._dataReader,"Transaction.update",i._key,t,n,o):qM(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=qL(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function HL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new UM("arrayUnion",t)}function KL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zM("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sS=e}(Ih),bh(new Nl("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new gM(new _S(e.getProvider("auth-internal")),new TS(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mS(yS.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lI(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Nh(aS,"3.11.0",e),Nh(aS,"3.11.0","esm2017")}();function GL(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new mS("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function QL(){if("undefined"===typeof Uint8Array)throw new mS("unimplemented","Uint8Arrays are not available in this environment.")}function YL(){if("undefined"==typeof atob)throw new mS("unimplemented","Blobs are unavailable in Firestore in this environment.")}var XL=function(){function e(t){Xt(this,e),this._delegate=t}return Jt(e,[{key:"toBase64",value:function(){return YL(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return QL(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return YL(),new e(EM.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return QL(),new e(EM.fromUint8Array(t))}}]),e}();function $L(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Gt(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var JL=function(){function e(){Xt(this,e)}return Jt(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){SM(e=tM(e,gM));var n=yM(e);if(n._uninitializedComponentsProvider)throw new mS(yS.FAILED_PRECONDITION,"SDK cache is already specified.");fS("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new SR;return bM(n,i,new xR(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){SM(e=tM(e,gM));var t=yM(e);if(t._uninitializedComponentsProvider)throw new mS(yS.FAILED_PRECONDITION,"SDK cache is already specified.");fS("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new SR;return bM(t,r,new _R(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new mS(yS.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new bS;return e._queue.enqueueAndForgetEvenWhileRestricted(Dl(Cl().mark((function n(){return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Dl(Cl().mark((function e(t){var n;return Cl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tE.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,tE.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(gD(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),ZL=function(){function e(t,n,r){var i=this;Xt(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof lI||(this._appCompat=t)}return Jt(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||fS("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};aM(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return kM(this._delegate)}},{key:"disableNetwork",value:function(){return wM(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&$R("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new bS;return e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function n(){return Cl().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=BO,n.next=3,qR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(yM(e=tM(e,gM)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return VL(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new mS("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new dF(this,cM(this._delegate,e))}catch(t){throw aF(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new iF(this,lM(this._delegate,e))}catch(t){throw aF(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new lF(this,function(e,t){if(e=tM(e,iM),XR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mS(yS.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new sM(e,null,function(e){return new dT(LS.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw aF(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=tM(e,gM);var r=Object.assign(Object.assign({},zL),n);return function(e){if(e.maxAttempts<1)throw new mS(yS.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new bS;return e.asyncQueue.enqueueAndForget(Dl(Cl().mark((function i(){var a;return Cl().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,WR(e);case 2:a=i.sent,new CR(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(yM(e),(function(n){return t(new WL(e,n))}),r)}(this._delegate,(function(n){return e(new tF(t,n))}))}},{key:"batch",value:function(){var e=this;return yM(this._delegate),new nF(new BL(this._delegate,(function(t){return jL(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return xM(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return _M(this._delegate,e).then((function(e){return e?new lF(t,e):null}))}}]),e}(),eF=function(e){jt(n,e);var t=zt(n);function n(e){var r;return Xt(this,n),(r=t.call(this)).firestore=e,r}return Jt(n,[{key:"convertBytes",value:function(e){return new XL(new EM(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return iF.forKey(t,this.firestore,null)}}]),n}(_L);var tF=function(){function e(t,n){Xt(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new eF(t)}return Jt(e,[{key:"get",value:function(e){var t=this,n=pF(e);return this._delegate.get(n).then((function(e){return new uF(t._firestore,new TL(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=pF(e);return n?(GL("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=pF(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=pF(e);return this._delegate.delete(t),this}}]),e}(),nF=function(){function e(t){Xt(this,e),this._delegate=t}return Jt(e,[{key:"set",value:function(e,t,n){var r=pF(e);return n?(GL("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=pF(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=pF(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),rF=function(){function e(t,n,r){Xt(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Jt(e,[{key:"fromFirestore",value:function(e,t){var n=new AL(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new cF(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new eF(t),n),i.set(n,a)),a}}]),e}();rF.INSTANCES=new WeakMap;var iF=function(){function e(t,n){Xt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new eF(t)}return Jt(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new dF(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new dF(this.firestore,cM(this._delegate,e))}catch(t){throw aF(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Al(e))instanceof oM&&hM(this._delegate,e)}},{key:"set",value:function(e,t){t=GL("DocumentReference.set",t);try{return t?ML(this._delegate,e,t):ML(this._delegate,e)}catch(n){throw aF(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?LL(this._delegate,e):LL.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw aF(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return jL(tM(e.firestore,gM),[new _A(e._key,uA.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=oF(n),a=sF(n,(function(t){return new uF(e.firestore,new TL(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return FL(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?OL(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tM(e,oM);var t=tM(e.firestore,gM);return GR(yM(t),e._key,{source:"server"}).then((function(n){return UL(t,e,n)}))}(this._delegate):function(e){e=tM(e,oM);var t=tM(e.firestore,gM);return GR(yM(t),e._key).then((function(n){return UL(t,e,n)}))}(this._delegate),t.then((function(e){return new uF(n.firestore,new TL(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(rF.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new mS("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new oM(n._delegate,r,new jS(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new oM(n._delegate,r,t))}}]),e}();function aF(e,t,n){return e.message=e.message.replace(t,n),e}function oF(e){var t,n=Gt(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!$L(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function sF(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=$L(e[0])?e[0]:$L(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var uF=function(){function e(t,n){Xt(this,e),this._firestore=t,this._delegate=n}return Jt(e,[{key:"ref",get:function(){return new iF(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return DL(this._delegate,e._delegate)}}]),e}(),cF=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||pS()}(void 0!==t),t}}]),n}(uF),lF=function(){function e(t,n){Xt(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new eF(t)}return Jt(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,sL(this._delegate,function(e,t,n){var r=t,i=rL("where",e);return uL._create(i,r,n)}(t,n,r)))}catch(i){throw aF(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,sL(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=rL("orderBy",e);return lL._create(n,t)}(t,n)))}catch(r){throw aF(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,sL(this._delegate,function(e){return nM("limit",e),hL._create("limit",e,"F")}(t)))}catch(n){throw aF(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,sL(this._delegate,function(e){return nM("limitToLast",e),hL._create("limitToLast",e,"L")}(t)))}catch(n){throw aF(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,sL(this._delegate,dL.apply(void 0,arguments)))}catch(t){throw aF(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,sL(this._delegate,pL.apply(void 0,arguments)))}catch(t){throw aF(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,sL(this._delegate,gL.apply(void 0,arguments)))}catch(t){throw aF(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,sL(this._delegate,yL.apply(void 0,arguments)))}catch(t){throw aF(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return fM(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?RL(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=tM(e,sM);var t=tM(e.firestore,gM),n=yM(t),r=new NL(t);return QR(n,e._query,{source:"server"}).then((function(n){return new CL(t,r,e,n)}))}(this._delegate):function(e){e=tM(e,sM);var t=tM(e.firestore,gM),n=yM(t),r=new NL(t);return iL(e._query),QR(n,e._query).then((function(n){return new CL(t,r,e,n)}))}(this._delegate),t.then((function(e){return new fF(n.firestore,new CL(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=oF(n),a=sF(n,(function(t){return new fF(e.firestore,new CL(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return FL(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(rF.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),hF=function(){function e(t,n){Xt(this,e),this._firestore=t,this._delegate=n}return Jt(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new cF(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),fF=function(){function e(t,n){Xt(this,e),this._firestore=t,this._delegate=n}return Jt(e,[{key:"query",get:function(){return new lF(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new cF(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new hF(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new cF(n._firestore,r))}))}},{key:"isEqual",value:function(e){return DL(this._delegate,e._delegate)}}]),e}(),dF=function(e){jt(n,e);var t=zt(n);function n(e,r){var i;return Xt(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Jt(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new iF(this.firestore,e):null}},{key:"doc",value:function(e){try{return new iF(this.firestore,void 0===e?lM(this._delegate):lM(this._delegate,e))}catch(t){throw aF(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=tM(e.firestore,gM),r=lM(e),i=SL(e.converter,t);return jL(n,[LM(MM(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,uA.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new iF(t.firestore,e)}))}},{key:"isEqual",value:function(e){return hM(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(rF.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(lF);function pF(e){return tM(e,oM)}var vF=function(){function e(){Xt(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=$c(IM,n)}return Jt(e,[{key:"isEqual",value:function(e){return(e=Al(e))instanceof IM&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(VS.keyField().canonicalString())}}]),e}(),gF=function(){function e(t){Xt(this,e),this._delegate=t}return Jt(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new jM("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new FM("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=HL.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=KL.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new BM("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),yF={Firestore:ZL,GeoPoint:AM,Timestamp:OS,Blob:XL,Transaction:tF,WriteBatch:nF,DocumentReference:iF,DocumentSnapshot:uF,Query:lF,QueryDocumentSnapshot:cF,QuerySnapshot:fF,CollectionReference:dF,FieldPath:vF,FieldValue:gF,setLogLevel:function(e){!function(e){uS.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Nl("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},yF)))}(e,(function(e,t){return new ZL(e,t,new JL)})),e.registerVersion("@firebase/firestore-compat","0.3.8")}(af);af.initializeApp({apiKey:"AIzaSyApT9vnkKfCQJGZWxX0bwZh7I9XFQlPZkg",authDomain:"assignment-1-45829.firebaseapp.com",projectId:"assignment-1-45829",storageBucket:"assignment-1-45829.appspot.com",messagingSenderId:"668378045398",appId:"1:668378045398:web:f60e082394dcad07f96277"}).firestore();var mF=af.auth();var bF=n.p+"static/media/google-icon 1.5278f24075a9e91873aa15eb4d850238.svg";var kF,wF=n.p+"static/media/apple 1.0094fa1b70f174faff968a16b4e8d4fd.svg",xF=function(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null);return(0,Et.jsxs)("div",{children:[(0,Et.jsxs)("div",{className:"form-header mt-8 mb-6 text-center",children:[(0,Et.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Sign In"}),(0,Et.jsx)("h3",{className:"text-base",children:"Sign in to your account"})]}),(0,Et.jsxs)("div",{className:"buttons flex flex-col gap-6 md:flex-row md:justify-center",children:[(0,Et.jsxs)("div",{className:"signin-google flex items-center gap-2 cursor-pointer bg-white rounded-lg w-52 h-12 px-4 font-medium text-sm text-gray-700",children:[(0,Et.jsx)("img",{src:bF,alt:"",className:"w-4 h-4 "}),"Sign in with Google"]}),(0,Et.jsxs)("div",{className:"signin-apple flex items-center gap-2 cursor-pointer bg-white rounded-lg w-52 h-12 px-4 font-medium text-sm text-gray-700",children:[(0,Et.jsx)("img",{src:wF,alt:"",className:"w-4 h-4 "}),"Sign in with Apple"]})]}),(0,Et.jsxs)("div",{className:"form flex flex-col gap-5 bg-white rounded-lg w-full max-w-md mx-auto py-6 px-8 mt-8",children:[(0,Et.jsxs)("div",{className:"email-input flex flex-col gap-4",children:[(0,Et.jsx)("label",{htmlFor:"email",className:"font-medium",children:"Email address"}),(0,Et.jsx)("input",{ref:e,type:"email",name:"email",id:"email",className:"bg-gray-100 rounded-lg w-full h-10 px-4"})]}),(0,Et.jsxs)("div",{className:"password-input flex flex-col gap-4",children:[(0,Et.jsx)("label",{htmlFor:"password",className:"font-medium",children:"Password"}),(0,Et.jsx)("input",{ref:n,type:"password",name:"password",id:"password",className:"bg-gray-100 rounded-lg w-full h-10 px-4"})]}),(0,Et.jsx)("a",{href:"#",className:"forgot-password text-blue-500 text-sm",children:"Forgot password?"}),(0,Et.jsx)("button",{className:"signin-button bg-black rounded-lg text-white font-bold text-base py-2 px-4 mt-4",onClick:function(t){t.preventDefault(),mF.signInWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},children:"Sign In"})]}),(0,Et.jsxs)("h3",{className:"register text-center text-sm text-gray-700 mt-8",children:["Don\u2019t have an account?"," ",(0,Et.jsx)("span",{className:"register-button text-blue-500 cursor-pointer",onClick:function(t){t.preventDefault(),mF.createUserWithEmailAndPassword(e.current.value,n.current.value).then((function(e){console.log(e)})).catch((function(e){alert(e.message)}))},children:"Register here"})]})]})},_F=function(){return(0,Et.jsxs)("div",{className:"signin-page flex flex-row justify-center items-center h-screen",children:[(0,Et.jsx)("div",{className:"left-side bg-black h-full w-2/5 flex justify-center items-center",children:(0,Et.jsx)("h1",{className:"font-montserrat font-bold text-6xl text-white",children:"Board."})}),(0,Et.jsx)("div",{className:"right-side bg-gray-200  h-screen w-3/5 flex-1 flex justify-center items-center",children:(0,Et.jsx)(xF,{})})]})};function SF(){return SF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SF.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(kF||(kF={}));var EF,IF="popstate";function TF(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function AF(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function CF(e,t){return{usr:e.state,key:e.key,idx:t}}function PF(e,t,n,r){return void 0===n&&(n=null),SF({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?NF(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function DF(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function NF(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function OF(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=kF.Pop,h=null,f=d();function d(){return(c.state||{idx:null}).idx}function p(){l=kF.Pop;var e=d(),t=null==e?null:e-f;f=e,h&&h({action:l,location:g.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:DF(e);return TF(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,c.replaceState(SF({},c.state,{idx:f}),""));var g={get action(){return l},get location(){return e(o,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(IF,p),h=e,function(){o.removeEventListener(IF,p),h=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=kF.Push;var r=PF(g.location,e,t);n&&n(r,e);var i=CF(r,f=d()+1),a=g.createHref(r);try{c.pushState(i,"",a)}catch(s){o.location.assign(a)}u&&h&&h({action:l,location:g.location,delta:1})},replace:function(e,t){l=kF.Replace;var r=PF(g.location,e,t);n&&n(r,e);var i=CF(r,f=d()),a=g.createHref(r);c.replaceState(i,"",a),u&&h&&h({action:l,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(EF||(EF={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function RF(e,t,n){void 0===n&&(n="/");var r=QF(("string"===typeof t?NF(t):t).pathname||"/",n);if(null==r)return null;var i=MF(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=HF(i[o],GF(r));return a}function MF(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(TF(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=YF([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(TF(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),MF(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:WF(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Gt(LF(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function LF(e){var t=e.split("/");if(0===t.length)return[];var n=of(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=LF(i.join("/")),u=[];return u.push.apply(u,Yt(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,Yt(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var FF=/^:\w+$/,VF=3,jF=2,UF=1,zF=10,BF=-2,qF=function(e){return"*"===e};function WF(e,t){var n=e.split("/"),r=n.length;return n.some(qF)&&(r+=BF),t&&(r+=jF),n.filter((function(e){return!qF(e)})).reduce((function(e,t){return e+(FF.test(t)?VF:""===t?UF:zF)}),r)}function HF(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=KF({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:YF([i,l.pathname]),pathnameBase:XF(YF([i,l.pathnameBase])),route:h}),"/"!==l.pathnameBase&&(i=YF([i,l.pathnameBase]))}return a}function KF(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);AF("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=Kt(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return AF(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function GF(e){try{return decodeURI(e)}catch(t){return AF(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function QF(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var YF=function(e){return e.join("/").replace(/\/\/+/g,"/")},XF=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},$F=function(e){jt(n,e);var t=zt(n);function n(){return Xt(this,n),t.apply(this,arguments)}return Jt(n)}(Jc(Error));function JF(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ZF=["post","put","patch","delete"],eV=(new Set(ZF),["get"].concat(ZF));new Set(eV),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function tV(){return tV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tV.apply(this,arguments)}var nV=t.createContext(null);var rV=t.createContext(null);var iV=t.createContext(null);var aV=t.createContext(null);var oV=t.createContext(null);var sV=t.createContext({outlet:null,matches:[],isDataRoute:!1});var uV=t.createContext(null);function cV(){return null!=t.useContext(oV)}function lV(){return cV()||TF(!1),t.useContext(oV).location}function hV(e,n,r){cV()||TF(!1);var i,a=t.useContext(aV).navigator,o=t.useContext(sV).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,lV());if(n){var h,f="string"===typeof n?NF(n):n;"/"===c||(null==(h=f.pathname)?void 0:h.startsWith(c))||TF(!1),i=f}else i=l;var d=i.pathname||"/",p=RF(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=mV(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:YF([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:YF([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(oV.Provider,{value:{location:tV({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:kF.Pop}},v):v}function fV(){var e=function(){var e,n=t.useContext(uV),r=bV(pV.UseRouteError),i=kV(pV.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=JF(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var dV,pV,vV=t.createElement(fV,null),gV=function(e){jt(r,e);var n=zt(r);function r(e){var t;return Xt(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return Jt(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(sV.Provider,{value:this.props.routeContext},t.createElement(uV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function yV(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(nV);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(sV.Provider,{value:n},i)}function mV(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||TF(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||vV);var l=n.concat(o.slice(0,a+1)),h=function(){var n;return n=u?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(yV,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(gV,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:h(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):h()}),null)}function bV(e){var n=t.useContext(rV);return n||TF(!1),n}function kV(e){var n=function(e){var n=t.useContext(sV);return n||TF(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||TF(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(dV||(dV={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(pV||(pV={}));var wV;function xV(e){TF(!1)}function _V(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?kF.Pop:s,c=e.navigator,l=e.static,h=void 0!==l&&l;cV()&&TF(!1);var f=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:f,navigator:c,static:h}}),[f,c,h]);"string"===typeof o&&(o=NF(o));var p=o,v=p.pathname,g=void 0===v?"/":v,y=p.search,m=void 0===y?"":y,b=p.hash,k=void 0===b?"":b,w=p.state,x=void 0===w?null:w,_=p.key,S=void 0===_?"default":_,E=t.useMemo((function(){var e=QF(g,f);return null==e?null:{location:{pathname:e,search:m,hash:k,state:x,key:S},navigationType:u}}),[f,g,m,k,x,S,u]);return null==E?null:t.createElement(aV.Provider,{value:d},t.createElement(oV.Provider,{children:a,value:E}))}function SV(e){var t=e.children,n=e.location;return hV(IV(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(wV||(wV={}));var EV=new Promise((function(){}));t.Component;function IV(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(Yt(n),[i]);if(e.type!==t.Fragment){e.type!==xV&&TF(!1),e.props.index&&e.props.children&&TF(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=IV(e.props.children,a)),r.push(o)}else r.push.apply(r,IV(e.props.children,a))}})),r}function TV(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),OF((function(e,t){var n=e.location;return PF("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:DF(t)}),null,n)));var s=o.current,u=Kt(t.useState({action:s.action,location:s.location}),2),c=u[0],l=u[1];return t.useLayoutEffect((function(){return s.listen(l)}),[s]),t.createElement(_V,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var AV,CV;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(AV||(AV={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(CV||(CV={}));var PV=function(){var e=v(_t),n=S();return(0,t.useEffect)((function(){return mF.onAuthStateChanged((function(e){n(e?wt({uid:e.uid,email:e.email}):xt())}))}),[n]),(0,Et.jsx)(Et.Fragment,{children:(0,Et.jsx)(TV,{children:e?(0,Et.jsx)(SV,{children:(0,Et.jsx)(xV,{exact:!0,path:"/",element:(0,Et.jsx)(Xc,{})})}):(0,Et.jsx)(_F,{})})})},DV=document.getElementById("root");(0,r.s)(DV).render((0,Et.jsx)(t.StrictMode,{children:(0,Et.jsx)(b,{store:St,children:(0,Et.jsx)(PV,{})})}))}()}();
//# sourceMappingURL=main.c3b54373.js.map